!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("jquery"));else if("function"==typeof define&&define.amd)define(["jquery"],e);else{var n="object"==typeof exports?e(require("jquery")):e(t.$);for(var a in n)("object"==typeof exports?exports:t)[a]=n[a]}}(window,(function(__WEBPACK_EXTERNAL_MODULE__1__){return function(t){var e={};function n(a){if(e[a])return e[a].exports;var r=e[a]={i:a,l:!1,exports:{}};return t[a].call(r.exports,r,r.exports,n),r.l=!0,r.exports}return n.m=t,n.c=e,n.d=function(t,e,a){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:a})},n.r=function(t){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"==typeof t&&t&&t.__esModule)return t;var a=Object.create(null);if(n.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var r in t)n.d(a,r,function(e){return t[e]}.bind(null,r));return a},n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s=20)}([function(t,e,n){"use strict";function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=o(t)););return t}(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function i(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function o(t){return(o=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function s(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&l(t,e)}function l(t,e){return(l=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function c(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function h(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function u(t,e,n){return e&&h(t.prototype,e),n&&h(t,n),t}n.d(e,"l",(function(){return _})),n.d(e,"x",(function(){return g})),n.d(e,"o",(function(){return f})),n.d(e,"r",(function(){return p})),n.d(e,"e",(function(){return m})),n.d(e,"H",(function(){return v})),n.d(e,"f",(function(){return y})),n.d(e,"z",(function(){return w})),n.d(e,"w",(function(){return M})),n.d(e,"b",(function(){return k})),n.d(e,"F",(function(){return D})),n.d(e,"v",(function(){return x})),n.d(e,"h",(function(){return E})),n.d(e,"m",(function(){return I})),n.d(e,"s",(function(){return O})),n.d(e,"j",(function(){return R})),n.d(e,"u",(function(){return S})),n.d(e,"a",(function(){return T})),n.d(e,"B",(function(){return L})),n.d(e,"c",(function(){return N})),n.d(e,"p",(function(){return j})),n.d(e,"d",(function(){return U})),n.d(e,"y",(function(){return B})),n.d(e,"A",(function(){return W})),n.d(e,"n",(function(){return F})),n.d(e,"q",(function(){return z})),n.d(e,"g",(function(){return V})),n.d(e,"G",(function(){return G})),n.d(e,"E",(function(){return Z})),n.d(e,"t",(function(){return K})),n.d(e,"i",(function(){return H})),n.d(e,"k",(function(){return X})),n.d(e,"D",(function(){return J})),n.d(e,"C",(function(){return Q}));var _=function(){function t(){c(this,t)}return u(t,[{key:"getDataSource",value:function(){return this._ds}},{key:"setDataSource",value:function(t){return this._ds=t}},{key:"getFirstIndex",value:function(){return this._firstIndex}},{key:"setFirstIndex",value:function(t){return this._firstIndex=t}}],[{key:"get",value:function(){return this.inst}},{key:"set",value:function(t){this.inst=t}}]),t}();_.inst=null,_._ds=null,_._firstIndex=null;var d=function(){function t(){c(this,t),this._rid=0}return u(t,[{key:"execute",value:function(t){}},{key:"reserve",value:function(t,e){}},{key:"clear",value:function(){}}]),t}(),g=function(t){function e(){return c(this,e),i(this,o(e).apply(this,arguments))}return s(e,t),u(e,[{key:"execute",value:function(t){return _.get()._ds.getDataAt(t).open}}]),e}(d),f=function(t){function e(){return c(this,e),i(this,o(e).apply(this,arguments))}return s(e,t),u(e,[{key:"execute",value:function(t){return _.get()._ds.getDataAt(t).high}}]),e}(d),p=function(t){function e(){return c(this,e),i(this,o(e).apply(this,arguments))}return s(e,t),u(e,[{key:"execute",value:function(t){return _.get()._ds.getDataAt(t).low}}]),e}(d),m=function(t){function e(){return c(this,e),i(this,o(e).apply(this,arguments))}return s(e,t),u(e,[{key:"execute",value:function(t){return _.get()._ds.getDataAt(t).close}}]),e}(d),v=function(t){function e(){return c(this,e),i(this,o(e).apply(this,arguments))}return s(e,t),u(e,[{key:"execute",value:function(t){return _.get()._ds.getDataAt(t).volume}}]),e}(d),y=function(t){function e(t){var n;return c(this,e),(n=i(this,o(e).call(this)))._value=t,n}return s(e,t),u(e,[{key:"execute",value:function(t){return this._value}}]),e}(d),w=function(t){function e(t,n,a,r){var s;return c(this,e),(s=i(this,o(e).call(this)))._name=t,s._minValue=n,s._maxValue=a,s._value=s._defaultValue=r,s}return s(e,t),u(e,[{key:"execute",value:function(t){return this._value}},{key:"getMinValue",value:function(){return this._minValue}},{key:"getMaxValue",value:function(){return this._maxValue}},{key:"getDefaultValue",value:function(){return this._defaultValue}},{key:"getValue",value:function(){return this._value}},{key:"setValue",value:function(t){0===t?this._value=0:t<this._minValue?this._value=this._minValue:t>this._maxValue?this._value=this._maxValue:this._value=t}}]),e}(d),b=function(t){function e(t){var n;return c(this,e),(n=i(this,o(e).call(this)))._exprA=t,n}return s(e,t),u(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear()}}]),e}(d),A=function(t){function e(t,n){var a;return c(this,e),(a=i(this,o(e).call(this)))._exprA=t,a._exprB=n,a}return s(e,t),u(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e),this._exprB.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear(),this._exprB.clear()}}]),e}(d),P=function(t){function e(t,n,a){var r;return c(this,e),(r=i(this,o(e).call(this)))._exprA=t,r._exprB=n,r._exprC=a,r}return s(e,t),u(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e),this._exprB.reserve(t,e),this._exprC.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear(),this._exprB.clear(),this._exprC.clear()}}]),e}(d),C=function(t){function e(t,n,a,r){var s;return c(this,e),(s=i(this,o(e).call(this)))._exprA=t,s._exprB=n,s._exprC=a,s._exprD=r,s}return s(e,t),u(e,[{key:"reserve",value:function(t,e){this._rid<t&&(this._rid=t,this._exprA.reserve(t,e),this._exprB.reserve(t,e),this._exprC.reserve(t,e),this._exprD.reserve(t,e))}},{key:"clear",value:function(){this._exprA.clear(),this._exprB.clear(),this._exprC.clear(),this._exprD.clear()}}]),e}(d),M=function(t){function e(t){return c(this,e),i(this,o(e).call(this,t))}return s(e,t),u(e,[{key:"execute",value:function(t){return-this._exprA.execute(t)}}]),e}(b),k=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return this._exprA.execute(t)+this._exprB.execute(t)}}]),e}(A),D=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return this._exprA.execute(t)-this._exprB.execute(t)}}]),e}(A),x=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return this._exprA.execute(t)*this._exprB.execute(t)}}]),e}(A),E=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){var e=this._exprA.execute(t),n=this._exprB.execute(t);return 0===e?e:0===n?e>0?1e6:-1e6:e/n}}]),e}(A),I=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return this._exprA.execute(t)>this._exprB.execute(t)?1:0}}]),e}(A),O=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return this._exprA.execute(t)<this._exprB.execute(t)?1:0}}]),e}(A),R=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return this._exprA.execute(t)===this._exprB.execute(t)?1:0}}]),e}(A),S=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return Math.max(this._exprA.execute(t),this._exprB.execute(t))}}]),e}(A),T=function(t){function e(t){return c(this,e),i(this,o(e).call(this,t))}return s(e,t),u(e,[{key:"execute",value:function(t){return Math.abs(this._exprA.execute(t))}}]),e}(b),L=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){if((void 0===this._offset||this._offset<0)&&(this._offset=this._exprB.execute(t),this._offset<0))throw"offset < 0";if((t-=this._offset)<0)throw"index < 0";var e=this._exprA.execute(t);if(isNaN(e))throw"NaN";return e}}]),e}(A),N=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"execute",value:function(t){return 0!==this._exprA.execute(t)&&0!==this._exprB.execute(t)?1:0}}]),e}(A),j=function(t){function e(t,n,a){return c(this,e),i(this,o(e).call(this,t,n,a))}return s(e,t),u(e,[{key:"execute",value:function(t){return 0!==this._exprA.execute(t)?this._exprB.execute(t):this._exprC.execute(t)}}]),e}(P),U=function(t){function e(t,n){var a;return c(this,e),(a=i(this,o(e).call(this,n)))._name=t,a._buf=[],a}return s(e,t),u(e,[{key:"getName",value:function(){return this._name}},{key:"execute",value:function(t){return this._buf[t]}},{key:"assign",value:function(t){if(this._buf[t]=this._exprA.execute(t),_.get()._firstIndex>=0&&isNaN(this._buf[t])&&!isNaN(this._buf[t-1]))throw this._name+".assign("+t+"): NaN"}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var a=n;a>0;a--)this._buf.push(NaN);r(o(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){r(o(e.prototype),"clear",this).call(this),this._buf=[]}}]),e}(b),B=function(t){function e(t,n,a,r){var s;return c(this,e),(s=i(this,o(e).call(this,t,n)))._style=void 0===a?e.outputStyle.Line:a,s._color=r,s}return s(e,t),u(e,[{key:"getStyle",value:function(){return this._style}},{key:"getColor",value:function(){return this._color}}]),e}(U);B.outputStyle={None:0,Line:1,VolumeStick:2,MACDStick:3,SARPoint:4};var W=function(t){function e(t,n,a,r){return c(this,e),i(this,o(e).call(this,t,n,a,r))}return s(e,t),u(e,[{key:"getName",value:function(){return this._name+this._exprA.getRange()}}]),e}(B),Y=function(t){function e(t,n){var a;return c(this,e),(a=i(this,o(e).call(this,t,n)))._range=-1,a._buf=[],a}return s(e,t),u(e,[{key:"getRange",value:function(){return this._range}},{key:"initRange",value:function(){this._range=this._exprB.execute(0)}},{key:"execute",value:function(t){this._range<0&&this.initRange();var e=this._buf[t].resultA=this._exprA.execute(t);return this._buf[t].result=this.calcResult(t,e)}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var a=n;a>0;a--)this._buf.push({resultA:NaN,result:NaN});r(o(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){r(o(e.prototype),"clear",this).call(this),this._range=-1,this._buf=[]}}]),e}(A),F=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=_.get()._firstIndex;if(n<0)return e;if(t>n){for(var a=e,r=t-this._range+1,i=Math.max(n,r);i<t;i++){var o=this._buf[i];a<o.resultA&&(a=o.resultA)}return a}return e}}]),e}(Y),z=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=_.get()._firstIndex;if(n<0)return e;if(t>n){for(var a=e,r=t-this._range+1,i=Math.max(n,r);i<t;i++){var o=this._buf[i];a>o.resultA&&(a=o.resultA)}return a}return e}}]),e}(Y),V=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=_.get()._firstIndex;if(n<0)return 0;if(t>=n){var a=this._range-1;a>t-n&&(a=t-n);for(var r=0;a>=0;a--)0!==this._buf[t-a].resultA&&r++;return r}return 0}}]),e}(Y),G=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"calcResult",value:function(t,e){var n=_.get()._firstIndex;if(n<0)return e;if(t>n){var a=this._range;return 0===a||a>=t+1-n?this._buf[t-1].result+e:this._buf[t-1].result+e-this._buf[t-a].resultA}return e}}]),e}(Y),Z=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=this._stdBuf[t],a=_.get()._firstIndex;if(a<0)return n.resultMA=e,0;if(t>a){var r=this._range;r>=t+1-a?(r=t+1-a,n.resultMA=this._stdBuf[t-1].resultMA*(1-1/r)+e/r):n.resultMA=this._stdBuf[t-1].resultMA+(e-this._buf[t-r].resultA)/r;for(var i=0,o=t-r+1;o<=t;o++)i+=Math.pow(this._buf[o].resultA-n.resultMA,2);return Math.sqrt(i/r)}return n.resultMA=e,0}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var a=n;a>0;a--)this._stdBuf.push({resultMA:NaN});r(o(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){r(o(e.prototype),"clear",this).call(this),this._stdBuf=[]}}]),e}(Y),K=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=_.get()._firstIndex;if(n<0)return e;if(t>n){var a=this._range;return a>=t+1-n?(a=t+1-n,this._buf[t-1].result*(1-1/a)+e/a):this._buf[t-1].result+(e-this._buf[t-a].resultA)/a}return e}}]),e}(Y),H=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"initRange",value:function(){r(o(e.prototype),"initRange",this).call(this),this._alpha=2/(this._range+1)}},{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=_.get()._firstIndex;if(n<0)return e;if(t>n){var a=this._buf[t-1];return this._alpha*(e-a.result)+a.result}return e}}]),e}(Y),X=function(t){function e(t,n){return c(this,e),i(this,o(e).call(this,t,n))}return s(e,t),u(e,[{key:"calcResult",value:function(t,e){var n=_.get()._firstIndex;if(n<0)return e;if(t>n){var a=this._range,r=this._buf[t-1];return a>=t+1-n?(a=t+1-n,r.result*(1-1/a)+e/a):this._alpha*(e-r.result)+r.result}return e}}]),e}(H),J=function(t){function e(t,n,a){var r;return c(this,e),(r=i(this,o(e).call(this,t,n)))._exprC=a,r._mul=null,r}return s(e,t),u(e,[{key:"initRange",value:function(){r(o(e.prototype),"initRange",this).call(this),this._mul=this._exprC.execute(0)}},{key:"calcResult",value:function(t,e){if(0===this._range)return NaN;var n=_.get()._firstIndex;if(n<0)return e;if(t>n){var a=this._range;return a>t+1-n&&(a=t+1-n),((a-1)*this._buf[t-1].result+e*this._mul)/a}return e}}]),e}(Y),Q=function(t){function e(t,n,a,r){var s;return c(this,e),(s=i(this,o(e).call(this,t,n,a,r)))._buf=[],s._range=-1,s._min=null,s._step=null,s._max=null,s}return s(e,t),u(e,[{key:"execute",value:function(t){this._range<0&&(this._range=this._exprA.execute(0),this._min=this._exprB.execute(0)/100,this._step=this._exprC.execute(0)/100,this._max=this._exprD.execute(0)/100);var e=this._buf[t],n=_.get(),a=n._firstIndex;if(a<0)e.longPos=!0,e.sar=n._ds.getDataAt(t).low,e.ep=n._ds.getDataAt(t).high,e.af=.02;else{var r=n._ds.getDataAt(t).high,i=n._ds.getDataAt(t).low,o=this._buf[t-1];if(e.sar=o.sar+o.af*(o.ep-o.sar),o.longPos){if(e.longPos=!0,r>o.ep?(e.ep=r,e.af=Math.min(o.af+this._step,this._max)):(e.ep=o.ep,e.af=o.af),e.sar>i){e.longPos=!1;var s=t-this._range+1;for(s=Math.max(s,a);s<t;s++){var l=n._ds.getDataAt(s).high;r<l&&(r=l)}e.sar=r,e.ep=i,e.af=.02}}else if(e.longPos=!1,i<o.ep?(e.ep=i,e.af=Math.min(o.af+this._step,this._max)):(e.ep=o.ep,e.af=o.af),e.sar<r){e.longPos=!0;var c=t-this._range+1;for(c=Math.max(c,a);c<t;c++){var h=n._ds.getDataAt(c).low;i>h&&(i=h)}e.sar=i,e.ep=r,e.af=.02}}return e.sar}},{key:"reserve",value:function(t,n){if(this._rid<t)for(var a=n;a>0;a--)this._buf.push({longPos:!0,sar:NaN,ep:NaN,af:NaN});r(o(e.prototype),"reserve",this).call(this,t,n)}},{key:"clear",value:function(){r(o(e.prototype),"clear",this).call(this),this._range=-1}}]),e}(C)},function(t,e){t.exports=__WEBPACK_EXTERNAL_MODULE__1__},function(t,e,n){"use strict";var a=n(9),r=n(4),i=n(16);n(1);function o(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var s=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._data=null,this._charStyle="CandleStick",this._depthData={array:null,asks_count:0,bids_count:0,asks_si:0,asks_ei:0,bids_si:0,bids_ei:0},this.strIsLine=!1,this._range=r.a.instance.range,this._symbol=r.a.instance.symbol}var e,n,s;return e=t,(n=[{key:"setTitle",value:function(){var e=X.instance.getLanguage(),n=r.a.instance.symbolName;n+=" ",n+=this.strIsLine?t.strPeriod[e].line:t.strPeriod[e][this._range],n+=(this._contract_unit+"/"+this._money_type).toUpperCase(),X.instance.setTitle("frame0.k0",n)}},{key:"setSymbol",value:function(t){this._symbol=t,this.updateDataAndDisplay()}},{key:"updateDataAndDisplay",value:function(){r.a.instance.symbol=this._symbol,r.a.instance.range=this._range,X.instance.setCurrentDataSource("frame0.k0",this._symbol+"."+this._range),X.instance.setNormalMode();var t=r.a.instance.chartMgr.getDataSource("frame0.k0").getLastDate();-1===t?(r.a.instance.requestParam=a.a.setHttpRequestParam(r.a.instance.symbol,r.a.instance.range,r.a.instance.limit,null),a.a.requestData(!0)):(r.a.instance.requestParam=a.a.setHttpRequestParam(r.a.instance.symbol,r.a.instance.range,null,t.toString()),a.a.requestData()),X.instance.redraw("All",!1)}},{key:"setCurrentContractUnit",value:function(t){this._contract_unit=t,this.updateDataAndDisplay()}},{key:"setCurrentMoneyType",value:function(t){this._money_type=t,this.updateDataAndDisplay()}},{key:"setCurrentPeriod",value:function(t){this._range=r.a.instance.periodMap[t],"stomp"===r.a.instance.type&&1===r.a.instance.stompClient.ws.readyState&&(r.a.instance.subscribed.unsubscribe(),r.a.instance.subscribed=r.a.instance.stompClient.subscribe(r.a.instance.subscribePath+"/"+r.a.instance.symbol+"/"+this._range,a.a.subscribeCallback)),this.updateDataAndDisplay(),r.a.instance.onRangeChangeFunc(this._range)}},{key:"updateDataSource",value:function(t){this._data=t,X.instance.updateData("frame0.k0",this._data)}},{key:"updateDepth",value:function(t){if(null==t)return this._depthData.array=[],void X.instance.redraw("All",!1);if(t.asks&&t.bids&&""!==t.asks&&""!==t.bids){var e=this._depthData;e.array=[];for(var n=0;n<t.asks.length;n++){var a={};a.rate=t.asks[n][0],a.amount=t.asks[n][1],e.array.push(a)}for(var r=0;r<t.bids.length;r++){var i={};i.rate=t.bids[r][0],i.amount=t.bids[r][1],e.array.push(i)}e.asks_count=t.asks.length,e.bids_count=t.bids.length,e.asks_si=e.asks_count-1,e.asks_ei=0,e.bids_si=e.asks_count-1,e.bids_ei=e.asks_count+e.bids_count-2;for(var o=e.asks_si;o>=e.asks_ei;o--)o===e.asks_si&&void 0!==e.array[o]?e.array[o].amounts=e.array[o].amount:void 0!==e.array[o+1]&&(e.array[o].amounts=e.array[o+1].amounts+e.array[o].amount);for(var s=e.bids_si;s<=e.bids_ei;s++)s===e.bids_si&&void 0!==e.array[s]?e.array[s].amounts=e.array[s].amount:void 0!==e.array[s-1]&&(e.array[s].amounts=e.array[s-1].amounts+e.array[s].amount);X.instance.redraw("All",!1)}}},{key:"setMainIndicator",value:function(t){this._mainIndicator=t,"NONE"===t?X.instance.removeMainIndicator("frame0.k0"):X.instance.setMainIndicator("frame0.k0",t),X.instance.redraw("All",!0)}},{key:"setIndicator",value:function(t,e){if("NONE"===e){var n=X.instance.getIndicatorAreaName("frame0.k0",1);""!==n&&X.instance.removeIndicator(n)}else{var a=X.instance.getIndicatorAreaName("frame0.k0",1);""===a?i.b.createIndicatorChartComps("frame0.k0",e):X.instance.setIndicator(a,e)}X.instance.redraw("All",!0)}},{key:"addIndicator",value:function(t){X.instance.addIndicator(t),X.instance.redraw("All",!0)}},{key:"removeIndicator",value:function(t){var e=X.instance.getIndicatorAreaName(2);X.instance.removeIndicator(e),X.instance.redraw("All",!0)}}])&&o(e.prototype,n),s&&o(e,s),t}();s.strPeriod={"zh-cn":{line:"(分时)","1min":"(1分钟)","5min":"(5分钟)","15min":"(15分钟)","30min":"(30分钟)","1hour":"(1小时)","1day":"(日线)","1week":"(周线)","3min":"(3分钟)","2hour":"(2小时)","4hour":"(4小时)","6hour":"(6小时)","12hour":"(12小时)","3day":"(3天)"},"en-us":{line:"(Line)","1min":"(1m)","5min":"(5m)","15min":"(15m)","30min":"(30m)","1hour":"(1h)","1day":"(1d)","1week":"(1w)","3min":"(3m)","2hour":"(2h)","4hour":"(4h)","6hour":"(6h)","12hour":"(12h)","3day":"(3d)"},"zh-tw":{line:"(分時)","1min":"(1分鐘)","5min":"(5分鐘)","15min":"(15分鐘)","30min":"(30分鐘)","1hour":"(1小時)","1day":"(日線)","1week":"(周線)","3min":"(3分鐘)","2hour":"(2小時)","4hour":"(4小時)","6hour":"(6小時)","12hour":"(12小時)","3day":"(3天)"}};var l=n(0),c=n(3);function h(t){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function u(t,e){return!e||"object"!==h(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function f(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function p(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function m(t,e,n){return e&&p(t.prototype,e),n&&p(t,n),t}var v=function(){function t(){f(this,t),this._exprEnv=new l.l,this._rid=0,this._params=[],this._assigns=[],this._outputs=[]}return m(t,[{key:"addParameter",value:function(t){this._params.push(t)}},{key:"addAssign",value:function(t){this._assigns.push(t)}},{key:"addOutput",value:function(t){this._outputs.push(t)}},{key:"getParameterCount",value:function(){return this._params.length}},{key:"getParameterAt",value:function(t){return this._params[t]}},{key:"getOutputCount",value:function(){return this._outputs.length}},{key:"getOutputAt",value:function(t){return this._outputs[t]}},{key:"clear",value:function(){var t,e;for(this._exprEnv.setFirstIndex(-1),e=this._assigns.length,t=0;t<e;t++)this._assigns[t].clear();for(e=this._outputs.length,t=0;t<e;t++)this._outputs[t].clear()}},{key:"reserve",value:function(t){var e,n;for(this._rid++,n=this._assigns.length,e=0;e<n;e++)this._assigns[e].reserve(this._rid,t);for(n=this._outputs.length,e=0;e<n;e++)this._outputs[e].reserve(this._rid,t)}},{key:"execute",value:function(t,e){if(!(e<0)){this._exprEnv.setDataSource(t),l.l.set(this._exprEnv);try{var n,a;for(a=this._assigns.length,n=0;n<a;n++)this._assigns[n].assign(e);for(a=this._outputs.length,n=0;n<a;n++)this._outputs[n].assign(e);this._exprEnv.getFirstIndex()<0&&this._exprEnv.setFirstIndex(e)}catch(t){if(this._exprEnv.getFirstIndex()>=0)throw alert(t),t}}}},{key:"getParameters",value:function(){var t,e=[],n=this._params.length;for(t=0;t<n;t++)e.push(this._params[t].getValue());return e}},{key:"setParameters",value:function(t){if(t instanceof Array&&t.length===this._params.length)for(var e in this._params)this._params[e].setValue(t[e])}}]),t}(),y=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("M1",2,1e3,60);return t.addParameter(n),t.addOutput(new l.y("HIGH",new l.o,l.y.outputStyle.None)),t.addOutput(new l.y("LOW",new l.r,l.y.outputStyle.None)),t.addOutput(new l.y("CLOSE",new l.e,l.y.outputStyle.Line,c.c.Color.Indicator0)),t.addOutput(new l.A("MA",new l.t(new l.e,n),l.y.outputStyle.Line,c.c.Color.Indicator1)),t}return d(e,t),m(e,[{key:"getName",value:function(){return"CLOSE"}}]),e}(v),w=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("M1",2,1e3,7),a=new l.z("M2",2,1e3,30),r=new l.z("M3",2,1e3,0),i=new l.z("M4",2,1e3,0),o=new l.z("M5",2,1e3,0),s=new l.z("M6",2,1e3,0);return t.addParameter(n),t.addParameter(a),t.addParameter(r),t.addParameter(i),t.addParameter(o),t.addParameter(s),t.addOutput(new l.A("MA",new l.t(new l.e,n))),t.addOutput(new l.A("MA",new l.t(new l.e,a))),t.addOutput(new l.A("MA",new l.t(new l.e,r))),t.addOutput(new l.A("MA",new l.t(new l.e,i))),t.addOutput(new l.A("MA",new l.t(new l.e,o))),t.addOutput(new l.A("MA",new l.t(new l.e,s))),t}return d(e,t),m(e,[{key:"getName",value:function(){return"MA"}}]),e}(v),b=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("M1",2,1e3,7),a=new l.z("M2",2,1e3,30),r=new l.z("M3",2,1e3,0),i=new l.z("M4",2,1e3,0),o=new l.z("M5",2,1e3,0),s=new l.z("M6",2,1e3,0);return t.addParameter(n),t.addParameter(a),t.addParameter(r),t.addParameter(i),t.addParameter(o),t.addParameter(s),t.addOutput(new l.A("EMA",new l.i(new l.e,n))),t.addOutput(new l.A("EMA",new l.i(new l.e,a))),t.addOutput(new l.A("EMA",new l.i(new l.e,r))),t.addOutput(new l.A("EMA",new l.i(new l.e,i))),t.addOutput(new l.A("EMA",new l.i(new l.e,o))),t.addOutput(new l.A("EMA",new l.i(new l.e,s))),t}return d(e,t),m(e,[{key:"getName",value:function(){return"EMA"}}]),e}(v),A=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("M1",2,500,5),a=new l.z("M2",2,500,10);t.addParameter(n),t.addParameter(a);var r=new l.y("VOLUME",new l.H,l.y.outputStyle.VolumeStick,c.c.Color.Text4);return t.addOutput(r),t.addOutput(new l.A("MA",new l.t(r,n),l.y.outputStyle.Line,c.c.Color.Indicator0)),t.addOutput(new l.A("MA",new l.t(r,a),l.y.outputStyle.Line,c.c.Color.Indicator1)),t}return d(e,t),m(e,[{key:"getName",value:function(){return"VOLUME"}}]),e}(v),P=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("SHORT",2,200,12),a=new l.z("LONG",2,200,26),r=new l.z("MID",2,200,9);t.addParameter(n),t.addParameter(a),t.addParameter(r);var i=new l.y("DIF",new l.F(new l.i(new l.e,n),new l.i(new l.e,a)));t.addOutput(i);var o=new l.y("DEA",new l.i(i,r));t.addOutput(o);var s=new l.y("MACD",new l.v(new l.F(i,o),new l.f(2)),l.y.outputStyle.MACDStick);return t.addOutput(s),t}return d(e,t),m(e,[{key:"getName",value:function(){return"MACD"}}]),e}(v),C=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,90,14),a=new l.z("MM",2,60,6);t.addParameter(n),t.addParameter(a);var r=new l.d("MTR",new l.k(new l.u(new l.u(new l.F(new l.o,new l.r),new l.a(new l.F(new l.o,new l.B(new l.e,new l.f(1))))),new l.a(new l.F(new l.B(new l.e,new l.f(1)),new l.r))),n));t.addAssign(r);var i=new l.d("HD",new l.F(new l.o,new l.B(new l.o,new l.f(1))));t.addAssign(i);var o=new l.d("LD",new l.F(new l.B(new l.r,new l.f(1)),new l.r));t.addAssign(o);var s=new l.d("DMP",new l.k(new l.p(new l.c(new l.m(i,new l.f(0)),new l.m(i,o)),i,new l.f(0)),n));t.addAssign(s);var c=new l.d("DMM",new l.k(new l.p(new l.c(new l.m(o,new l.f(0)),new l.m(o,i)),o,new l.f(0)),n));t.addAssign(c);var h=new l.y("PDI",new l.v(new l.h(s,r),new l.f(100)));t.addOutput(h);var d=new l.y("MDI",new l.v(new l.h(c,r),new l.f(100)));t.addOutput(d);var g=new l.y("ADX",new l.k(new l.v(new l.h(new l.a(new l.F(d,h)),new l.b(d,h)),new l.f(100)),a));t.addOutput(g);var p=new l.y("ADXR",new l.k(g,a));return t.addOutput(p),t}return d(e,t),m(e,[{key:"getName",value:function(){return"DMI"}}]),e}(v),M=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N1",2,60,10),a=new l.z("N2",2,250,50),r=new l.z("M",2,100,10);t.addParameter(n),t.addParameter(a),t.addParameter(r);var i=new l.y("DIF",new l.F(new l.t(new l.e,n),new l.t(new l.e,a)));t.addOutput(i);var o=new l.y("DIFMA",new l.t(i,r));return t.addOutput(o),t}return d(e,t),m(e,[{key:"getName",value:function(){return"DMA"}}]),e}(v),k=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,100,12),a=new l.z("M",2,100,9);t.addParameter(n),t.addParameter(a);var r=new l.d("MTR",new l.i(new l.i(new l.i(new l.e,n),n),n));t.addAssign(r);var i=new l.y("TRIX",new l.v(new l.h(new l.F(r,new l.B(r,new l.f(1))),new l.B(r,new l.f(1))),new l.f(100)));t.addOutput(i);var o=new l.y("MATRIX",new l.t(i,a));return t.addOutput(o),t}return d(e,t),m(e,[{key:"getName",value:function(){return"TRIX"}}]),e}(v),D=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,120,26);t.addParameter(n);var a=new l.d("REF_CLOSE_1",new l.B(new l.e,new l.f(1)));t.addAssign(a);var r=new l.y("BR",new l.v(new l.h(new l.G(new l.u(new l.f(0),new l.F(new l.o,a)),n),new l.G(new l.u(new l.f(0),new l.F(a,new l.r)),n)),new l.f(100)));t.addOutput(r);var i=new l.y("AR",new l.v(new l.h(new l.G(new l.F(new l.o,new l.x),n),new l.G(new l.F(new l.x,new l.r),n)),new l.f(100)));return t.addOutput(i),t}return d(e,t),m(e,[{key:"getName",value:function(){return"BRAR"}}]),e}(v),x=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,100,26),a=new l.z("M",2,100,6);t.addParameter(n),t.addParameter(a);var r=new l.d("REF_CLOSE_1",new l.B(new l.e,new l.f(1)));t.addAssign(r);var i=new l.d("TH",new l.G(new l.p(new l.m(new l.e,r),new l.H,new l.f(0)),n));t.addAssign(i);var o=new l.d("TL",new l.G(new l.p(new l.s(new l.e,r),new l.H,new l.f(0)),n));t.addAssign(o);var s=new l.d("TQ",new l.G(new l.p(new l.j(new l.e,r),new l.H,new l.f(0)),n));t.addAssign(s);var c=new l.y("VR",new l.v(new l.h(new l.b(new l.v(i,new l.f(2)),s),new l.b(new l.v(o,new l.f(2)),s)),new l.f(100)));t.addOutput(c);var h=new l.y("MAVR",new l.t(c,a));return t.addOutput(h),t}return d(e,t),m(e,[{key:"getName",value:function(){return"VR"}}]),e}(v),E=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("M",2,100,30);t.addParameter(n);var a=new l.d("REF_CLOSE_1",new l.B(new l.e,new l.f(1)));t.addAssign(a);var r=new l.d("VA",new l.p(new l.m(new l.e,a),new l.H,new l.w(new l.H)));t.addAssign(r);var i=new l.y("OBV",new l.G(new l.p(new l.j(new l.e,a),new l.f(0),r),new l.f(0)));t.addOutput(i);var o=new l.y("MAOBV",new l.t(i,n));return t.addOutput(o),t}return d(e,t),m(e,[{key:"getName",value:function(){return"OBV"}}]),e}(v),I=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,90,14),a=new l.z("M",2,60,9);t.addParameter(n),t.addParameter(a);var r=new l.d("VOLUME",new l.h(new l.t(new l.H,n),new l.H));t.addAssign(r);var i=new l.d("MID",new l.v(new l.h(new l.F(new l.b(new l.o,new l.r),new l.B(new l.b(new l.o,new l.r),new l.f(1))),new l.b(new l.o,new l.r)),new l.f(100)));t.addAssign(i);var o=new l.y("EMV",new l.t(new l.h(new l.v(i,new l.v(r,new l.F(new l.o,new l.r))),new l.t(new l.F(new l.o,new l.r),n)),n));t.addOutput(o);var s=new l.y("MAEMV",new l.t(o,a));return t.addOutput(s),t}return d(e,t),m(e,[{key:"getName",value:function(){return"EMV"}}]),e}(v),O=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N1",2,120,6),a=new l.z("N2",2,250,12),r=new l.z("N3",2,500,24);t.addParameter(n),t.addParameter(a),t.addParameter(r);var i=new l.d("LC",new l.B(new l.e,new l.f(1)));t.addAssign(i);var o=new l.d("CLOSE_LC",new l.F(new l.e,i));return t.addAssign(o),t.addOutput(new l.y("RSI1",new l.v(new l.h(new l.D(new l.u(o,new l.f(0)),n,new l.f(1)),new l.D(new l.a(o),n,new l.f(1))),new l.f(100)))),t.addOutput(new l.y("RSI2",new l.v(new l.h(new l.D(new l.u(o,new l.f(0)),a,new l.f(1)),new l.D(new l.a(o),a,new l.f(1))),new l.f(100)))),t.addOutput(new l.y("RSI3",new l.v(new l.h(new l.D(new l.u(o,new l.f(0)),r,new l.f(1)),new l.D(new l.a(o),r,new l.f(1))),new l.f(100)))),t}return d(e,t),m(e,[{key:"getName",value:function(){return"RSI"}}]),e}(v),R=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,100,10),a=new l.z("N1",2,100,6);t.addParameter(n),t.addParameter(a);var r=new l.d("HHV",new l.n(new l.o,n));t.addAssign(r);var i=new l.d("HHV1",new l.n(new l.o,a));t.addAssign(i);var o=new l.d("LLV",new l.q(new l.r,n));t.addAssign(o);var s=new l.d("LLV1",new l.q(new l.r,a));t.addAssign(s);var c=new l.y("WR1",new l.v(new l.h(new l.F(r,new l.e),new l.F(r,o)),new l.f(100)));t.addOutput(c);var h=new l.y("WR2",new l.v(new l.h(new l.F(i,new l.e),new l.F(i,s)),new l.f(100)));return t.addOutput(h),t}return d(e,t),m(e,[{key:"getName",value:function(){return"WR"}}]),e}(v),S=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.f(4),a=new l.f(2),r=new l.f(2),i=new l.f(20);return t.addOutput(new l.y("SAR",new l.C(n,a,r,i),l.y.outputStyle.SARPoint)),t}return d(e,t),m(e,[{key:"getName",value:function(){return"SAR"}}]),e}(v),T=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,90,9),a=new l.z("M1",2,30,3),r=new l.z("M2",2,30,3);t.addParameter(n),t.addParameter(a),t.addParameter(r);var i=new l.d("HHV",new l.n(new l.o,n));t.addAssign(i);var o=new l.d("LLV",new l.q(new l.r,n));t.addAssign(o);var s=new l.d("RSV",new l.v(new l.h(new l.F(new l.e,o),new l.F(i,o)),new l.f(100)));t.addAssign(s);var c=new l.y("K",new l.D(s,a,new l.f(1)));t.addOutput(c);var h=new l.y("D",new l.D(c,r,new l.f(1)));t.addOutput(h);var d=new l.y("J",new l.F(new l.v(c,new l.f(3)),new l.v(h,new l.f(2))));return t.addOutput(d),t}return d(e,t),m(e,[{key:"getName",value:function(){return"KDJ"}}]),e}(v),L=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,120,12),a=new l.z("M",2,60,6);t.addParameter(n),t.addParameter(a);var r=new l.d("REF_CLOSE_N",new l.B(new l.e,n));t.addAssign(r);var i=new l.y("ROC",new l.v(new l.h(new l.F(new l.e,r),r),new l.f(100)));t.addOutput(i);var o=new l.y("MAROC",new l.t(i,a));return t.addOutput(o),t}return d(e,t),m(e,[{key:"getName",value:function(){return"ROC"}}]),e}(v),N=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,120,12),a=new l.z("M",2,60,6);t.addParameter(n),t.addParameter(a);var r=new l.y("MTM",new l.F(new l.e,new l.B(new l.e,n)));t.addOutput(r);var i=new l.y("MTMMA",new l.t(r,a));return t.addOutput(i),t}return d(e,t),m(e,[{key:"getName",value:function(){return"MTM"}}]),e}(v),j=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,120,20);t.addParameter(n);var a=new l.d("STD_CLOSE_N",new l.E(new l.e,n));t.addAssign(a);var r=new l.y("BOLL",new l.t(new l.e,n));t.addOutput(r);var i=new l.y("UB",new l.b(r,new l.v(new l.f(2),a)));t.addOutput(i);var o=new l.y("LB",new l.F(r,new l.v(new l.f(2),a)));return t.addOutput(o),t}return d(e,t),m(e,[{key:"getName",value:function(){return"BOLL"}}]),e}(v),U=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",2,100,12),a=new l.z("M",2,100,6);t.addParameter(n),t.addParameter(a);var r=new l.y("PSY",new l.v(new l.h(new l.g(new l.m(new l.e,new l.B(new l.e,new l.f(1))),n),n),new l.f(100)));t.addOutput(r);var i=new l.y("PSYMA",new l.t(r,a));return t.addOutput(i),t}return d(e,t),m(e,[{key:"getName",value:function(){return"PSY"}}]),e}(v),B=function(t){function e(){var t;f(this,e),t=u(this,_(e).call(this));var n=new l.z("N",3,100,14),a=new l.z("M",3,100,14),r=new l.z("P1",2,50,3),i=new l.z("P2",2,50,3);t.addParameter(n),t.addParameter(a),t.addParameter(r),t.addParameter(i);var o=new l.d("LC",new l.B(new l.e,new l.f(1)));t.addAssign(o);var s=new l.d("CLOSE_LC",new l.F(new l.e,o));t.addAssign(s);var c=new l.d("RSI",new l.v(new l.h(new l.D(new l.u(s,new l.f(0)),n,new l.f(1)),new l.D(new l.a(s),n,new l.f(1))),new l.f(100)));t.addAssign(c);var h=new l.y("STOCHRSI",new l.v(new l.h(new l.t(new l.F(c,new l.q(c,a)),r),new l.t(new l.F(new l.n(c,a),new l.q(c,a)),r)),new l.f(100)));return t.addOutput(h),t.addOutput(new l.A("MA",new l.t(h,i))),t}return d(e,t),m(e,[{key:"getName",value:function(){return"StochRSI"}}]),e}(v),W=n(14),Y=n(13),F=n(6),z=n(15),V=n(5),G=n(10),Z=n(11),K=n(8);function H(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.d(e,"a",(function(){return X}));var X=function(){function t(){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._dataSources={},this._dataSourceCache={},this._dataProviders={},this._frames={},this._areas={},this._timelines={},this._ranges={},this._plotters={},this._themes={},this._titles={},this._frameMousePos={},this._dsChartStyle={},this._dragStarted=!1,this._oldX=0,this._fakeIndicators={},this._captureMouseWheelDirectly=!0,this._chart={},this._chart.defaultFrame=new s,this._drawingTool=t.DrawingTool.CrossCursor,this._beforeDrawingTool=this._drawingTool,this._language="zh-cn",this._mainCanvas=null,this._overlayCanvas=null,this._mainContext=null,this._overlayContext=null,t.created||(t.instance=this,t.created=!0),t.instance}var e,n,r;return e=t,(n=[{key:"redraw",value:function(t,e){(void 0===t||e)&&(t="All"),"All"!==t&&"MainCanvas"!==t||(e&&this.getFrame("frame0").setChanged(!0),this.layout(this._mainContext,"frame0",0,0,this._mainCanvas.width,this._mainCanvas.height),this.drawMain("frame0",this._mainContext)),"All"!==t&&"OverlayCanvas"!==t||(this._overlayContext.clearRect(0,0,this._overlayCanvas.width,this._overlayCanvas.height),this.drawOverlay("frame0",this._overlayContext))}},{key:"bindCanvas",value:function(t,e){"main"===t?(this._mainCanvas=e,this._mainContext=e.getContext("2d")):"overlay"===t&&(this._overlayCanvas=e,this._overlayContext=e.getContext("2d"),this._captureMouseWheelDirectly&&$(this._overlayCanvas).bind("mousewheel",a.a.mouseWheel))}},{key:"getCaptureMouseWheelDirectly",value:function(){return this._captureMouseWheelDirectly}},{key:"setCaptureMouseWheelDirectly",value:function(t){this._captureMouseWheelDirectly=t,t?$(this._overlayCanvas).bind("mousewheel",a.a.mouseWheel):$(this._overlayCanvas).unbind("mousewheel")}},{key:"getChart",value:function(t){return this._chart.defaultFrame}},{key:"init",value:function(){delete this._ranges["frame0.k0.indic1"],delete this._ranges["frame0.k0.indic1Range"],delete this._areas["frame0.k0.indic1"],delete this._areas["frame0.k0.indic1Range"],i.a.loadTemplate("frame0.k0",""),this.redraw("All",!0)}},{key:"setCurrentDrawingTool",value:function(e){this._drawingTool=t.DrawingTool[e],this.setRunningMode(this._drawingTool)}},{key:"getLanguage",value:function(){return this._language}},{key:"setLanguage",value:function(t){this._language=t}},{key:"setThemeName",value:function(t,e){var n;switch(void 0===e&&(e="Dark"),e){case"Light":n=new c.b;break;default:e="Dark",n=new c.a}this._themeName=e,this.setTheme(t,n),this.getFrame(t).setChanged(!0)}},{key:"getChartStyle",value:function(t){var e=this._dsChartStyle[t];return void 0===e?"CandleStick":e}},{key:"setChartStyle",value:function(t,e){if(this._dsChartStyle[t]!==e){var n,a,r=t+".main",i=r+".main",o=r+".main";switch(e){case"CandleStick":case"CandleStickHLC":case"OHLC":switch(void 0!==(n=this.getDataProvider(i))&&K.a.isInstance(n,z.b)||(n=new z.b(i),this.setDataProvider(i,n),n.updateData()),this.setMainIndicator(t,F.a.get().charts.mIndic),e){case"CandleStick":a=new V.h(o);break;case"CandleStickHLC":a=new V.g(o);break;case"OHLC":a=new V.E(o)}this.setPlotter(o,a),a=new V.D(r+".decoration"),this.setPlotter(a.getName(),a);break;case"Line":n=new z.a(i),this.setDataProvider(n.getName(),n),n.setIndicator(new y),this.removeMainIndicator(t),a=new V.y(o),this.setPlotter(o,a),this.removePlotter(r+".decoration")}this.getArea(a.getAreaName()).setChanged(!0),this._dsChartStyle[t]=e}}},{key:"setNormalMode",value:function(){this._drawingTool=this._beforeDrawingTool,$(".chart_dropdown_data").removeClass("chart_dropdown-hover"),$("#chart_toolpanel .chart_toolpanel_button").removeClass("selected"),$("#chart_CrossCursor").parent().addClass("selected"),this._drawingTool===t.DrawingTool.Cursor?(this.showCursor(),$("#mode a").removeClass("selected"),$("#chart_toolpanel .chart_toolpanel_button").removeClass("selected"),$("#chart_Cursor").parent().addClass("selected")):this.hideCursor()}},{key:"setRunningMode",value:function(e){var n=this.getDataSource("frame0.k0"),a=n.getCurrentToolObject();if(null!==a&&a.state!==G.n.state.AfterDraw&&n.delToolObject(),n.getToolObjectCount()>10)this.setNormalMode();else switch(this._drawingTool=e,e===t.DrawingTool.Cursor&&this.showCursor(),e){case t.DrawingTool.Cursor:this._beforeDrawingTool=e;break;case t.DrawingTool.ArrowLine:n.addToolObject(new G.a("frame0.k0"));break;case t.DrawingTool.BandLine:n.addToolObject(new G.b("frame0.k0"));break;case t.DrawingTool.BiParallelLine:n.addToolObject(new G.c("frame0.k0"));break;case t.DrawingTool.BiParallelRayLine:n.addToolObject(new G.d("frame0.k0"));break;case t.DrawingTool.CrossCursor:this._beforeDrawingTool=e;break;case t.DrawingTool.DrawFibFans:n.addToolObject(new G.e("frame0.k0"));break;case t.DrawingTool.DrawFibRetrace:n.addToolObject(new G.f("frame0.k0"));break;case t.DrawingTool.DrawLines:n.addToolObject(new G.m("frame0.k0"));break;case t.DrawingTool.HoriRayLine:n.addToolObject(new G.g("frame0.k0"));break;case t.DrawingTool.HoriSegLine:n.addToolObject(new G.h("frame0.k0"));break;case t.DrawingTool.HoriStraightLine:n.addToolObject(new G.i("frame0.k0"));break;case t.DrawingTool.PriceLine:n.addToolObject(new G.j("frame0.k0"));break;case t.DrawingTool.RayLine:n.addToolObject(new G.k("frame0.k0"));break;case t.DrawingTool.SegLine:n.addToolObject(new G.l("frame0.k0"));break;case t.DrawingTool.StraightLine:n.addToolObject(new G.m("frame0.k0"));break;case t.DrawingTool.TriParallelLine:n.addToolObject(new G.o("frame0.k0"));break;case t.DrawingTool.VertiStraightLine:n.addToolObject(new G.p("frame0.k0"))}}},{key:"getTitle",value:function(t){return this._titles[t]}},{key:"setTitle",value:function(t,e){this._titles[t]=e}},{key:"setCurrentDataSource",value:function(t,e){var n=this.getCachedDataSource(e);null!=n?this.setDataSource(t,n,!0):(n=new Y.b(e),this.setDataSource(t,n,!0),this.setCachedDataSource(e,n))}},{key:"getDataSource",value:function(t){return this._dataSources[t]}},{key:"setDataSource",value:function(t,e,n){this._dataSources[t]=e,n&&this.updateData(t,null)}},{key:"getCachedDataSource",value:function(t){return this._dataSourceCache[t]}},{key:"setCachedDataSource",value:function(t,e){this._dataSourceCache[t]=e}},{key:"getDataProvider",value:function(t){return this._dataProviders[t]}},{key:"setDataProvider",value:function(t,e){this._dataProviders[t]=e}},{key:"removeDataProvider",value:function(t){delete this._dataProviders[t]}},{key:"getFrame",value:function(t){return this._frames[t]}},{key:"setFrame",value:function(t,e){this._frames[t]=e}},{key:"removeFrame",value:function(t){delete this._frames[t]}},{key:"getArea",value:function(t){return this._areas[t]}},{key:"setArea",value:function(t,e){this._areas[t]=e}},{key:"removeArea",value:function(t){delete this._areas[t]}},{key:"getTimeline",value:function(t){return this._timelines[t]}},{key:"setTimeline",value:function(t,e){this._timelines[t]=e}},{key:"removeTimeline",value:function(t){delete this._timelines[t]}},{key:"getRange",value:function(t){return this._ranges[t]}},{key:"setRange",value:function(t,e){this._ranges[t]=e}},{key:"removeRange",value:function(t){delete this._ranges[t]}},{key:"getPlotter",value:function(t){return this._plotters[t]}},{key:"setPlotter",value:function(t,e){this._plotters[t]=e}},{key:"removePlotter",value:function(t){delete this._plotters[t]}},{key:"getTheme",value:function(t){return this._themes[t]}},{key:"setTheme",value:function(t,e){this._themes[t]=e}},{key:"getFrameMousePos",value:function(t,e){void 0!==this._frameMousePos[t]?(e.x=this._frameMousePos[t].x,e.y=this._frameMousePos[t].y):(e.x=-1,e.y=-1)}},{key:"setFrameMousePos",value:function(t,e,n){this._frameMousePos[t]={x:e,y:n}}},{key:"drawArea",value:function(t,e,n){var a=e.getNameObject().getCompAt(2);if("timeline"===a){if(e.getHeight()<20)return}else if(e.getHeight()<30)return;if(!(e.getWidth()<30)){var r;a=e.getName();var i,o=n.length;for(i=0;i<o;i++)void 0!==(r=this._plotters[a+n[i]])&&r.Draw(t)}}},{key:"drawAreaMain",value:function(t,e){var n;n=this._dataSources[e.getDataSourceName()].getDataCount()<1?[".background"]:[".background",".grid",".main",".secondary"],this.drawArea(t,e,n),e.setChanged(!1)}},{key:"drawAreaOverlay",value:function(t,e){var n;n=this._dataSources[e.getDataSourceName()].getDataCount()<1?[".selection"]:[".decoration",".selection",".info",".tool"],this.drawArea(t,e,n)}},{key:"drawMain",value:function(t,e){var n;for(var a in this._areas)this._areas[a].getFrameName()!==t||K.a.isInstance(this._areas[a],Z.b)||this.drawAreaMain(e,this._areas[a]);for(var r in this._timelines)(n=this._timelines[r]).getFrameName()===t&&n.setUpdated(!1);for(var i in this._ranges)(n=this._ranges[i]).getFrameName()===t&&n.setUpdated(!1);for(var o in this._areas)(n=this._areas[o]).getFrameName()===t&&n.setChanged(!1)}},{key:"drawOverlay",value:function(t,e){for(var n in this._areas){var a=this._areas[n];K.a.isInstance(a,Z.b)&&a.getFrameName()===t&&a.drawGrid(e)}for(var r in this._areas){var i=this._areas[r];!1===K.a.isInstance(i,Z.b)&&i.getFrameName()===t&&this.drawAreaOverlay(e,i)}}},{key:"updateData",value:function(t,e){var n=this.getDataSource(t);if(null!=n){if(null!=e){if(!n.update(e))return!1;if(n.getUpdateMode()===Y.a.UpdateMode.DoNothing)return!0}else n.setUpdateMode(Y.a.UpdateMode.Refresh);var a=this.getTimeline(t);if(null!=a&&a.update(),n.getDataCount()<1)return!0;var r,i,o=[".main",".secondary"];for(var s in this._areas)if(r=this._areas[s],!K.a.isInstance(r,Z.b)&&r.getDataSourceName()===t){i=r.getName();for(var l=0;l<o.length;l++){var c=this.getDataProvider(i+o[l]);null!=c&&c.updateData()}}return!0}}},{key:"updateRange",value:function(t){if(!(this.getDataSource(t).getDataCount()<1)){var e,n,a=[".main",".secondary"];for(var r in this._areas)if(e=this._areas[r],!K.a.isInstance(e,Z.b)&&e.getDataSourceName()===t){n=e.getName();for(var i=0;i<a.length;i++){var o=this.getDataProvider(n+a[i]);null!=o&&o.updateRange()}var s=this.getTimeline(t);if(void 0!==s&&s.getMaxItemCount()>0){var l=this.getRange(n);null!=l&&l.update()}}}}},{key:"layout",value:function(t,e,n,a,r,i){var o=this.getFrame(e);for(var s in o.measure(t,r-n,i-a),o.layout(n,a,r,i),this._timelines){var l=this._timelines[s];l.getFrameName()===e&&l.onLayout()}for(var c in this._dataSources)c.substring(0,e.length)===e&&this.updateRange(c)}},{key:"SelectRange",value:function(t,e){for(var n in this._ranges)this._ranges[n].getAreaName()===t.getName()?this._ranges[n].selectAt(e):this._ranges[n].unselect()}},{key:"scale",value:function(t){if(null!==this._highlightedFrame){var e=this._highlightedFrame.getHighlightedArea();if(void 0!==this.getRange(e.getName())){var n=e.getDataSourceName(),a=this.getTimeline(n);null!==a&&(a.scale(t),this.updateRange(n))}}}},{key:"showCursor",value:function(t){void 0===t&&(t="default"),this._mainCanvas.style.cursor=t,this._overlayCanvas.style.cursor=t}},{key:"hideCursor",value:function(){this._mainCanvas.style.cursor="none",this._overlayCanvas.style.cursor="none"}},{key:"showCrossCursor",value:function(t,e,n){var a=this.getRange(t.getName());return!(void 0===a||(a.selectAt(n),void 0===(a=this.getTimeline(t.getDataSourceName()))||!a.selectAt(e)))}},{key:"hideCrossCursor",value:function(t){if(null!=t)for(var e in this._timelines){var n=this._timelines[e];n!==t&&n.unselect()}else for(var a in this._timelines)this._timelines[a].unselect();for(var r in this._ranges)this._ranges[r].unselect()}},{key:"clearHighlight",value:function(){null!==this._highlightedFrame&&void 0!==this._highlightedFrame&&(this._highlightedFrame.highlight(null),this._highlightedFrame=null)}},{key:"onToolMouseMove",value:function(t,e,n){var a=!1;for(var r in t+=".",this._dataSources)if(0===r.indexOf(t)){var i=this._dataSources[r];K.a.isInstance(i,Y.b)&&i.toolManager.acceptMouseMoveEvent(e,n)&&(a=!0)}return a}},{key:"onToolMouseDown",value:function(t,e,n){var a=!1;for(var r in t+=".",this._dataSources)if(0===r.indexOf(t)){var i=this._dataSources[r];K.a.isInstance(i,Y.b)&&i.toolManager.acceptMouseDownEvent(e,n)&&(a=!0)}return a}},{key:"onToolMouseUp",value:function(t,e,n){var a=!1;for(var r in t+=".",this._dataSources)if(0===r.indexOf(t)){var i=this._dataSources[r];K.a.isInstance(i,Y.b)&&i.toolManager.acceptMouseUpEvent(e,n)&&(a=!0)}return a}},{key:"onToolMouseDrag",value:function(t,e,n){var a=!1;for(var r in t+=".",this._dataSources)if(0===r.indexOf(t)){var i=this._dataSources[r];K.a.isInstance(i,Y.b)&&i.toolManager.acceptMouseDownMoveEvent(e,n)&&(a=!0)}return a}},{key:"onMouseMove",value:function(t,e,n,a){var r=this.getFrame(t);if(void 0!==r)if(this.setFrameMousePos(t,e,n),this.hideCrossCursor(),this._highlightedFrame!==r&&this.clearHighlight(),null===this._capturingMouseArea||void 0===this._capturingMouseArea){var i,o,s=r.contains(e,n);if(null!==s)for(o=s.length-1;o>=0;o--)if(null!==(i=(i=s[o]).onMouseMove(e,n)))return void(K.a.isInstance(i,Z.b)||(r.highlight(i),this._highlightedFrame=r))}else this._capturingMouseArea.onMouseMove(e,n)}},{key:"onMouseLeave",value:function(t,e,n,a){void 0!==this.getFrame(t)&&(this.setFrameMousePos(t,e,n),this.hideCrossCursor(),this.clearHighlight(),null!==this._capturingMouseArea&&void 0!==this._capturingMouseArea&&(this._capturingMouseArea.onMouseLeave(e,n),this._capturingMouseArea=null),this._dragStarted=!1)}},{key:"onMouseDown",value:function(t,e,n){var a=this.getFrame(t);if(void 0!==a){var r,i,o=a.contains(e,n);if(null!==o)for(i=o.length-1;i>=0;i--)if(null!==(r=(r=o[i]).onMouseDown(e,n)))return void(this._capturingMouseArea=r)}}},{key:"onMouseUp",value:function(t,e,n){var r=this.getFrame(t);void 0!==r&&this._capturingMouseArea&&(null===this._capturingMouseArea.onMouseUp(e,n)&&!1===this._dragStarted&&(null!==this._selectedFrame&&void 0!==this._selectedFrame&&this._selectedFrame!==r&&this._selectedFrame.select(null),this._capturingMouseArea.isSelected()?(this._captureMouseWheelDirectly||$(this._overlayCanvas).unbind("mousewheel"),r.select(null),this._selectedFrame=null):(this._selectedFrame!==r&&(this._captureMouseWheelDirectly||$(this._overlayCanvas).bind("mousewheel",a.a.mouseWheel)),r.select(this._capturingMouseArea),this._selectedFrame=r)),this._capturingMouseArea=null,this._dragStarted=!1)}},{key:"deleteToolObject",value:function(){var t=this.getDataSource("frame0.k0");null!==t.getSelectToolObjcet()&&t.delSelectToolObject();var e=t.getCurrentToolObject();null!==e&&e.getState()!==G.n.state.AfterDraw&&t.delToolObject(),this.setNormalMode()}},{key:"unloadTemplate",value:function(t){if(void 0!==this.getFrame(t)){for(var e in this._dataSources)e.match(t+".")&&delete this._dataSources[e];for(var n in this._dataProviders)this._dataProviders[n].getFrameName()===t&&delete this._dataProviders[n];for(var a in delete this._frames[t],this._areas)this._areas[a].getFrameName()===t&&delete this._areas[a];for(var r in this._timelines)this._timelines[r].getFrameName()===t&&delete this._timelines[r];for(var i in this._ranges)this._ranges[i].getFrameName()===t&&delete this._ranges[i];for(var o in this._plotters)this._plotters[o].getFrameName()===t&&delete this._plotters[o];delete this._themes[t],delete this._frameMousePos[t]}}},{key:"createIndicatorAndRange",value:function(t,e,n){var a,r;switch(e){case"MA":a=new w,r=new W.c(t);break;case"EMA":a=new b,r=new W.c(t);break;case"VOLUME":a=new A,r=new W.e(t);break;case"MACD":a=new P,r=new W.f(t);break;case"DMI":a=new C,r=new W.b(t);break;case"DMA":a=new M,r=new W.d(t);break;case"TRIX":a=new k,r=new W.d(t);break;case"BRAR":a=new D,r=new W.d(t);break;case"VR":a=new x,r=new W.d(t);break;case"OBV":a=new E,r=new W.d(t);break;case"EMV":a=new I,r=new W.d(t);break;case"RSI":a=new O,r=new W.b(t);break;case"WR":a=new R,r=new W.b(t);break;case"SAR":a=new S,r=new W.c(t);break;case"KDJ":a=new T,r=new W.b(t);break;case"ROC":a=new L,r=new W.d(t);break;case"MTM":a=new N,r=new W.d(t);break;case"BOLL":a=new j,r=new W.d(t);break;case"PSY":a=new U,r=new W.d(t);break;case"StochRSI":a=new B,r=new W.b(t);break;default:return null}return n||a.setParameters(F.a.get().indics[e]),{indic:a,range:r}}},{key:"setMainIndicator",value:function(t,e){var n,a=t+".main",r=this.getDataProvider(a+".main");if(void 0===r||!K.a.isInstance(r,z.b))return!1;switch(e){case"MA":n=new w;break;case"EMA":n=new b;break;case"BOLL":n=new j;break;case"SAR":n=new S;break;default:return!1}n.setParameters(F.a.get().indics[e]);var i=a+".secondary",o=this.getDataProvider(i);void 0===o&&(o=new z.a(i),this.setDataProvider(o.getName(),o)),o.setIndicator(n);var s=this.getPlotter(i);return void 0===s&&(s=new V.y(i),this.setPlotter(s.getName(),s)),this.getArea(a).setChanged(!0),!0}},{key:"setIndicator",value:function(t,e){var n=this.getArea(t);if(null==n||"main"===n.getNameObject().getCompAt(2))return!1;var a=this.getDataProvider(t+".secondary");if(null==a||!K.a.isInstance(a,z.a))return!1;var r=this.createIndicatorAndRange(t,e);if(null==r)return!1;var i=r.indic,o=r.range;if(this.removeDataProvider(t+".main"),this.removePlotter(t+".main"),this.removeRange(t),this.removePlotter(t+"Range.decoration"),a.setIndicator(i),this.setRange(t,o),o.setPaddingTop(20),o.setPaddingBottom(4),o.setMinInterval(20),K.a.isInstance(i,A)){var s=new V.A(t+"Range.decoration");this.setPlotter(s.getName(),s)}else if(K.a.isInstance(i,j)||K.a.isInstance(i,S)){var l=new z.b(t+".main");this.setDataProvider(l.getName(),l),l.updateData();var c=new V.E(t+".main");this.setPlotter(c.getName(),c)}return!0}},{key:"removeMainIndicator",value:function(t){var e=t+".main",n=e+".secondary",a=this.getDataProvider(n);void 0!==a&&K.a.isInstance(a,z.a)&&(this.removeDataProvider(n),this.removePlotter(n),this.getArea(e).setChanged(!0))}},{key:"removeIndicator",value:function(t){var e=this.getArea(t);if(void 0!==e&&"main"!==e.getNameObject().getCompAt(2)){var n=this.getDataProvider(t+".secondary");if(void 0!==n&&K.a.isInstance(n,z.a)){var a=t+"Range",r=this.getArea(a);if(void 0!==r){var i=this.getArea(e.getDataSourceName()+".charts");if(void 0!==i){for(var o in i.removeArea(e),this.removeArea(t),i.removeArea(r),this.removeArea(a),this._dataProviders)this._dataProviders[o].getAreaName()===t&&this.removeDataProvider(o);for(var s in this._ranges)this._ranges[s].getAreaName()===t&&this.removeRange(s);for(var l in this._plotters)this._plotters[l].getAreaName()===t&&this.removePlotter(l);for(var c in this._plotters)this._plotters[c].getAreaName()===a&&this.removePlotter(c)}}}}}},{key:"getIndicatorParameters",value:function(t){var e=this._fakeIndicators[t];if(void 0===e){var n=this.createIndicatorAndRange("",t);if(null===n)return null;this._fakeIndicators[t]=e=n.indic}var a,r=[],i=e.getParameterCount();for(a=0;a<i;a++)r.push(e.getParameterAt(a));return r}},{key:"setIndicatorParameters",value:function(t,e){var n,a;for(n in this._dataProviders){var r=this._dataProviders[n];!1!==K.a.isInstance(r,z.a)&&(a=r.getIndicator()).getName()===t&&(a.setParameters(e),r.refresh(),this.getArea(r.getAreaName()).setChanged(!0))}if(void 0===(a=this._fakeIndicators[t])){var i=this.createIndicatorAndRange("",t,!0);if(null===i)return;this._fakeIndicators[t]=a=i.indic}a.setParameters(e)}},{key:"getIndicatorAreaName",value:function(t,e){var n=this.getArea(t+".charts"),a=n.getAreaCount()>>1;return e<0||e>=a?"":n.getAreaAt(e<<1).getName()}}])&&H(e.prototype,n),r&&H(e,r),t}();X.DrawingTool={Cursor:0,CrossCursor:1,DrawLines:2,DrawFibRetrace:3,DrawFibFans:4,SegLine:5,StraightLine:6,ArrowLine:7,RayLine:8,HoriStraightLine:9,HoriRayLine:10,HoriSegLine:11,VertiStraightLine:12,PriceLine:13,BiParallelLine:14,BiParallelRayLine:15,TriParallelLine:16,BandLine:17},X.created=!1,X.instance=null},function(t,e,n){"use strict";n.d(e,"c",(function(){return h})),n.d(e,"a",(function(){return u})),n.d(e,"b",(function(){return _}));n(4);function a(t){return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function r(t,e){return!e||"object"!==a(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function i(t){return(i=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function o(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&s(t,e)}function s(t,e){return(s=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var h=function(){function t(){l(this,t),this._colors=[],this._fonts=[]}var e,n,a;return e=t,(n=[{key:"getColor",value:function(t){return this._colors[t]}},{key:"getFont",value:function(t){return this._fonts[t]}}])&&c(e.prototype,n),a&&c(e,a),t}();h.theme_color_id=0,h.theme_font_id=0,h.Color={Positive:h.theme_color_id++,Negative:h.theme_color_id++,PositiveDark:h.theme_color_id++,NegativeDark:h.theme_color_id++,Unchanged:h.theme_color_id++,Background:h.theme_color_id++,Cursor:h.theme_color_id++,RangeMark:h.theme_color_id++,Indicator0:h.theme_color_id++,Indicator1:h.theme_color_id++,Indicator2:h.theme_color_id++,Indicator3:h.theme_color_id++,Indicator4:h.theme_color_id++,Indicator5:h.theme_color_id++,Grid0:h.theme_color_id++,Grid1:h.theme_color_id++,Grid2:h.theme_color_id++,Grid3:h.theme_color_id++,Grid4:h.theme_color_id++,TextPositive:h.theme_color_id++,TextNegative:h.theme_color_id++,Text0:h.theme_color_id++,Text1:h.theme_color_id++,Text2:h.theme_color_id++,Text3:h.theme_color_id++,Text4:h.theme_color_id++,LineColorNormal:h.theme_color_id++,LineColorSelected:h.theme_color_id++,CircleColorFill:h.theme_color_id++,CircleColorStroke:h.theme_color_id++},h.Font={Default:h.theme_font_id++};var u=function(t){function e(){var t;return l(this,e),(t=r(this,i(e).call(this)))._colors=[],t._colors[h.Color.Positive]="#19b34c",t._colors[h.Color.Negative]="#990e0e",t._colors[h.Color.PositiveDark]="#004718",t._colors[h.Color.NegativeDark]="#3b0e08",t._colors[h.Color.Unchanged]="#fff",t._colors[h.Color.Background]="#161616",t._colors[h.Color.Cursor]="#aaa",t._colors[h.Color.RangeMark]="#f9ee30",t._colors[h.Color.Indicator0]="#ddd",t._colors[h.Color.Indicator1]="#f9ee30",t._colors[h.Color.Indicator2]="#f600ff",t._colors[h.Color.Indicator3]="#6bf",t._colors[h.Color.Indicator4]="#a5cf81",t._colors[h.Color.Indicator5]="#e18b89",t._colors[h.Color.Grid0]="#555",t._colors[h.Color.Grid1]="#555",t._colors[h.Color.Grid3]="#888",t._colors[h.Color.Grid4]="#aaa",t._colors[h.Color.TextPositive]="#1bd357",t._colors[h.Color.TextNegative]="#ff6f5e",t._colors[h.Color.Text0]="#444",t._colors[h.Color.Text1]="#666",t._colors[h.Color.Text2]="#888",t._colors[h.Color.Text3]="#aaa",t._colors[h.Color.Text4]="#ccc",t._colors[h.Color.LineColorNormal]="#a6a6a6",t._colors[h.Color.LineColorSelected]="#ffffff",t._colors[h.Color.CircleColorFill]="#161616",t._colors[h.Color.CircleColorStroke]="#ffffff",t._fonts=[],t._fonts[h.Font.Default]="12px Tahoma",t}return o(e,t),e}(h),_=function(t){function e(){var t;return l(this,e),(t=r(this,i(e).call(this)))._colors=[],t._colors[h.Color.Positive]="#53b37b",t._colors[h.Color.Negative]="#db5542",t._colors[h.Color.PositiveDark]="#66d293",t._colors[h.Color.NegativeDark]="#ffadaa",t._colors[h.Color.Unchanged]="#fff",t._colors[h.Color.Background]="#f6f6f6",t._colors[h.Color.Cursor]="#aaa",t._colors[h.Color.RangeMark]="#f27935",t._colors[h.Color.Indicator0]="#d27972",t._colors[h.Color.Indicator1]="#ffb400",t._colors[h.Color.Indicator2]="#e849b9",t._colors[h.Color.Indicator3]="#1478c8",t._colors[h.Color.Grid0]="#aaa",t._colors[h.Color.Grid1]="#aaa",t._colors[h.Color.Grid3]="#bbb",t._colors[h.Color.Grid4]="#aaa",t._colors[h.Color.TextPositive]="#53b37b",t._colors[h.Color.TextNegative]="#db5542",t._colors[h.Color.Text0]="#ccc",t._colors[h.Color.Text1]="#aaa",t._colors[h.Color.Text2]="#888",t._colors[h.Color.Text3]="#666",t._colors[h.Color.Text4]="#444",t._colors[h.Color.LineColorNormal]="#8c8c8c",t._colors[h.Color.LineColorSelected]="#393c40",t._colors[h.Color.CircleColorFill]="#f6f6f6",t._colors[h.Color.CircleColorStroke]="#393c40",t._fonts=[],t._fonts[h.Font.Default]="12px Tahoma",t}return o(e,t),e}(h)},function(t,e,n){"use strict";n.d(e,"a",(function(){return u}));var a=n(9),r=n(2),i=n(6),o=n(19),s=n.n(o),l=(n(21),n(1)),c=n.n(l);function h(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var u=function(){function t(e){return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this.element="#kline_container",this.chartMgr=null,this.timer=null,this.buttonDown=!1,this.init=!1,this.requestParam="",this.isSized=!1,this.data={},this.width=1200,this.height=650,this.symbol="",this.symbolName="",this.range=null,this.url="",this.limit=1e3,this.intervalTime=5e3,this.debug=!0,this.language="zh-cn",this.theme="dark",this.ranges=["1w","1d","1h","30m","15m","5m","1m","line"],this.depthWidth=100,this.periodMap={"01w":6048e5,"03d":2592e5,"01d":864e5,"12h":432e5,"06h":216e5,"04h":144e5,"02h":72e5,"01h":36e5,"30m":18e5,"15m":9e5,"05m":3e5,"03m":18e4,"01m":6e4,line:6e4},this.tagMapPeriod={"1w":"01w","3d":"03d","1d":"01d","12h":"12h","6h":"06h","4h":"04h","2h":"02h","1h":"01h","30m":"30m","15m":"15m","5m":"05m","3m":"03m","1m":"01m",line:"line"},this.onResize=null,this.onLangChange=null,this.onSymbolChange=null,this.onThemeChange=null,this.onRangeChange=null,this.onRequestData=null,Object.assign(this,e),t.created||(t.instance=this,t.created=!0),t.instance}var e,n,o;return e=t,(n=[{key:"draw",value:function(){t.chartMgr=new r.a;var e=c.a.parseHTML(s.a);for(var n in this.ranges)c()(e).find('[name="'+this.ranges[n]+'"]').each((function(t,e){c()(e).attr("style","display:inline-block")}));c()(this.element).html(e),setInterval(a.a.refreshFunction,this.intervalTime),this.registerMouseEvent(),r.a.instance.bindCanvas("main",document.getElementById("chart_mainCanvas")),r.a.instance.bindCanvas("overlay",document.getElementById("chart_overlayCanvas")),a.a.refreshTemplate(),a.a.onSize(this.width,this.height),a.a.readCookie(),this.setTheme(this.theme),this.setLanguage(this.language),this.setSymbol(this.symbol,this.symbolName),c()(this.element).css({visibility:"visible"})}},{key:"resize",value:function(t,e){this.width=t,this.height=e,a.a.onSize(this.width,this.height)}},{key:"setSymbol",value:function(t,e){this.symbol=t,this.symbolName=e,a.a.switchSymbol(t,e),this.onSymbolChangeFunc(t,e)}},{key:"setTheme",value:function(t){this.theme=t,a.a.switchTheme(t)}},{key:"setLanguage",value:function(t){this.language=t,a.a.chartSwitchLanguage(t)}},{key:"setIntervalTime",value:function(t){this.intervalTime=t,this.debug&&console.log("DEBUG: interval time changed to "+t)}},{key:"setDepthWidth",value:function(t){this.depthWidth=t,r.a.instance.redraw("All",!1)}},{key:"onResizeFunc",value:function(t,e){this.debug&&console.log("DEBUG: chart resized to width: "+t+" height: "+e),this.onResize&&this.onResize(t,e)}},{key:"onLangChangeFunc",value:function(t){this.debug&&console.log("DEBUG: language changed to "+t),this.onLangChange&&this.onLangChange(t)}},{key:"onSymbolChangeFunc",value:function(t,e){this.debug&&console.log("DEBUG: symbol changed to "+t+" "+e),this.onSymbolChange&&this.onSymbolChange(t,e)}},{key:"onThemeChangeFunc",value:function(t){this.debug&&console.log("DEBUG: themes changed to : "+t),this.onThemeChange&&this.onThemeChange(t)}},{key:"onRangeChangeFunc",value:function(t){this.debug&&console.log("DEBUG: range changed to "+t),this.onRangeChange&&this.onRangeChange(t)}},{key:"onRequestDataFunc",value:function(t,e){this.debug&&console.log("DEBUG: request data to "+JSON.stringify(t)),this.onRequestData&&this.onRequestData(t,e)}},{key:"registerMouseEvent",value:function(){c()(document).ready((function(){c()("#chart_overlayCanvas").bind("contextmenu",(function(t){return t.cancelBubble=!0,t.returnValue=!1,t.preventDefault(),t.stopPropagation(),!1})),c()(".chart_container .chart_dropdown .chart_dropdown_t").mouseover((function(){var t=c()(".chart_container"),e=c()(this),n=e.next(),a=t.offset().left,r=e.offset().left,i=t.width(),o=e.width(),s=(n.width()-o)/2<<0;r-s<a+4?s=r-a-4:s+=r+o+s>a+i-4?r+o+s-(a+i-4)+19:4,n.css({"margin-left":-s}),e.addClass("chart_dropdown-hover"),n.addClass("chart_dropdown-hover")})).mouseout((function(){c()(this).next().removeClass("chart_dropdown-hover"),c()(this).removeClass("chart_dropdown-hover")})),c()(".chart_dropdown_data").mouseover((function(){c()(this).addClass("chart_dropdown-hover"),c()(this).prev().addClass("chart_dropdown-hover")})).mouseout((function(){c()(this).prev().removeClass("chart_dropdown-hover"),c()(this).removeClass("chart_dropdown-hover")})),c()("#chart_btn_parameter_settings").click((function(){c()("#chart_parameter_settings").addClass("clicked"),c()(".chart_dropdown_data").removeClass("chart_dropdown-hover"),c()("#chart_parameter_settings").find("th").each((function(){var t=c()(this).html(),e=0,n=i.a.get().indics[t];c()(this.nextElementSibling).find("input").each((function(){null!==n&&e<n.length&&c()(this).val(n[e]),e++}))}))})),c()("#close_settings").click((function(){c()("#chart_parameter_settings").removeClass("clicked")})),c()(".chart_container .chart_toolbar_tabgroup a").click((function(){a.a.switchPeriod(c()(this).parent().attr("name"))})),c()("#chart_toolbar_periods_vert ul a").click((function(){a.a.switchPeriod(c()(this).parent().attr("name"))})),c()("#chart_show_depth").click((function(){c()(this).hasClass("selected")?a.a.switchDepth("off"):a.a.switchDepth("on")})),c()("#chart_show_tools").click((function(){c()(this).hasClass("selected")?a.a.switchTools("off"):a.a.switchTools("on")})),c()("#chart_toolpanel .chart_toolpanel_button").click((function(){c()(".chart_dropdown_data").removeClass("chart_dropdown-hover"),c()("#chart_toolpanel .chart_toolpanel_button").removeClass("selected"),c()(this).addClass("selected");var e=c()(this).children().attr("name");t.instance.chartMgr.setRunningMode(r.a.DrawingTool[e])})),c()("#chart_show_indicator").click((function(){c()(this).hasClass("selected")?a.a.switchIndic("off"):a.a.switchIndic("on")})),c()("#chart_tabbar li a").click((function(){c()("#chart_tabbar li a").removeClass("selected"),c()(this).addClass("selected");var t=c()(this).attr("name");i.a.get().charts.indics[1]=t,i.a.save(),r.a.instance.getChart().setIndicator(1,t)})),c()("#chart_select_chart_style a").click((function(){c()("#chart_select_chart_style a").removeClass("selected"),c()(this).addClass("selected"),i.a.get().charts.chartStyle=c()(this)[0].innerHTML,i.a.save();var t=r.a.instance;t.setChartStyle("frame0.k0",c()(this).html()),t.redraw()})),c()("#chart_dropdown_themes li").click((function(){c()("#chart_dropdown_themes li a").removeClass("selected");var t=c()(this).attr("name");"chart_themes_dark"===t?a.a.switchTheme("dark"):"chart_themes_light"===t&&a.a.switchTheme("light")})),c()("#chart_select_main_indicator a").click((function(){c()("#chart_select_main_indicator a").removeClass("selected"),c()(this).addClass("selected");var t=c()(this).attr("name");i.a.get().charts.mIndic=t,i.a.save();var e=r.a.instance;e.setMainIndicator("frame0.k0",t)||e.removeMainIndicator("frame0.k0"),e.redraw()})),c()("#chart_toolbar_theme a").click((function(){c()("#chart_toolbar_theme a").removeClass("selected"),"dark"===c()(this).attr("name")?a.a.switchTheme("dark"):"light"===c()(this).attr("name")&&a.a.switchTheme("light")})),c()("#chart_select_theme li a").click((function(){c()("#chart_select_theme a").removeClass("selected"),"dark"===c()(this).attr("name")?a.a.switchTheme("dark"):"light"===c()(this).attr("name")&&a.a.switchTheme("light")})),c()("#chart_enable_tools li a").click((function(){c()("#chart_enable_tools a").removeClass("selected"),"on"===c()(this).attr("name")?a.a.switchTools("on"):"off"===c()(this).attr("name")&&a.a.switchTools("off")})),c()("#chart_enable_indicator li a").click((function(){c()("#chart_enable_indicator a").removeClass("selected"),"on"===c()(this).attr("name")?a.a.switchIndic("on"):"off"===c()(this).attr("name")&&a.a.switchIndic("off")})),c()("#chart_language_setting_div li a").click((function(){c()("#chart_language_setting_div a").removeClass("selected"),"zh-cn"===c()(this).attr("name")?a.a.chartSwitchLanguage("zh-cn"):"en-us"===c()(this).attr("name")?a.a.chartSwitchLanguage("en-us"):"zh-tw"===c()(this).attr("name")&&a.a.chartSwitchLanguage("zh-tw")})),c()(document).keyup((function(t){46===t.keyCode&&(r.a.instance.deleteToolObject(),r.a.instance.redraw("OverlayCanvas",!1))})),c()("#clearCanvas").click((function(){for(var t=r.a.instance.getDataSource("frame0.k0"),e=t.getToolObjectCount(),n=0;n<e;n++)t.delToolObject();r.a.instance.redraw("OverlayCanvas",!1)})),c()("#chart_overlayCanvas").mousemove((function(e){var n=e.target.getBoundingClientRect(),a=e.clientX-n.left,i=e.clientY-n.top,o=r.a.instance;!0===t.instance.buttonDown?(o.onMouseMove("frame0",a,i,!0),o.redraw("All",!1)):(o.onMouseMove("frame0",a,i,!1),o.redraw("OverlayCanvas"))})).mouseleave((function(t){var e=t.target.getBoundingClientRect(),n=t.clientX-e.left,a=t.clientY-e.top,i=r.a.instance;i.onMouseLeave("frame0",n,a,!1),i.redraw("OverlayCanvas")})).mouseup((function(e){if(1===e.which){t.instance.buttonDown=!1;var n=e.target.getBoundingClientRect(),a=e.clientX-n.left,i=e.clientY-n.top,o=r.a.instance;o.onMouseUp("frame0",a,i),o.redraw("All")}})).mousedown((function(e){if(1!==e.which)return r.a.instance.deleteToolObject(),void r.a.instance.redraw("OverlayCanvas",!1);t.instance.buttonDown=!0;var n=e.target.getBoundingClientRect(),a=e.clientX-n.left,i=e.clientY-n.top;r.a.instance.onMouseDown("frame0",a,i)})),c()("#chart_parameter_settings :input").change((function(){var t=c()(this).attr("name"),e=0,n=[],a=r.a.instance;if(c()("#chart_parameter_settings :input").each((function(){if(c()(this).attr("name")===t){if(""!==c()(this).val()&&null!==c()(this).val()&&void 0!==c()(this).val()){var a=parseInt(c()(this).val());n.push(a)}e++}})),0!==n.length){a.setIndicatorParameters(t,n);var o=a.getIndicatorParameters(t),s=[];e=0,c()("#chart_parameter_settings :input").each((function(){c()(this).attr("name")===t&&(""!==c()(this).val()&&null!==c()(this).val()&&void 0!==c()(this).val()&&(c()(this).val(o[e].getValue()),s.push(o[e].getValue())),e++)})),i.a.get().indics[t]=s,i.a.save(),a.redraw("All",!1)}})),c()("#chart_parameter_settings button").click((function(){var t=c()(this).parents("tr").children("th").html(),e=0,n=r.a.instance.getIndicatorParameters(t),a=[];c()(this).parent().prev().children("input").each((function(){null!==n&&e<n.length&&(c()(this).val(n[e].getDefaultValue()),a.push(n[e].getDefaultValue())),e++})),r.a.instance.setIndicatorParameters(t,a),i.a.get().indics[t]=a,i.a.save(),r.a.instance.redraw("All",!1)})),c()("body").on("click","#sizeIcon",(function(){t.instance.isSized=!t.instance.isSized,t.instance.isSized?(c()(t.instance.element).css({position:"fixed",left:"0",right:"0",top:"0",bottom:"0",width:"100%",height:"100%",zIndex:"10000"}),a.a.onSize(),c()("html,body").css({width:"100%",height:"100%",overflow:"hidden"})):(c()(t.instance.element).attr("style",""),c()("html,body").attr("style",""),a.a.onSize(t.instance.width,t.instance.height),c()(t.instance.element).css({visibility:"visible",height:t.instance.height+"px"}))}))}))}}])&&h(e.prototype,n),o&&h(e,o),t}();u.created=!1,u.instance=null},function(t,e,n){"use strict";n.d(e,"a",(function(){return A})),n.d(e,"B",(function(){return P})),n.d(e,"F",(function(){return C})),n.d(e,"J",(function(){return M})),n.d(e,"c",(function(){return k})),n.d(e,"h",(function(){return D})),n.d(e,"g",(function(){return x})),n.d(e,"E",(function(){return E})),n.d(e,"C",(function(){return I})),n.d(e,"y",(function(){return O})),n.d(e,"x",(function(){return R})),n.d(e,"D",(function(){return S})),n.d(e,"K",(function(){return T})),n.d(e,"G",(function(){return L})),n.d(e,"f",(function(){return N})),n.d(e,"A",(function(){return j})),n.d(e,"z",(function(){return U})),n.d(e,"I",(function(){return B})),n.d(e,"L",(function(){return W})),n.d(e,"H",(function(){return Y})),n.d(e,"u",(function(){return z})),n.d(e,"t",(function(){return V})),n.d(e,"s",(function(){return G})),n.d(e,"i",(function(){return Z})),n.d(e,"q",(function(){return K})),n.d(e,"o",(function(){return H})),n.d(e,"p",(function(){return X})),n.d(e,"w",(function(){return J})),n.d(e,"r",(function(){return Q})),n.d(e,"k",(function(){return $})),n.d(e,"l",(function(){return tt})),n.d(e,"v",(function(){return et})),n.d(e,"n",(function(){return at})),n.d(e,"j",(function(){return rt})),n.d(e,"m",(function(){return it})),n.d(e,"b",(function(){return ot}));var a=n(4),r=n(12),i=n(2),o=n(8),s=n(7),l=n(0),c=n(3),h=n(15),u=n(13),_=n(10);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var b=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,null,[{key:"drawLine",value:function(t,e,n,a,r){t.beginPath(),t.moveTo(.5+(e<<0),.5+(n<<0)),t.lineTo(.5+(a<<0),.5+(r<<0)),t.stroke()}},{key:"drawLines",value:function(t,n){var a,r=n.length;for(t.beginPath(),t.moveTo(n[0].x,n[0].y),a=1;a<r;a++)t.lineTo(n[a].x,n[a].y);if(e.isChrome)for(t.moveTo(n[0].x,n[0].y),a=1;a<r;a++)t.lineTo(n[a].x,n[a].y);t.stroke()}},{key:"drawDashedLine",value:function(t,e,n,a,r,i,o){i<2&&(i=2);var s=a-e,l=r-n;if(t.beginPath(),0===l){for(var c=s/i+.5<<0,h=0;h<c;h++)t.rect(e,n,o,1),e+=i;t.fill()}else{for(var u=Math.sqrt(s*s+l*l)/i+.5<<0,_=(s/=u)*o/i,d=(l/=u)*o/i,g=0;g<u;g++)t.moveTo(e+.5,n+.5),t.lineTo(e+.5+_,n+.5+d),e+=s,n+=l;t.stroke()}}},{key:"createHorzDashedLine",value:function(t,e,n,a,r,i){r<2&&(r=2);for(var o=(n-e)/r+.5<<0,s=0;s<o;s++)t.rect(e,a,i,1),e+=r}},{key:"createRectangles",value:function(t,e){t.beginPath();var n,a,r=e.length;for(a=0;a<r;a++)n=e[a],t.rect(n.x,n.y,n.w,n.h)}},{key:"createPolygon",value:function(t,e){t.beginPath(),t.moveTo(e[0].x+.5,e[0].y+.5);var n,a=e.length;for(n=1;n<a;n++)t.lineTo(e[n].x+.5,e[n].y+.5);t.closePath()}},{key:"drawString",value:function(t,e,n){var a=t.measureText(e).width;return!(n.w<a)&&(t.fillText(e,n.x,n.y),n.x+=a,n.w-=a,!0)}}]),e}(r.a);b.isChrome=null!==navigator.userAgent.toLowerCase().match(/chrome/);var A=function(t){function e(t){var n;return g(this,e),(n=m(this,v(e).call(this,t)))._color=c.c.Color.Background,n}return y(e,t),p(e,[{key:"getColor",value:function(){return this._color}},{key:"setColor",value:function(t){this._color=t}},{key:"Draw",value:function(t){var e=i.a.instance,n=e.getArea(this.getAreaName()),a=e.getTheme(this.getFrameName());t.fillStyle=a.getColor(this._color),t.fillRect(n.getLeft(),n.getTop(),n.getWidth(),n.getHeight())}}]),e}(b),P=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),r=e.getRange(this.getAreaName()),o=e.getTheme(this.getFrameName()),s=n.getRect();if(!n.isChanged()&&!a.isUpdated()&&!r.isUpdated()){var l=a.getFirstIndex(),c=a.getLastIndex()-2,h=Math.max(l,c);s.X=a.toColumnLeft(h),s.Width=n.getRight()-s.X}t.fillStyle=o.getColor(this._color),t.fillRect(s.X,s.Y,s.Width,s.Height)}}]),e}(A),C=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=this.getAreaName(),a=e.getArea(n),r=e.getRange(n.substring(0,n.lastIndexOf("Range")));if("main"===r.getNameObject().getCompAt(2)||a.isChanged()||r.isUpdated()){var o=e.getTheme(this.getFrameName());t.fillStyle=o.getColor(this._color),t.fillRect(a.getLeft(),a.getTop(),a.getWidth(),a.getHeight())}}}]),e}(A),M=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName());if(n.isChanged()||a.isUpdated()){var r=e.getTheme(this.getFrameName());t.fillStyle=r.getColor(this._color),t.fillRect(n.getLeft(),n.getTop(),n.getWidth(),n.getHeight())}}}]),e}(A),k=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),r=e.getRange(this.getAreaName()),o=!1;if(!n.isChanged()&&!a.isUpdated()&&!r.isUpdated()){var s=a.getFirstIndex(),l=a.getLastIndex(),h=Math.max(s,l-2),u=a.toColumnLeft(h);t.save(),t.rect(u,n.getTop(),n.getRight()-u,n.getHeight()),t.clip(),o=!0}var _=e.getTheme(this.getFrameName());t.fillStyle=_.getColor(c.c.Color.Grid0),t.beginPath();var d=4,g=1;b.isChrome&&(d=4,g=1);var f=r.getGradations();for(var p in f)b.createHorzDashedLine(t,n.getLeft(),n.getRight(),r.toY(f[p]),d,g);t.fill(),o&&t.restore()}}]),e}(r.a),D=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getDataSource(this.getDataSourceName());if(!(n.getDataCount()<1)){var a=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),s=e.getRange(this.getAreaName());if(0!==s.getRange()){var l,h=e.getTheme(this.getFrameName()),u=o.a.isInstance(h,c.a),_=r.getFirstIndex(),d=r.getLastIndex();l=a.isChanged()||r.isUpdated()||s.isUpdated()?_:Math.max(_,d-2);for(var g=r.getColumnWidth(),f=r.getItemWidth(),p=r.toItemLeft(l),m=r.toItemCenter(l),v=[],y=[],w=[],A=[],P=l;P<d;P++){var C=n.getDataAt(P),M=s.toY(C.high),k=s.toY(C.low),D=C.open,x=C.close;if(x>D){var E=s.toY(x),I=s.toY(D),O=Math.max(I-E,1);O>1&&f>1&&u?v.push({x:p+.5,y:E+.5,w:f-1,h:O-1}):y.push({x:p,y:E,w:Math.max(f,1),h:Math.max(O,1)}),C.high>x&&(M=Math.min(M,E-1),y.push({x:m,y:M,w:1,h:E-M})),D>C.low&&(k=Math.max(k,I+1),y.push({x:m,y:I,w:1,h:k-I}))}else if(x===D){var R=s.toY(x);w.push({x:p,y:R,w:Math.max(f,1),h:1}),C.high>x&&(M=Math.min(M,R-1)),D>C.low&&(k=Math.max(k,R+1)),M<k&&w.push({x:m,y:M,w:1,h:k-M})}else{var S=s.toY(D),T=s.toY(x),L=Math.max(T-S,1);A.push({x:p,y:S,w:Math.max(f,1),h:Math.max(L,1)}),C.high>D&&(M=Math.min(M,S-1)),x>C.low&&(k=Math.max(k,T+1)),M<k&&A.push({x:m,y:M,w:1,h:k-M})}p+=g,m+=g}v.length>0&&(t.strokeStyle=h.getColor(c.c.Color.Positive),b.createRectangles(t,v),t.stroke()),y.length>0&&(t.fillStyle=h.getColor(c.c.Color.Positive),b.createRectangles(t,y),t.fill()),w.length>0&&(t.fillStyle=h.getColor(c.c.Color.Negative),b.createRectangles(t,w),t.fill()),A.length>0&&(t.fillStyle=h.getColor(c.c.Color.Negative),b.createRectangles(t,A),t.fill())}}}}]),e}(r.a),x=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getDataSource(this.getDataSourceName());if(o.a.isInstance(n,u.b)&&!(n.getDataCount()<1)){var a=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),s=e.getRange(this.getAreaName());if(0!==s.getRange()){var l,h=e.getTheme(this.getFrameName()),_=o.a.isInstance(h,c.a),d=r.getFirstIndex(),g=r.getLastIndex();l=a.isChanged()||r.isUpdated()||s.isUpdated()?d:Math.max(d,g-2);for(var f=r.getColumnWidth(),p=r.getItemWidth(),m=r.toItemLeft(l),v=r.toItemCenter(l),y=[],w=[],A=[],P=[],C=l;C<g;C++){var M=n.getDataAt(C),k=s.toY(M.high),D=s.toY(M.low),x=M.open;C>0&&(x=n.getDataAt(C-1).close);var E=M.close;if(E>x){var I=s.toY(E),O=s.toY(x),R=Math.max(O-I,1);R>1&&p>1&&_?y.push({x:m+.5,y:I+.5,w:p-1,h:R-1}):w.push({x:m,y:I,w:Math.max(p,1),h:Math.max(R,1)}),M.high>E&&(k=Math.min(k,I-1),w.push({x:v,y:k,w:1,h:I-k})),x>M.low&&(D=Math.max(D,O+1),w.push({x:v,y:O,w:1,h:D-O}))}else if(E===x){var S=s.toY(E);A.push({x:m,y:S,w:Math.max(p,1),h:1}),M.high>E&&(k=Math.min(k,S-1)),x>M.low&&(D=Math.max(D,S+1)),k<D&&A.push({x:v,y:k,w:1,h:D-k})}else{var T=s.toY(x),L=s.toY(E),N=Math.max(L-T,1);P.push({x:m,y:T,w:Math.max(p,1),h:Math.max(N,1)}),M.high>x&&(k=Math.min(k,T-1)),E>M.low&&(D=Math.max(D,L+1)),k<D&&P.push({x:v,y:k,w:1,h:D-k})}m+=f,v+=f}y.length>0&&(t.strokeStyle=h.getColor(c.c.Color.Positive),b.createRectangles(t,y),t.stroke()),w.length>0&&(t.fillStyle=h.getColor(c.c.Color.Positive),b.createRectangles(t,w),t.fill()),A.length>0&&(t.fillStyle=h.getColor(c.c.Color.Negative),b.createRectangles(t,A),t.fill()),P.length>0&&(t.fillStyle=h.getColor(c.c.Color.Negative),b.createRectangles(t,P),t.fill())}}}}]),e}(b),E=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getDataSource(this.getDataSourceName());if(o.a.isInstance(n,u.b)&&!(n.getDataCount()<1)){var a=e.getArea(this.getAreaName()),r=e.getTimeline(this.getDataSourceName()),s=e.getRange(this.getAreaName());if(0!==s.getRange()){var l,h=e.getTheme(this.getFrameName()),_=r.getFirstIndex(),d=r.getLastIndex();l=a.isChanged()||r.isUpdated()||s.isUpdated()?_:Math.max(_,d-2);for(var g=r.getColumnWidth(),f=r.getItemWidth()>>1,p=r.toItemLeft(l),m=r.toItemCenter(l),v=(r.getItemWidth(),[]),y=[],w=[],A=l;A<d;A++){var P=n.getDataAt(A),C=s.toY(P.high),M=s.toY(P.low),k=Math.max(M-C,1);if(P.close>P.open){var D=s.toY(P.close),x=s.toY(P.open);v.push({x:m,y:C,w:1,h:k}),v.push({x:p,y:D,w:f,h:1}),v.push({x:m,y:x,w:f,h:1})}else if(P.close===P.open){var E=s.toY(P.close);y.push({x:m,y:C,w:1,h:k}),y.push({x:p,y:E,w:f,h:1}),y.push({x:m,y:E,w:f,h:1})}else{var I=s.toY(P.open),O=s.toY(P.close);w.push({x:m,y:C,w:1,h:k}),w.push({x:p,y:I,w:f,h:1}),w.push({x:m,y:O,w:f,h:1})}p+=g,m+=g,g}v.length>0&&(t.fillStyle=h.getColor(c.c.Color.Positive),b.createRectangles(t,v),t.fill()),y.length>0&&(t.fillStyle=h.getColor(c.c.Color.Negative),b.createRectangles(t,y),t.fill()),w.length>0&&(t.fillStyle=h.getColor(c.c.Color.Negative),b.createRectangles(t,w),t.fill())}}}}]),e}(b),I=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),r=e.getDataSource(this.getDataSourceName()),s=e.getTheme(this.getFrameName());t.font=s.getFont(c.c.Font.Default),t.textAlign="left",t.textBaseline="top",t.fillStyle=s.getColor(c.c.Color.Text4);var l={x:n.getLeft()+4,y:n.getTop()+2,w:n.getWidth()-8,h:20},h=a.getSelectedIndex();if(!(h<0)){var u,_=r.getDataAt(h),d=r.getDecimalDigits(),g=new Date(_.date),f=(g.getFullYear(),o.a.formatTime(g.getMonth()+1),o.a.formatTime(g.getDate()),o.a.formatTime(g.getHours()),o.a.formatTime(g.getMinutes()),e.getLanguage());if("zh-cn"===f){if(!b.drawString(t,"  开: "+_.open.toFixed(d),l))return;if(!b.drawString(t,"  高: "+_.high.toFixed(d),l))return;if(!b.drawString(t,"  低: "+_.low.toFixed(d),l))return;if(!b.drawString(t,"  收: "+_.close.toFixed(d),l))return}else if("en-us"===f){if(!b.drawString(t,"  O: "+_.open.toFixed(d),l))return;if(!b.drawString(t,"  H: "+_.high.toFixed(d),l))return;if(!b.drawString(t,"  L: "+_.low.toFixed(d),l))return;if(!b.drawString(t,"  C: "+_.close.toFixed(d),l))return}else if("zh-tw"===f){if(!b.drawString(t,"  開: "+_.open.toFixed(d),l))return;if(!b.drawString(t,"  高: "+_.high.toFixed(d),l))return;if(!b.drawString(t,"  低: "+_.low.toFixed(d),l))return;if(!b.drawString(t,"  收: "+_.close.toFixed(d),l))return}if(h>0){if("zh-cn"===f){if(!b.drawString(t,"  涨幅: ",l))return}else if("en-us"===f){if(!b.drawString(t,"  CHANGE: ",l))return}else if("zh-tw"===f&&!b.drawString(t,"  漲幅: ",l))return;var p,m=r.getDataAt(h-1);if((p=(_.close-m.close)/m.close*100?(_.close-m.close)/m.close*100:0)>=0?(p=" "+p.toFixed(2),t.fillStyle=s.getColor(c.c.Color.TextPositive)):(p=p.toFixed(2),t.fillStyle=s.getColor(c.c.Color.TextNegative)),!b.drawString(t,p,l))return;if(t.fillStyle=s.getColor(c.c.Color.Text4),!b.drawString(t," %",l))return}if(u=(_.high-_.low)/_.low*100?(_.high-_.low)/_.low*100:0,"zh-cn"===f){if(!b.drawString(t,"  振幅: "+u.toFixed(2)+" %",l))return}else if("en-us"===f){if(!b.drawString(t,"  AMPLITUDE: "+u.toFixed(2)+" %",l))return}else if("zh-tw"===f&&!b.drawString(t,"  振幅: "+u.toFixed(2)+" %",l))return;var v=e.getDataProvider(this.getAreaName()+".secondary");if(void 0!==v){var y,w=v.getIndicator(),A=w.getOutputCount();for(y=0;y<A;y++){var P=w.getOutputAt(y),C=P.execute(h);if(!isNaN(C)){var M="  "+P.getName()+": "+C.toFixed(d),k=P.getColor();if(void 0===k&&(k=c.c.Color.Indicator0+y),t.fillStyle=s.getColor(k),!b.drawString(t,M,l))return}}}}}}]),e}(b),O=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),r=e.getRange(this.getAreaName());if(0!==r.getRange()){var s=e.getDataProvider(this.getName());if(o.a.isInstance(s,h.a)){var u,_=e.getTheme(this.getFrameName()),d=a.getColumnWidth(),g=a.getFirstIndex(),f=a.getLastIndex();u=n.isChanged()||a.isUpdated()||r.isUpdated()?g:Math.max(g,f-2);var p,m,v=s.getIndicator(),y=v.getOutputCount();for(m=0;m<y;m++){var w=(p=v.getOutputAt(m)).getStyle();w===l.y.outputStyle.VolumeStick?this.drawVolumeStick(t,_,e.getDataSource(this.getDataSourceName()),u,f,a.toItemLeft(u),d,a.getItemWidth(),r):w===l.y.outputStyle.MACDStick?this.drawMACDStick(t,_,p,u,f,a.toItemLeft(u),d,a.getItemWidth(),r):w===l.y.outputStyle.SARPoint&&this.drawSARPoint(t,_,p,u,f,a.toItemCenter(u),d,a.getItemWidth(),r)}var A=a.toColumnLeft(u),P=a.toItemCenter(u);for(t.save(),t.rect(A,n.getTop(),n.getRight()-A,n.getHeight()),t.clip(),t.translate(.5,.5),m=0;m<y;m++){var C=P;if((p=v.getOutputAt(m)).getStyle()===l.y.outputStyle.Line){var M=void 0,k=[];u>g&&(M=p.execute(u-1),!1===isNaN(M)&&k.push({x:C-d,y:r.toY(M)}));for(var D=u;D<f;D++,C+=d)M=p.execute(D),!1===isNaN(M)&&k.push({x:C,y:r.toY(M)});if(k.length>0){var x=p.getColor();void 0===x&&(x=c.c.Color.Indicator0+m),t.strokeStyle=_.getColor(x),b.drawLines(t,k)}}}t.restore()}}}},{key:"drawVolumeStick",value:function(t,e,n,a,r,i,s,l,h){for(var u=o.a.isInstance(e,c.a),_=i,d=(h.toY(0),[]),g=[],f=[],p=a;p<r;p++){var m=n.getDataAt(p),v=h.toY(m.volume),y=h.toHeight(m.volume);m.close>m.open?y>1&&l>1&&u?d.push({x:_+.5,y:v+.5,w:l-1,h:y-1}):g.push({x:_,y:v,w:Math.max(l,1),h:Math.max(y,1)}):m.close===m.open&&p>0&&m.close>=n.getDataAt(p-1).close?y>1&&l>1&&u?d.push({x:_+.5,y:v+.5,w:l-1,h:y-1}):g.push({x:_,y:v,w:Math.max(l,1),h:Math.max(y,1)}):f.push({x:_,y:v,w:Math.max(l,1),h:Math.max(y,1)}),_+=s}d.length>0&&(t.strokeStyle=e.getColor(c.c.Color.Positive),b.createRectangles(t,d),t.stroke()),g.length>0&&(t.fillStyle=e.getColor(c.c.Color.Positive),b.createRectangles(t,g),t.fill()),f.length>0&&(t.fillStyle=e.getColor(c.c.Color.Negative),b.createRectangles(t,f),t.fill())}},{key:"drawMACDStick",value:function(t,e,n,a,r,i,o,s,l){for(var h=i,u=l.toY(0),_=[],d=[],g=[],f=[],p=a>0?n.execute(a-1):NaN,m=a;m<r;m++){var v=n.execute(m);if(v>=0){var y=l.toHeight(v);(0===m||v>=p)&&y>1&&s>1?_.push({x:h+.5,y:u-y+.5,w:s-1,h:y-1}):g.push({x:h,y:u-y,w:Math.max(s,1),h:Math.max(y,1)})}else{var w=l.toHeight(-v);(0===m||v>=p)&&w>1&&s>1?d.push({x:h+.5,y:u+.5,w:s-1,h:w-1}):f.push({x:h,y:u,w:Math.max(s,1),h:Math.max(w,1)})}p=v,h+=o}_.length>0&&(t.strokeStyle=e.getColor(c.c.Color.Positive),b.createRectangles(t,_),t.stroke()),d.length>0&&(t.strokeStyle=e.getColor(c.c.Color.Negative),b.createRectangles(t,d),t.stroke()),g.length>0&&(t.fillStyle=e.getColor(c.c.Color.Positive),b.createRectangles(t,g),t.fill()),f.length>0&&(t.fillStyle=e.getColor(c.c.Color.Negative),b.createRectangles(t,f),t.fill())}},{key:"drawSARPoint",value:function(t,e,n,a,r,i,o,s,l){var h=s>>1;h<.5&&(h=.5),h>4&&(h=4);var u=i,_=u+h,d=2*Math.PI;t.save(),t.translate(.5,.5),t.strokeStyle=e.getColor(c.c.Color.Indicator3),t.beginPath();for(var g=a;g<r;g++){var f=l.toY(n.execute(g));t.moveTo(_,f),t.arc(u,f,h,0,d),u+=o,_+=o}t.stroke(),t.restore()}}]),e}(r.a),R=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName()),r=e.getDataProvider(this.getAreaName()+".secondary"),o=e.getTheme(this.getFrameName());t.font=o.getFont(c.c.Font.Default),t.textAlign="left",t.textBaseline="top",t.fillStyle=o.getColor(c.c.Color.Text4);var s,l={x:n.getLeft()+4,y:n.getTop()+2,w:n.getWidth()-8,h:20},h=r.getIndicator();switch(h.getParameterCount()){case 0:s=h.getName();break;case 1:s=h.getName()+"("+h.getParameterAt(0).getValue()+")";break;case 2:s=h.getName()+"("+h.getParameterAt(0).getValue()+","+h.getParameterAt(1).getValue()+")";break;case 3:s=h.getName()+"("+h.getParameterAt(0).getValue()+","+h.getParameterAt(1).getValue()+","+h.getParameterAt(2).getValue()+")";break;case 4:s=h.getName()+"("+h.getParameterAt(0).getValue()+","+h.getParameterAt(1).getValue()+","+h.getParameterAt(2).getValue()+","+h.getParameterAt(3).getValue()+")";break;default:return}if(b.drawString(t,s,l)){var u=a.getSelectedIndex();if(!(u<0)){var _,d,g,f,p,m=h.getOutputCount();for(p=0;p<m;p++)if(d=(_=h.getOutputAt(p)).execute(u),!isNaN(d)&&(g="  "+_.getName()+": "+d.toFixed(2),void 0===(f=_.getColor())&&(f=c.c.Color.Indicator0+p),t.fillStyle=o.getColor(f),!b.drawString(t,g,l)))return}}}}]),e}(b),S=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=e.getDataSource(this.getDataSourceName());if(!(n.getDataCount()<1)){var a=e.getTimeline(this.getDataSourceName());if(!(a.getInnerWidth()<a.getColumnWidth())){var r=e.getRange(this.getAreaName());if(0!==r.getRange()){var o=e.getDataProvider(this.getAreaName()+".main"),s=a.getFirstIndex(),l=s+a.getLastIndex()>>1,h=e.getTheme(this.getFrameName());t.font=h.getFont(c.c.Font.Default),t.textBaseline="middle",t.fillStyle=h.getColor(c.c.Color.Text4),t.strokeStyle=h.getColor(c.c.Color.Text4);var u=n.getDecimalDigits();this.drawMark(t,o.getMinValue(),u,r.toY(o.getMinValue()),s,l,o.getMinValueIndex(),a),this.drawMark(t,o.getMaxValue(),u,r.toY(o.getMaxValue()),s,l,o.getMaxValueIndex(),a)}}}}},{key:"drawMark",value:function(t,e,n,a,r,i,s,l){var c,h,u,_;s>i?(t.textAlign="right",u=(c=l.toItemCenter(s)-4)-3,_=(h=c-7)-4):(t.textAlign="left",u=(c=l.toItemCenter(s)+4)+3,_=(h=c+7)+4),b.drawLine(t,c,a,h,a),b.drawLine(t,c,a,u,a+2),b.drawLine(t,c,a,u,a-2),t.fillText(o.a.fromFloat(e,n),_,a)}}]),e}(r.a),T=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var n=i.a.instance,a=n.getArea(this.getAreaName()),r=n.getTimeline(this.getDataSourceName());if(a.isChanged()||r.isUpdated()){var o=n.getDataSource(this.getDataSourceName());if(!(o.getDataCount()<2)){var s,l=o.getDataAt(1).date-o.getDataAt(0).date,h=e.TIME_INTERVAL.length;for(s=0;s<h&&!(l<e.TIME_INTERVAL[s]);s++);for(;s<h&&!(e.TIME_INTERVAL[s]%l==0&&e.TIME_INTERVAL[s]/l*r.getColumnWidth()>60);s++);var u=r.getFirstIndex(),_=r.getLastIndex(),d=60*(new Date).getTimezoneOffset()*1e3,g=n.getTheme(this.getFrameName());t.font=g.getFont(c.c.Font.Default),t.textAlign="center",t.textBaseline="middle";for(var f=n.getLanguage(),p=[],m=a.getTop(),v=a.getMiddle(),y=u;y<_;y++){var w=o.getDataAt(y).date,A=w-d,P=new Date(w),C=P.getFullYear(),M=P.getMonth()+1,k=P.getDate(),D=P.getHours(),x=P.getMinutes(),E="";if(s<h){if(A%Math.max(e.TP_DAY,e.TIME_INTERVAL[s])==0)"zh-cn"===f?E=M.toString()+"月"+k.toString()+"日":"zh-tw"===f?E=M.toString()+"月"+k.toString()+"日":"en-us"===f&&(E=e.MonthConvert[M]+" "+k.toString()),t.fillStyle=g.getColor(c.c.Color.Text4);else if(A%e.TIME_INTERVAL[s]==0){var I=x.toString();x<10&&(I="0"+I),E=D.toString()+":"+I,t.fillStyle=g.getColor(c.c.Color.Text2)}}else 1===k&&D<l/e.TP_HOUR&&(1===M?(E=C.toString(),"zh-cn"===f?E+="年":"zh-tw"===f&&(E+="年")):"zh-cn"===f?E=M.toString()+"月":"zh-tw"===f?E=M.toString()+"月":"en-us"===f&&(E=e.MonthConvert[M]),t.fillStyle=g.getColor(c.c.Color.Text4));if(E.length>0){var O=r.toItemCenter(y);p.push({x:O,y:m,w:1,h:4}),t.fillText(E,O,v)}}p.length>0&&(t.fillStyle=g.getColor(c.c.Color.Grid1),b.createRectangles(t,p),t.fill())}}}}]),e}(b);T.TP_MINUTE=6e4,T.TP_HOUR=60*T.TP_MINUTE,T.TP_DAY=24*T.TP_HOUR,T.TIME_INTERVAL=[5*T.TP_MINUTE,10*T.TP_MINUTE,15*T.TP_MINUTE,30*T.TP_MINUTE,T.TP_HOUR,2*T.TP_HOUR,3*T.TP_HOUR,6*T.TP_HOUR,12*T.TP_HOUR,T.TP_DAY,2*T.TP_DAY],T.MonthConvert={1:"Jan.",2:"Feb.",3:"Mar.",4:"Apr.",5:"May.",6:"Jun.",7:"Jul.",8:"Aug.",9:"Sep.",10:"Oct.",11:"Nov.",12:"Dec."};var L=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"getRequiredWidth",value:function(t,e){var n=i.a.instance.getTheme(this.getFrameName());return t.font=n.getFont(c.c.Font.Default),t.measureText((Math.floor(e)+.88).toString()).width+16}},{key:"Draw",value:function(t){var e=i.a.instance,n=this.getAreaName(),a=e.getArea(n),r=n.substring(0,n.lastIndexOf("Range")),s=e.getRange(r);if(0!==s.getRange()){if("main"===s.getNameObject().getCompAt(2));else if(!a.isChanged()&&!s.isUpdated())return;var l=s.getGradations();if(0!==l.length){var h=a.getLeft(),u=a.getRight(),_=a.getCenter(),d=e.getTheme(this.getFrameName());t.font=d.getFont(c.c.Font.Default),t.textAlign="center",t.textBaseline="middle",t.fillStyle=d.getColor(c.c.Color.Text2);var g=[];for(var f in l){var p=s.toY(l[f]);g.push({x:h,y:p,w:6,h:1}),g.push({x:u-6,y:p,w:6,h:1}),t.fillText(o.a.fromFloat(l[f],2),_,p)}g.length>0&&(t.fillStyle=d.getColor(c.c.Color.Grid1),b.createRectangles(t,g),t.fill())}}}}]),e}(r.a),N=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){return this._Draw_(t)}},{key:"_Draw_",value:function(t){if(!1!==this.Update()&&!1!==this.updateData()){this.m_top=this.m_pArea.getTop(),this.m_bottom=this.m_pArea.getBottom(),this.m_left=this.m_pArea.getLeft(),this.m_right=this.m_pArea.getRight(),t.save(),t.rect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top),t.clip();var e=i.a.instance.getChart()._depthData;this.x_offset=0,this.y_offset=0;var n={},a={};n.x=this.m_left+e.array[this.m_ask_si].amounts*this.m_Step,n.y=this.m_pRange.toY(e.array[this.m_ask_si].rate),a.x=this.m_left+e.array[this.m_bid_si].amounts*this.m_Step,a.y=this.m_pRange.toY(e.array[this.m_bid_si].rate),Math.abs(n.y-a.y)<1&&(this.y_offset=1),this.x_offset=1,this.DrawBackground(t),this.UpdatePoints(),this.FillBlack(t),this.DrawGradations(t),this.DrawLine(t),t.restore()}}},{key:"DrawBackground",value:function(t){t.fillStyle=this.m_pTheme.getColor(c.c.Color.Background),t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top);var e=i.a.instance.getChart()._depthData;if(0===this.m_mode){var n=this.m_pRange.toY(e.array[this.m_ask_si].rate)-this.y_offset,a=this.m_pRange.toY(e.array[this.m_bid_si].rate)+this.y_offset,r=t.createLinearGradient(this.m_left,0,this.m_right,0);r.addColorStop(0,this.m_pTheme.getColor(c.c.Color.Background)),r.addColorStop(1,this.m_pTheme.getColor(c.c.Color.PositiveDark)),t.fillStyle=r,t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,n-this.m_top);var o=t.createLinearGradient(this.m_left,0,this.m_right,0);o.addColorStop(0,this.m_pTheme.getColor(c.c.Color.Background)),o.addColorStop(1,this.m_pTheme.getColor(c.c.Color.NegativeDark)),t.fillStyle=o,t.fillRect(this.m_left,a,this.m_right-this.m_left,this.m_bottom-a)}else if(1===this.m_mode){var s=t.createLinearGradient(this.m_left,0,this.m_right,0);s.addColorStop(0,this.m_pTheme.getColor(c.c.Color.Background)),s.addColorStop(1,this.m_pTheme.getColor(c.c.Color.PositiveDark)),t.fillStyle=s,t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top)}else if(2===this.m_mode){var l=t.createLinearGradient(this.m_left,0,this.m_right,0);l.addColorStop(0,this.m_pTheme.getColor(c.c.Color.Background)),l.addColorStop(1,this.m_pTheme.getColor(c.c.Color.NegativeDark)),t.fillStyle=l,t.fillRect(this.m_left,this.m_top,this.m_right-this.m_left,this.m_bottom-this.m_top)}}},{key:"DrawLine",value:function(t){if(0===this.m_mode||1===this.m_mode){t.strokeStyle=this.m_pTheme.getColor(c.c.Color.Positive),t.beginPath(),t.moveTo(Math.floor(this.m_ask_points[0].x)+.5,Math.floor(this.m_ask_points[0].y)+.5);for(var e=1;e<this.m_ask_points.length;e++)t.lineTo(Math.floor(this.m_ask_points[e].x)+.5,Math.floor(this.m_ask_points[e].y)+.5);t.stroke()}if(0===this.m_mode||2===this.m_mode){t.strokeStyle=this.m_pTheme.getColor(c.c.Color.Negative),t.beginPath(),t.moveTo(this.m_bid_points[0].x+.5,this.m_bid_points[0].y+.5);for(var n=1;n<this.m_bid_points.length;n++)t.lineTo(this.m_bid_points[n].x+.5,this.m_bid_points[n].y+.5);t.stroke()}}},{key:"UpdatePoints",value:function(){var t=i.a.instance.getChart()._depthData;this.m_ask_points=[];var e={};e.x=Math.floor(this.m_left),e.y=Math.floor(this.m_pRange.toY(t.array[this.m_ask_si].rate)-this.y_offset),this.m_ask_points.push(e);for(var n=0,a=this.m_ask_si;a>=this.m_ask_ei;a--){var r={},o={};a===this.m_ask_si?(r.x=Math.floor(this.m_left+t.array[a].amounts*this.m_Step+this.x_offset),r.y=Math.floor(this.m_pRange.toY(t.array[a].rate)-this.y_offset),this.m_ask_points.push(r),n=1):(r.x=Math.floor(this.m_left+t.array[a].amounts*this.m_Step+this.x_offset),r.y=Math.floor(this.m_ask_points[n].y),o.x=Math.floor(r.x),o.y=Math.floor(this.m_pRange.toY(t.array[a].rate)-this.y_offset),this.m_ask_points.push(r),n++,this.m_ask_points.push(o),n++)}this.m_bid_points=[];var s={};s.x=Math.floor(this.m_left),s.y=Math.ceil(this.m_pRange.toY(t.array[this.m_bid_si].rate)+this.y_offset),this.m_bid_points.push(s);for(var l=0,c=this.m_bid_si;c<=this.m_bid_ei;c++){var h={},u={};c===this.m_bid_si?(h.x=Math.floor(this.m_left+t.array[c].amounts*this.m_Step+this.x_offset),h.y=Math.ceil(this.m_pRange.toY(t.array[c].rate)+this.y_offset),this.m_bid_points.push(h),l=1):(h.x=Math.floor(this.m_left+t.array[c].amounts*this.m_Step+this.x_offset),h.y=Math.ceil(this.m_bid_points[l].y),u.x=Math.floor(h.x),u.y=Math.ceil(this.m_pRange.toY(t.array[c].rate)+this.x_offset),this.m_bid_points.push(h),l++,this.m_bid_points.push(u),l++)}}},{key:"updateData",value:function(){var t=i.a.instance.getChart()._depthData;if(null===t.array)return!1;if(t.array.length<=50)return!1;var e=this.m_pRange.getOuterMinValue(),n=this.m_pRange.getOuterMaxValue();this.m_ask_si=t.asks_si,this.m_ask_ei=t.asks_si;for(var a=t.asks_si;a>=t.asks_ei&&t.array[a].rate<n;a--)this.m_ask_ei=a;this.m_bid_si=t.bids_si,this.m_bid_ei=t.bids_si;for(var r=t.bids_si;r<=t.bids_ei&&t.array[r].rate>e;r++)this.m_bid_ei=r;return this.m_ask_ei===this.m_ask_si?this.m_mode=2:this.m_bid_ei===this.m_bid_si?this.m_mode=1:this.m_mode=0,this.m_Step=this.m_pArea.getWidth(),0===this.m_mode?this.m_ask_ei===t.asks_ei&&this.m_bid_ei===t.bids_ei?this.m_Step/=Math.min(t.array[this.m_ask_ei].amounts,t.array[this.m_bid_ei].amounts):this.m_ask_ei!==t.asks_ei&&this.m_bid_ei===t.bids_ei?this.m_Step/=t.array[this.m_bid_ei].amounts:this.m_ask_ei===t.asks_ei&&this.m_bid_ei!==t.bids_ei?this.m_Step/=t.array[this.m_ask_ei].amounts:this.m_ask_ei!==t.asks_ei&&this.m_bid_ei!==t.bids_ei&&(this.m_Step/=Math.max(t.array[this.m_ask_ei].amounts,t.array[this.m_bid_ei].amounts)):1===this.m_mode?this.m_Step/=t.array[this.m_ask_ei].amounts:2===this.m_mode&&(this.m_Step/=t.array[this.m_bid_ei].amounts),!0}},{key:"Update",value:function(){this.m_pMgr=i.a.instance;var t=this.getAreaName();if(this.m_pArea=this.m_pMgr.getArea(t),null===this.m_pArea)return!1;var e=t.substring(0,t.lastIndexOf("Range"));return this.m_pRange=this.m_pMgr.getRange(e),null!==this.m_pRange&&0!==this.m_pRange.getRange()&&(this.m_pTheme=this.m_pMgr.getTheme(this.getFrameName()),null!==this.m_pTheme)}},{key:"DrawGradations",value:function(t){var e=i.a.instance,n=this.getAreaName(),a=e.getArea(n),r=n.substring(0,n.lastIndexOf("Range")),o=e.getRange(r);if(0!==o.getRange()){var s=o.getGradations();if(0!==s.length){var l=a.getLeft(),h=a.getRight(),u=[];for(var _ in s){var d=o.toY(s[_]);u.push({x:l,y:d,w:6,h:1}),u.push({x:h-6,y:d,w:6,h:1})}if(u.length>0){var g=e.getTheme(this.getFrameName());t.fillStyle=g.getColor(c.c.Color.Grid1),b.createRectangles(t,u),t.fill()}}}}},{key:"FillBlack",value:function(t){var e=this.m_ask_points,n=this.m_bid_points,a={},r={};a.x=this.m_right,a.y=e[0].y,r.x=this.m_right,r.y=e[e.length-1].y;var i={},o={};i.x=this.m_right,i.y=n[0].y-1,o.x=this.m_right,o.y=n[n.length-1].y,e.unshift(a),e.push(r),n.unshift(i),n.push(o),t.fillStyle=this.m_pTheme.getColor(c.c.Color.Background),t.beginPath(),t.moveTo(Math.floor(e[0].x)+.5,Math.floor(e[0].y)+.5);for(var s=1;s<e.length;s++)t.lineTo(Math.floor(e[s].x)+.5,Math.floor(e[s].y)+.5);t.fill(),t.beginPath(),t.moveTo(Math.floor(n[0].x)+.5,Math.floor(n[0].y)+.5);for(var l=1;l<n.length;l++)t.lineTo(Math.floor(n[l].x)+.5,Math.floor(n[l].y)+.5);t.fill(),e.shift(),e.pop(),n.shift(),n.pop()}},{key:"DrawTickerGraph",value:function(t){var e=i.a.instance.getDataSource(this.getDataSourceName()),n=e._dataItems[e._dataItems.length-1].close;this.m_left,this.m_pRange.toY(n);t.fillStyle=this.m_pTheme.getColor(c.c.Color.Mark),t.strokeStyle=this.m_pTheme.getColor(c.c.Color.Mark)}}]),e}(r.a),j=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=(e.getTimeline(this.getDataSourceName()),this.getAreaName()),a=e.getArea(n),r=n.substring(0,n.lastIndexOf("Range")),s=e.getRange(r);if(0!==s.getRange()){var l=e.getDataSource(this.getDataSourceName());if(!(l.getDataCount()<1)){var h=e.getTheme(this.getFrameName());t.font=h.getFont(c.c.Font.Default),t.textAlign="left",t.textBaseline="middle",t.fillStyle=h.getColor(c.c.Color.RangeMark),t.strokeStyle=h.getColor(c.c.Color.RangeMark);var u=l.getDataAt(l.getDataCount()-1).volume,_=s.toY(u),d=a.getLeft()+1;b.drawLine(t,d,_,d+7,_),b.drawLine(t,d,_,d+3,_+2),b.drawLine(t,d,_,d+3,_-2),t.fillText(o.a.fromFloat(u,2),d+10,_)}}}}]),e}(b),U=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=(e.getTimeline(this.getDataSourceName()),this.getAreaName()),a=e.getArea(n),r=n.substring(0,n.lastIndexOf("Range")),s=e.getRange(r);if(0!==s.getRange()){var l=e.getDataSource(this.getDataSourceName());if(!(l.getDataCount()<1)){var h=l._dataItems[l._dataItems.length-1].close;if(!(h<=s.getMinValue()||h>=s.getMaxValue())){var u=e.getTheme(this.getFrameName());t.font=u.getFont(c.c.Font.Default),t.textAlign="left",t.textBaseline="middle",t.fillStyle=u.getColor(c.c.Color.RangeMark),t.strokeStyle=u.getColor(c.c.Color.RangeMark);var _=s.toY(h),d=a.getLeft()+1;b.drawLine(t,d,_,d+7,_),b.drawLine(t,d,_,d+3,_+2),b.drawLine(t,d,_,d+3,_-2),t.fillText(o.a.fromFloat(h,l.getDecimalDigits()),d+10,_)}}}}}]),e}(b),B=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance;if(e._drawingTool===i.a.DrawingTool.CrossCursor){var n=e.getArea(this.getAreaName()),a=e.getTimeline(this.getDataSourceName());if(!(a.getSelectedIndex()<0)){var r=e.getRange(this.getAreaName()),o=e.getTheme(this.getFrameName());t.strokeStyle=o.getColor(c.c.Color.Cursor);var s=a.toItemCenter(a.getSelectedIndex());b.drawLine(t,s,n.getTop()-1,s,n.getBottom());var l=r.getSelectedPosition();l>=0&&b.drawLine(t,n.getLeft(),l,n.getRight(),l)}}}}]),e}(b),W=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var n=i.a.instance,r=n.getArea(this.getAreaName()),s=n.getTimeline(this.getDataSourceName());if(!(s.getSelectedIndex()<0)){var l=n.getDataSource(this.getDataSourceName());if(o.a.isInstance(l,u.b)){var h=n.getTheme(this.getFrameName()),_=n.getLanguage(),d=s.toItemCenter(s.getSelectedIndex());t.fillStyle=h.getColor(c.c.Color.Background),t.fillRect(d-52.5,r.getTop()+2.5,106,18),t.strokeStyle=h.getColor(c.c.Color.Grid3),t.strokeRect(d-52.5,r.getTop()+2.5,106,18),t.font=h.getFont(c.c.Font.Default),t.textAlign="center",t.textBaseline="middle",t.fillStyle=h.getColor(c.c.Color.Text4);var g=new Date(l.getDataAt(s.getSelectedIndex()).date),f=g.getMonth()+1,p=g.getDate(),m=g.getHours(),v=g.getMinutes(),y=g.getSeconds(),w=f.toString(),b=p.toString(),A=m.toString(),P=v.toString(),C=y.toString();v<10&&(P="0"+P),y<10&&(C="0"+C);var M="";"zh-cn"===_?M=w+"月"+b+"日  "+A+":"+P:"zh-tw"===_?M=w+"月"+b+"日  "+A+":"+P:"en-us"===_&&(M=e.MonthConvert[f]+" "+b+"  "+A+":"+P),a.a.instance.range<6e4&&(M+=":"+C),t.fillText(M,d,r.getMiddle())}}}}]),e}(b);W.MonthConvert={1:"Jan.",2:"Feb.",3:"Mar.",4:"Apr.",5:"May.",6:"Jun.",7:"Jul.",8:"Aug.",9:"Sep.",10:"Oct.",11:"Nov.",12:"Dec."};var Y=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"Draw",value:function(t){var e=i.a.instance,n=this.getAreaName(),a=e.getArea(n);if(!(e.getTimeline(this.getDataSourceName()).getSelectedIndex()<0)){var r=n.substring(0,n.lastIndexOf("Range")),s=e.getRange(r);if(!(0===s.getRange()||s.getSelectedPosition()<0)){var l=s.getSelectedValue();if(l!==-Number.MAX_VALUE){var h=s.getSelectedPosition();b.createPolygon(t,[{x:a.getLeft(),y:h},{x:a.getLeft()+5,y:h+10},{x:a.getRight()-3,y:h+10},{x:a.getRight()-3,y:h-10},{x:a.getLeft()+5,y:h-10}]);var u=e.getTheme(this.getFrameName());t.fillStyle=u.getColor(c.c.Color.Background),t.fill(),t.strokeStyle=u.getColor(c.c.Color.Grid4),t.stroke(),t.font=u.getFont(c.c.Font.Default),t.textAlign="center",t.textBaseline="middle",t.fillStyle=u.getColor(c.c.Color.Text3);var _=2;"main"===s.getNameObject().getCompAt(2)&&(_=e.getDataSource(this.getDataSourceName()).getDecimalDigits()),t.fillText(o.a.fromFloat(l,_),a.getCenter(),h)}}}}}]),e}(r.a),F=function(t){function e(t,n){var a;g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n;var r=i.a.instance.getArea("frame0.k0.main");return null===r?(a.areaPos={left:0,top:0,right:0,bottom:0},m(a)):(a.areaPos={left:r.getLeft(),top:r.getTop(),right:r.getRight(),bottom:r.getBottom()},a.crossPt={},a.normalSize=4,a.selectedSize=6,a.cursorLen=4,a.cursorGapLen=3,a.theme=i.a.instance.getTheme(a.getFrameName()),a)}return y(e,t),p(e,[{key:"drawCursor",value:function(t){this.drawCrossCursor(t)}},{key:"drawCrossCursor",value:function(t){t.strokeStyle=this.theme.getColor(c.c.Color.LineColorNormal),t.fillStyle=this.theme.getColor(c.c.Color.LineColorNormal);var e=this.toolObject.getPoint(0).getPosXY();if(null!==e){var n=e.x,a=e.y,r=this.cursorLen,i=this.cursorGapLen;t.fillRect(n,a,1,1),b.drawLine(t,n-r-i,a,n-i,a),b.drawLine(t,n+r+i,a,n+i,a),b.drawLine(t,n,a-r-i,n,a-i),b.drawLine(t,n,a+r+i,n,a+i)}}},{key:"drawCircle",value:function(t,e,n){var a=e.x,r=e.y;t.beginPath(),t.arc(a,r,n,0,2*Math.PI,!1),t.fillStyle=this.theme.getColor(c.c.Color.CircleColorFill),t.fill(),t.stroke()}},{key:"drawCtrlPt",value:function(t){t.strokeStyle=this.theme.getColor(c.c.Color.CircleColorStroke);for(var e=0;e<this.ctrlPtsNum;e++)this.drawCircle(t,this.ctrlPts[1][e],this.normalSize)}},{key:"highlightCtrlPt",value:function(t){t.strokeStyle=this.theme.getColor(c.c.Color.CircleColorStroke);for(var e=0;e<this.ctrlPtsNum;e++)this.toolObject.getPoint(e).getState()===s.a.state.Highlight&&this.drawCircle(t,this.ctrlPts[1][e],this.selectedSize)}},{key:"drawFibRayLines",value:function(t,e,n){for(var a=0;a<this.fiboFansSequence.length;a++){var r=e.y+(100-this.fiboFansSequence[a])/100*(n.y-e.y),i={x:e.x,y:e.y},o={x:n.x,y:r};this.drawRayLines(t,i,o)}}},{key:"drawRayLines",value:function(t,e,n){this.getAreaPos();var a,r={x:e.x,y:e.y},i={x:n.x,y:n.y},o=this.getRectCrossPt(this.areaPos,r,i);a=n.x===e.x?n.y===e.y?n:n.y>e.y?{x:o[1].x,y:o[1].y}:{x:o[0].x,y:o[0].y}:n.x>e.x?{x:o[1].x,y:o[1].y}:{x:o[0].x,y:o[0].y},b.drawLine(t,e.x,e.y,a.x,a.y)}},{key:"lenBetweenPts",value:function(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}},{key:"getCtrlPts",value:function(){for(var t=0;t<this.ctrlPtsNum;t++)this.ctrlPts[0][t]=this.toolObject.getPoint(t)}},{key:"updateCtrlPtPos",value:function(){for(var t=0;t<this.ctrlPtsNum;t++)this.ctrlPts[1][t]=this.ctrlPts[0][t].getPosXY()}},{key:"getAreaPos",value:function(){var t=i.a.instance.getArea("frame0.k0.main");this.areaPos=null!==t?{left:Math.floor(t.getLeft()),top:Math.floor(t.getTop()),right:Math.floor(t.getRight()),bottom:Math.floor(t.getBottom())}:{left:0,top:0,right:0,bottom:0}}},{key:"updateDraw",value:function(t){t.strokeStyle=this.theme.getColor(c.c.Color.LineColorNormal),this.draw(t),this.drawCtrlPt(t)}},{key:"finishDraw",value:function(t){t.strokeStyle=this.theme.getColor(c.c.Color.LineColorNormal),this.draw(t)}},{key:"highlight",value:function(t){t.strokeStyle=this.theme.getColor(c.c.Color.LineColorSelected),this.draw(t),this.drawCtrlPt(t),this.highlightCtrlPt(t)}}]),e}(r.a),z=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y?b.drawLine(t,this.areaPos.left,this.startPoint.y,this.areaPos.right,this.startPoint.y):(this.crossPt=this.getRectCrossPt(this.areaPos,this.startPoint,this.endPoint),b.drawLine(t,this.crossPt[0].x,this.crossPt[0].y,this.crossPt[1].x,this.crossPt[1].y))}}]),e}(F),V=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),b.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x,this.endPoint.y)}}]),e}(F),G=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),this.drawRayLines(t,this.startPoint,this.endPoint)}}]),e}(F),Z=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.arrowSizeRatio=.03,a.arrowSize=4,a.crossPt={x:-1,y:-1},a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"drawArrow",value:function(t,e,n){var a=this.lenBetweenPts(e,n),r=[n.x-e.x,n.y-e.y];this.crossPt.x=e.x+(1-this.arrowSize/a)*r[0],this.crossPt.y=e.y+(1-this.arrowSize/a)*r[1];var i=[-r[1],r[0]],o={x:i[0],y:i[1]},s={x:0,y:0};i[0]=this.arrowSize*o.x/this.lenBetweenPts(o,s),i[1]=this.arrowSize*o.y/this.lenBetweenPts(o,s);var l=[this.crossPt.x+i[0],this.crossPt.y+i[1]];b.drawLine(t,n.x,n.y,l[0],l[1]),l=[this.crossPt.x-i[0],this.crossPt.y-i[1]],b.drawLine(t,n.x,n.y,l[0],l[1])}},{key:"draw",value:function(t){this.updateCtrlPtPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),b.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x,this.endPoint.y),this.drawArrow(t,this.startPoint,this.endPoint)}}]),e}(F),K=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a.ctrlPtsNum=1,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],b.drawLine(t,this.areaPos.left,this.startPoint.y,this.areaPos.right,this.startPoint.y)}}]),e}(F),H=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){if(this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x)b.drawLine(t,this.startPoint.x,this.startPoint.y,this.areaPos.right,this.startPoint.y);else{var e={x:this.endPoint.x,y:this.startPoint.y};this.drawRayLines(t,this.startPoint,e)}}}]),e}(F),X=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.endPoint.y=this.startPoint.y,this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y?b.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x+1,this.startPoint.y):b.drawLine(t,this.startPoint.x,this.startPoint.y,this.endPoint.x,this.startPoint.y)}}]),e}(F),J=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a.ctrlPtsNum=1,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],b.drawLine(t,this.startPoint.x,this.areaPos.top,this.startPoint.x,this.areaPos.bottom)}}]),e}(F),Q=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a.ctrlPtsNum=1,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){t.font="12px Tahoma",t.textAlign="left",t.fillStyle=this.theme.getColor(c.c.Color.LineColorNormal),this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0];var e=this.ctrlPts[0][0].getPosIV().v;b.drawLine(t,this.startPoint.x,this.startPoint.y,this.areaPos.right,this.startPoint.y),t.fillText(e.toFixed(2),this.startPoint.x+2,this.startPoint.y-15)}}]),e}(F),q=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a}return y(e,t),p(e,[{key:"getParaPt",value:function(){var t=[];t[0]=this.endPoint.x-this.startPoint.x,t[1]=this.endPoint.y-this.startPoint.y;var e=[];e[0]=this.paraStartPoint.x-this.startPoint.x,e[1]=this.paraStartPoint.y-this.startPoint.y,this.paraEndPoint={x:-1,y:-1},this.paraEndPoint.x=t[0]+e[0]+this.startPoint.x,this.paraEndPoint.y=t[1]+e[1]+this.startPoint.y}}]),e}(F),$=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.ctrlPtsNum=3,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.paraStartPoint=this.ctrlPts[1][1],this.endPoint=this.ctrlPts[1][2],this.getParaPt(),this.getAreaPos(),this.crossPt0=this.getRectCrossPt(this.areaPos,this.startPoint,this.endPoint),b.drawLine(t,this.crossPt0[0].x,this.crossPt0[0].y,this.crossPt0[1].x,this.crossPt0[1].y),this.crossPt1=this.getRectCrossPt(this.areaPos,this.paraStartPoint,this.paraEndPoint),b.drawLine(t,this.crossPt1[0].x,this.crossPt1[0].y,this.crossPt1[1].x,this.crossPt1[1].y)}}]),e}(q),tt=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.ctrlPtsNum=3,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.paraStartPoint=this.ctrlPts[1][1],this.endPoint=this.ctrlPts[1][2],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),this.getParaPt(),this.drawRayLines(t,this.startPoint,this.endPoint),this.drawRayLines(t,this.paraStartPoint,this.paraEndPoint)}}]),e}(q),et=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.ctrlPtsNum=3,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.paraStartPoint=this.ctrlPts[1][1],this.endPoint=this.ctrlPts[1][2];var e=[];e[0]=this.endPoint.x-this.startPoint.x,e[1]=this.endPoint.y-this.startPoint.y;var n=[];n[0]=this.paraStartPoint.x-this.startPoint.x,n[1]=this.paraStartPoint.y-this.startPoint.y,this.para1EndPoint={x:-1,y:-1},this.para2EndPoint={x:-1,y:-1},this.para2StartPoint={x:-1,y:-1},this.para1EndPoint.x=e[0]+n[0]+this.startPoint.x,this.para1EndPoint.y=e[1]+n[1]+this.startPoint.y,this.para2StartPoint.x=this.startPoint.x-n[0],this.para2StartPoint.y=this.startPoint.y-n[1],this.para2EndPoint.x=this.endPoint.x-n[0],this.para2EndPoint.y=this.endPoint.y-n[1],this.getAreaPos(),this.crossPt0=this.getRectCrossPt(this.areaPos,this.startPoint,this.endPoint),b.drawLine(t,this.crossPt0[0].x,this.crossPt0[0].y,this.crossPt0[1].x,this.crossPt0[1].y),this.crossPt1=this.getRectCrossPt(this.areaPos,this.paraStartPoint,this.para1EndPoint),b.drawLine(t,this.crossPt1[0].x,this.crossPt1[0].y,this.crossPt1[1].x,this.crossPt1[1].y),this.crossPt2=this.getRectCrossPt(this.areaPos,this.para2StartPoint,this.para2EndPoint),b.drawLine(t,this.crossPt2[0].x,this.crossPt2[0].y,this.crossPt2[1].x,this.crossPt2[1].y)}}]),e}(q),nt=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"drawLinesAndInfo",value:function(t,e,n){var a;t.font="12px Tahoma",t.textAlign="left",t.fillStyle=this.theme.getColor(c.c.Color.LineColorNormal),this.toolObject.state===_.n.state.Draw&&(this.startPtValue=this.toolObject.getPoint(0).getPosIV().v,this.endPtValue=this.toolObject.getPoint(1).getPosIV().v),this.getAreaPos();for(var r=0;r<this.fiboSequence.length;r++){var i=e.y+(100-this.fiboSequence[r])/100*(n.y-e.y);if(!(i>this.areaPos.bottom)){var o=this.startPtValue+(100-this.fiboSequence[r])/100*(this.endPtValue-this.startPtValue);b.drawLine(t,this.areaPos.left,i,this.areaPos.right,i),a=this.fiboSequence[r].toFixed(1)+"% "+o.toFixed(1),t.fillText(a,this.areaPos.left+2,i-15)}}}},{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.drawLinesAndInfo(t,this.startPoint,this.endPoint)}}]),e}(F),at=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.fiboSequence=[100,78.6,61.8,50,38.2,23.6,0],a}return y(e,t),e}(nt),rt=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t,n))).toolObject=n,a.fiboSequence=[0,12.5,25,37.5,50,62.5,75,87.5,100],a}return y(e,t),e}(nt),it=function(t){function e(t,n){var a;return g(this,e),(a=m(this,v(e).call(this,t))).toolObject=n,a.fiboFansSequence=[0,38.2,50,61.8],a.ctrlPtsNum=2,a.ctrlPts=[new Array(a.ctrlPtsNum),new Array(2)],a.getCtrlPts(),a}return y(e,t),p(e,[{key:"drawLinesAndInfo",value:function(t,e,n){this.drawFibRayLines(t,e,n)}},{key:"draw",value:function(t){this.updateCtrlPtPos(),this.getAreaPos(),this.startPoint=this.ctrlPts[1][0],this.endPoint=this.ctrlPts[1][1],this.startPoint.x===this.endPoint.x&&this.startPoint.y===this.endPoint.y&&(this.endPoint.x+=1),this.drawLinesAndInfo(t,this.startPoint,this.endPoint)}}]),e}(F),ot=function(t){function e(t){var n;return g(this,e),(n=m(this,v(e).call(this,t))).flag=!0,n.context=i.a.instance._overlayContext,n}return y(e,t),p(e,[{key:"getAreaPos",value:function(){var t=i.a.instance.getArea("frame0.k0.main");this.areaPos=null!==t?{left:Math.floor(t.getLeft()),top:Math.floor(t.getTop()),right:Math.floor(t.getRight()),bottom:Math.floor(t.getBottom())}:{left:0,top:0,right:0,bottom:0}}},{key:"Draw",value:function(t){this.getAreaPos();var e=i.a.instance.getDataSource(this.getDataSourceName());if(null!==e&&o.a.isInstance(e,u.b)){this.context.save(),this.context.rect(this.areaPos.left,this.areaPos.top,this.areaPos.right-this.areaPos.left,this.areaPos.bottom-this.areaPos.top),this.context.clip();for(var n=e.getToolObjectCount(),a=0;a<n;a++){var r=e.getToolObject(a);switch(r.getState()){case _.n.state.BeforeDraw:r.getPlotter().theme=i.a.instance.getTheme(this.getFrameName()),r.getPlotter().drawCursor(this.context);break;case _.n.state.Draw:r.getPlotter().theme=i.a.instance.getTheme(this.getFrameName()),r.getPlotter().updateDraw(this.context);break;case _.n.state.AfterDraw:r.getPlotter().theme=i.a.instance.getTheme(this.getFrameName()),r.getPlotter().finishDraw(this.context)}}var s=e.getSelectToolObjcet();null!==s&&s!==_.n.state.Draw&&s.getPlotter().highlight(this.context),this.context.restore()}}}]),e}(r.a)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(2);function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,i;return e=t,i=[{key:"checkVersion",value:function(){if(t._data.ver<2){t._data.ver=2;var e=t._data.charts;e.period_weight={},e.period_weight.line=8,e.period_weight["1min"]=7,e.period_weight["5min"]=6,e.period_weight["15min"]=5,e.period_weight["30min"]=4,e.period_weight["1hour"]=3,e.period_weight["1day"]=2,e.period_weight["1week"]=1,e.period_weight["3min"]=0,e.period_weight["2hour"]=0,e.period_weight["4hour"]=0,e.period_weight["6hour"]=0,e.period_weight["12hour"]=0,e.period_weight["3day"]=0}t._data.ver<3&&(t._data.ver=3,t._data.charts.areaHeight=[])}},{key:"get",value:function(){return void 0===t._data&&(t.init(),t.load(),t.checkVersion()),t._data}},{key:"init",value:function(){for(var e={},n=["MA","EMA","VOLUME","MACD","KDJ","StochRSI","RSI","DMI","OBV","BOLL","DMA","TRIX","BRAR","VR","EMV","WR","ROC","MTM","PSY"],r=0;r<n.length;r++){var i=a.a.instance.createIndicatorAndRange("",n[r],!0);if(null!==i){e[n[r]]=[];for(var o=i.indic.getParameters(),s=0;s<o.length;s++)e[n[r]].push(o[s])}}var l={chartStyle:"CandleStick",mIndic:"MA",indics:["VOLUME","VOLUME"],indicsStatus:"open",period:"15m",depthStatus:"close"};t._data={ver:1,charts:l,indics:e,theme:"Dark"},t.checkVersion()}},{key:"load",value:function(){if(!(document.cookie.length<=0)){var e=document.cookie.indexOf("chartSettings=");if(!(e<0)){e+="chartSettings=".length;var n=document.cookie.indexOf(";",e);n<0&&(n=document.cookie.length);var a=unescape(document.cookie.substring(e,n));t._data=JSON.parse(a)}}}},{key:"save",value:function(){var e=new Date;e.setDate(e.getDate()+2),document.cookie="chartSettings="+escape(JSON.stringify(t._data))+";expires="+e.toGMTString()}}],(n=null)&&r(e.prototype,n),i&&r(e,i),t}()},function(t,e,n){"use strict";n.d(e,"a",(function(){return _}));var a=n(2),r=n(12),i=n(13),o=n(8);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function c(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){return(u=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var _=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=c(this,h(e).call(this,t))).pos={index:-1,value:-1},n.state=e.state.Hide,n}var n,r,s;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&u(t,e)}(e,t),n=e,(r=[{key:"getChartObjects",value:function(){var t=a.a.instance,e=t.getDataSource("frame0.k0");if(null===e||!o.a.isInstance(e,i.b))return null;var n=t.getTimeline("frame0.k0");if(null===n)return null;var r=t.getRange("frame0.k0.main");return null===r?null:{pMgr:t,pCDS:e,pTimeline:n,pRange:r}}},{key:"setPosXY",value:function(t,e){var n=this.getChartObjects(),a=n.pTimeline.toIndex(t),r=n.pRange.toValue(e),i=this.snapValue(a,r);null!==i&&(r=i),this.setPosIV(a,r)}},{key:"setPosXYNoSnap",value:function(t,e){var n=this.getChartObjects(),a=n.pTimeline.toIndex(t),r=n.pRange.toValue(e);this.setPosIV(a,r)}},{key:"setPosIV",value:function(t,e){this.pos={index:t,value:e}}},{key:"getPosXY",value:function(){var t=this.getChartObjects();return{x:t.pTimeline.toItemCenter(this.pos.index),y:t.pRange.toY(this.pos.value)}}},{key:"getPosIV",value:function(){return{i:this.pos.index,v:this.pos.value}}},{key:"setState",value:function(t){this.state=t}},{key:"getState",value:function(){return this.state}},{key:"isSelected",value:function(t,n){var a=this.getPosXY();return!(t<a.x-4||t>a.x+4||n<a.y-4||n>a.y+4||(this.setState(e.state.Highlight),0))}},{key:"snapValue",value:function(t,e){var n=this.getChartObjects(),a=null,r=Math.floor(n.pTimeline.getFirstIndex()),i=Math.floor(n.pTimeline.getLastIndex());if(t<r||t>i)return a;var o=n.pRange.toY(e),s=n.pCDS.getDataAt(t);if(null==s)return a;var l=null;l=t>0?n.pCDS.getDataAt(t-1):n.pCDS.getDataAt(t);var c=n.pMgr.getChartStyle(n.pCDS.getFrameName()),h=n.pRange.toY(s.open),u=n.pRange.toY(s.high),_=n.pRange.toY(s.low),d=n.pRange.toY(s.close);"CandleStickHLC"===c&&(h=n.pRange.toY(l.close));var g=Math.abs(h-o),f=Math.abs(u-o),p=Math.abs(_-o),m=Math.abs(d-o);return g<=f&&g<=p&&g<=m&&g<6&&(a=s.open),f<=g&&f<=p&&f<=m&&f<6&&(a=s.high),p<=g&&p<=f&&p<=m&&p<6&&(a=s.low),m<=g&&m<=f&&m<=p&&m<6&&(a=s.close),a}}])&&l(n.prototype,r),s&&l(n,s),e}(r.a);_.state={Hide:0,Show:1,Highlight:2}},function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.d(e,"a",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t)}var e,n,r;return e=t,r=[{key:"fromFloat",value:function(t,e){for(var n=t.toFixed(e),a=n.length-1;a>=0;a--){if("."===n[a])return n.substring(0,a);if("0"!==n[a])return n.substring(0,a+1)}}},{key:"formatTime",value:function(t){return t<10?"0"+t.toString():t.toString()}},{key:"isInstance",value:function(t,e){return null!=t&&t instanceof e}}],(n=null)&&a(e.prototype,n),r&&a(e,r),t}()},function(module,__webpack_exports__,__webpack_require__){"use strict";__webpack_require__.d(__webpack_exports__,"a",(function(){return Control}));var _kline__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(4),_chart_manager__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(2),_chart_settings__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(6),_templates__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(16),_mevent__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(18),jquery__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(1),jquery__WEBPACK_IMPORTED_MODULE_5___default=__webpack_require__.n(jquery__WEBPACK_IMPORTED_MODULE_5__);function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _createClass(t,e,n){return e&&_defineProperties(t.prototype,e),n&&_defineProperties(t,n),t}var Control=function(){function Control(){_classCallCheck(this,Control)}return _createClass(Control,null,[{key:"refreshFunction",value:function(){Control.refreshCounter++;var t=_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getLanguage();if(Control.refreshCounter>3600){var e=Number(Control.refreshCounter/3600);"en-us"===t?jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(e.toFixed(0)+"h"):"zh-tw"===t?jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(e.toFixed(0)+"小時"):jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(e.toFixed(0)+"小时")}else if(Control.refreshCounter>60&&Control.refreshCounter<=3600){var n=Number(Control.refreshCounter/60);"en-us"===t?jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(n.toFixed(0)+"m"):"zh-tw"===t?jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(n.toFixed(0)+"分鐘"):jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(n.toFixed(0)+"分钟")}else Control.refreshCounter<=60&&("en-us"===t?jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(Control.refreshCounter+"s"):jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(Control.refreshCounter+"秒"))}},{key:"clearRefreshCounter",value:function(){window.clearInterval(Control.refreshHandler),Control.refreshCounter=0,"en-us"===_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getLanguage()?jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(Control.refreshCounter+"s"):jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_updated_time_text").html(Control.refreshCounter+"秒"),Control.refreshHandler=setInterval(Control.refreshFunction,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.intervalTime)}},{key:"requestData",value:function(t){window.clearTimeout(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.timer),!0===t&&jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_loading").addClass("activated"),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.onRequestDataFunc(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.requestParam,(function(t){t&&t.success?Control.requestSuccessHandler(t):(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.debug&&console.log(t),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.timer=setTimeout((function(){Control.requestData(!0)}),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.intervalTime))}))}},{key:"requestSuccessHandler",value:function requestSuccessHandler(res){_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.debug&&console.log(res),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_loading").removeClass("activated");var chart=_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart();chart.setTitle(),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.data=eval(res.data);var updateDataRes=_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.chartMgr.updateData("frame0.k0",_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.data.lines);_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.requestParam=Control.setHttpRequestParam(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.symbol,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.range,null,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.chartMgr.getDataSource("frame0.k0").getLastDate());var intervalTime=_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.intervalTime<_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.range?_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.intervalTime:_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.range;if(updateDataRes){var tmp=_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get();_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.data.depths&&"open"===tmp.charts.depthStatus&&_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().updateDepth(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.data.depths),Control.clearRefreshCounter(),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.timer=setTimeout(Control.TwoSecondThread,intervalTime),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.redraw("All",!1)}else _kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.timer=setTimeout(Control.requestData,intervalTime)}},{key:"TwoSecondThread",value:function(){var t=_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.chartMgr.getDataSource("frame0.k0").getLastDate();_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.requestParam=-1===t?Control.setHttpRequestParam(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.symbol,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.range,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.limit,null):Control.setHttpRequestParam(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.symbol,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.range,null,t.toString()),Control.requestData()}},{key:"readCookie",value:function(){_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get(),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save();var t=_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get();jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_select_chart_style").find("a").each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this)[0].innerHTML===t.charts.chartStyle?jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected"):jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).removeClass("selected")})),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setChartStyle("frame0.k0",t.charts.chartStyle);var e=t.charts.symbol;_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.init||(e=_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.symbol,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.init=!0),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.symbol=e,Control.switchSymbolSelected(e);var n=t.charts.period;Control.switchPeriod(n),"close"===t.charts.indicsStatus?Control.switchIndic("off"):"open"===t.charts.indicsStatus&&Control.switchIndic("on"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_select_main_indicator").find("a").each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr("name")===t.charts.mIndic?jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected"):jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).removeClass("selected")})),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().setMainIndicator(t.charts.mIndic),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setThemeName("frame0",t.theme),Control.switchTools("off"),"Dark"===t.theme?Control.switchTheme("dark"):"Light"===t.theme&&Control.switchTheme("light"),Control.chartSwitchLanguage(t.language||"zh-cn"),"close"===t.charts.depthStatus?Control.switchDepth("off"):"open"===t.charts.depthStatus&&Control.switchDepth("on")}},{key:"setHttpRequestParam",value:function(t,e,n,a){return{symbol:t,range:e,limit:n,since:a}}},{key:"refreshTemplate",value:function(){_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.chartMgr=_templates__WEBPACK_IMPORTED_MODULE_3__.a.loadTemplate("frame0.k0",""),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.redraw("All",!0)}},{key:"chartSwitchLanguage",value:function(t){var e=t.replace(/-/,"_");jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_language_switch_tmp").find("span").each((function(){var t=jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr("name"),n=jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr(e);t="."+t,jquery__WEBPACK_IMPORTED_MODULE_5___default()(t)[0]&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(t).each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this)[0].innerHTML=n}))})),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_language_setting_div li a[name='"+t+"']").addClass("selected"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setLanguage(t),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().setTitle(),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().language=t,_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save(),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.onLangChangeFunc(t)}},{key:"onSize",value:function(t,e){var n=t||window.innerWidth,a=n,r=e||window.innerHeight;jquery__WEBPACK_IMPORTED_MODULE_5___default()(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.element).css({width:n+"px",height:r+"px"});var i=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar"),o=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolpanel"),s=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_canvasGroup"),l=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_tabbar"),c="inline"===o[0].style.display,h="block"===l[0].style.display,u={x:0,y:0};u.w=a,u.h=29;var _={x:0};_.y=u.h+1,_.w=c?32:0,_.h=r-_.y;var d={};d.w=c?a-(_.w+1):a,d.h=h?25:-1,d.x=a-d.w,d.y=r-(d.h+1);var g={};g.x=d.x,g.y=_.y,g.w=d.w,g.h=d.y-_.y,i.css({left:u.x+"px",top:u.y+"px",width:u.w+"px",height:u.h+"px"}),c&&o.css({left:_.x+"px",top:_.y+"px",width:_.w+"px",height:_.h+"px"}),s.css({left:g.x+"px",top:g.y+"px",height:g.h+"px"});var f=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_mainCanvas")[0],p=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_overlayCanvas")[0];f.width=g.w,f.height=g.h,p.width=g.w,p.height=g.h,h&&l.css({left:d.x+"px",top:d.y+"px",width:d.w+"px",height:d.h+"px"});var m=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_parameter_settings");m.css({left:a-m.width()>>1,top:r-m.height()>>1});var v=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_loading");v.css({left:a-v.width()>>1,top:r-v.height()>>2});var y=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_dom_elem_cache"),w=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_select_theme")[0],b=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_enable_tools")[0],A=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_enable_indicator")[0],P=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#symbol_title")[0],C=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar_periods_vert"),M=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar_periods_horz")[0],k=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_indicator")[0],D=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_tools")[0],x=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar_theme")[0],E=jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_dropdown_settings"),I=P.offsetWidth+C[0].offsetWidth,O=I+M.offsetWidth,R=O+k.offsetWidth+4,S=R+D.offsetWidth+4,T=S+x.offsetWidth,L=E.find(".chart_dropdown_t")[0].offsetWidth+300;I+=L,R+=L,S+=L,T+=L,a<(O+=L)?y.append(M):C.after(M),a<R?(y.append(k),A.style.display=""):(E.before(k),A.style.display="none"),a<S?(y.append(D),b.style.display=""):(E.before(D),b.style.display="none"),a<T?(y.append(x),w.style.display=""):(E.before(x),w.style.display="none"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.redraw("All",!0),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.onResizeFunc(n,r)}},{key:"mouseWheel",value:function(t,e){return _chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.scale(e>0?1:-1),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.redraw("All",!0),!1}},{key:"switchTheme",value:function(t){if(jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar_theme a").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_select_theme a").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar_theme").find("a").each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr("name")===t&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected")})),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_select_theme a").each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr("name")===t&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected")})),jquery__WEBPACK_IMPORTED_MODULE_5___default()(".chart_container").attr("class","chart_container "+t),jquery__WEBPACK_IMPORTED_MODULE_5___default()(".marketName_ a").attr("class",t),"dark"===t)jquery__WEBPACK_IMPORTED_MODULE_5___default()(".trade_container").addClass("dark").removeClass("light"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setThemeName("frame0","Dark"),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().theme="Dark",_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save();else if("light"===t){jquery__WEBPACK_IMPORTED_MODULE_5___default()(".trade_container").addClass("light").removeClass("dark"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setThemeName("frame0","Light"),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().theme="Light",_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save()}var e={command:"set current themes"};e.content=t,jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_output_interface_text").val(JSON.stringify(e)),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_output_interface_submit").submit(),(new _mevent__WEBPACK_IMPORTED_MODULE_4__.a).raise(t),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.redraw(),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.onThemeChangeFunc(t)}},{key:"switchTools",value:function(t){jquery__WEBPACK_IMPORTED_MODULE_5___default()(".chart_dropdown_data").removeClass("chart_dropdown-hover"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolpanel .chart_toolpanel_button").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_enable_tools a").removeClass("selected"),"on"===t?(jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_tools").addClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_enable_tools a").each((function(){"on"===jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr("name")&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected")})),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolpanel")[0].style.display="inline",_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance._drawingTool===_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.DrawingTool.Cursor?jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_Cursor").parent().addClass("selected"):_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance._drawingTool===_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.DrawingTool.CrossCursor&&jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_CrossCursor").parent().addClass("selected")):"off"===t&&(jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_tools").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_enable_tools a").each((function(){"off"===jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr("name")&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected")})),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolpanel")[0].style.display="none",_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setRunningMode(_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance._beforeDrawingTool),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.redraw("All",!0)),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.isSized?Control.onSize():Control.onSize(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.width,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.height)}},{key:"switchIndic",value:function(t){if(jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_enable_indicator a").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_enable_indicator a[name='"+t+"']").addClass("selected"),"on"===t){jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_indicator").addClass("selected");var e=_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get();e.charts.indicsStatus="open",_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save();var n=e.charts.indics[1];_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().setIndicator(1,n),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_tabbar").find("a").each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).attr("name")===n&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected")})),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_tabbar")[0].style.display="block"}else if("off"===t){jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_indicator").removeClass("selected"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().setIndicator(2,"NONE"),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.indicsStatus="close",_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save(),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_tabbar")[0].style.display="none",jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_tabbar a").removeClass("selected")}_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.isSized?Control.onSize():Control.onSize(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.width,_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.height)}},{key:"switchPeriod",value:function(t){if(jquery__WEBPACK_IMPORTED_MODULE_5___default()(".chart_container .chart_toolbar_tabgroup a").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar_periods_vert ul a").removeClass("selected"),jquery__WEBPACK_IMPORTED_MODULE_5___default()(".chart_container .chart_toolbar_tabgroup a").each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).parent().attr("name")===t&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected")})),jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_toolbar_periods_vert ul a").each((function(){jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).parent().attr("name")===t&&jquery__WEBPACK_IMPORTED_MODULE_5___default()(this).addClass("selected")})),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.showCursor(),Control.calcPeriodWeight(t),"line"===t)return _chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().strIsLine=!0,_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setChartStyle("frame0.k0","Line"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().setCurrentPeriod("line"),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.period=t,void _chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save();_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().strIsLine=!1;var e=_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.tagMapPeriod[t];_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setChartStyle("frame0.k0",_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.chartStyle),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().setCurrentPeriod(e),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.period=t,_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save()}},{key:"switchDepth",value:function(t){var e=_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get();"on"===t?(e.charts.depthStatus="open",jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_depth").addClass("selected"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().updateDepth(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.data.depths)):"off"===t&&(e.charts.depthStatus="close",jquery__WEBPACK_IMPORTED_MODULE_5___default()("#chart_show_depth").removeClass("selected"),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().updateDepth(null)),_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save()}},{key:"reset",value:function(t){_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.symbol=t}},{key:"switchSymbolSelected",value:function(t,e){Control.reset(t),jquery__WEBPACK_IMPORTED_MODULE_5___default()(".symbol-title").text(e),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart()._symbol=t,_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.symbol=t,_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save()}},{key:"switchSymbol",value:function(t,e){"stomp"===_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.type&&1===_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.stompClient.ws.readyState&&(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.subscribed.unsubscribe(),_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.subscribed=_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.stompClient.subscribe(_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.subscribePath+"/"+t+"/"+_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.range,Control.subscribeCallback)),Control.switchSymbolSelected(t,e),"line"===_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.period?(_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().strIsLine=!0,_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setChartStyle("frame0.k0","Line")):(_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().strIsLine=!1,_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.setChartStyle("frame0.k0",_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.chartStyle)),_chart_manager__WEBPACK_IMPORTED_MODULE_1__.a.instance.getChart().setSymbol(t)}},{key:"calcPeriodWeight",value:function(t){var e=t;"line"!==t&&(e=_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.periodMap[_kline__WEBPACK_IMPORTED_MODULE_0__.a.instance.tagMapPeriod[t]]);var n=_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.get().charts.period_weight;for(var a in n)n[a]>n[e]&&(n[a]-=1);n[e]=8,_chart_settings__WEBPACK_IMPORTED_MODULE_2__.a.save()}}]),Control}();Control.refreshCounter=0,Control.refreshHandler=null},function(t,e,n){"use strict";n.d(e,"n",(function(){return y})),n.d(e,"b",(function(){return A})),n.d(e,"c",(function(){return P})),n.d(e,"d",(function(){return C})),n.d(e,"e",(function(){return M})),n.d(e,"f",(function(){return k})),n.d(e,"g",(function(){return D})),n.d(e,"h",(function(){return x})),n.d(e,"i",(function(){return E})),n.d(e,"k",(function(){return I})),n.d(e,"l",(function(){return O})),n.d(e,"m",(function(){return R})),n.d(e,"o",(function(){return S})),n.d(e,"p",(function(){return T})),n.d(e,"j",(function(){return L})),n.d(e,"a",(function(){return N}));var a=n(2),r=n(12),i=n(7),o=n(8),s=n(13),l=n(5);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e,n){return(h="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=p(t)););return t}(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function u(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function d(t,e,n){return e&&_(t.prototype,e),n&&_(t,n),t}function g(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?f(t):e}function f(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function p(t){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function m(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&v(t,e)}function v(t,e){return(v=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var y=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=null,n.state=e.state.BeforeDraw,n.points=[],n.step=0,n}return m(e,t),d(e,[{key:"getChartObjects",value:function(){var t=a.a.instance,e=t.getDataSource("frame0.k0");if(null===e||!o.a.isInstance(e,s.b))return null;var n=t.getTimeline("frame0.k0");if(null===n)return null;var r=t.getArea("frame0.k0.main");if(null===r)return null;var i=t.getRange("frame0.k0.main");return null===i?null:{pMgr:t,pCDS:e,pTimeline:n,pArea:r,pRange:i}}},{key:"isValidMouseXY",value:function(t,e){var n=this.getChartObjects(),a=n.pArea.getLeft(),r=n.pArea.getTop(),i=n.pArea.getRight(),o=n.pArea.getBottom();return!(t<a||t>i||e<r||e>o)}},{key:"getPlotter",value:function(){return this.drawer}},{key:"setState",value:function(t){this.state=t}},{key:"getState",value:function(){return this.state}},{key:"addPoint",value:function(t){this.points.push(t)}},{key:"getPoint",value:function(t){return this.points[t]}},{key:"acceptMouseMoveEvent",value:function(t,n){return!1!==this.isValidMouseXY(t,n)&&(this.state===e.state.BeforeDraw?this.setBeforeDrawPos(t,n):this.state===e.state.Draw?this.setDrawPos(t,n):this.state===e.state.AfterDraw&&this.setAfterDrawPos(t,n),!0)}},{key:"acceptMouseDownEvent",value:function(t,n){return!1!==this.isValidMouseXY(t,n)&&(this.state===e.state.BeforeDraw?(this.setDrawPos(t,n),this.setState(e.state.Draw)):this.state===e.state.Draw?(this.setAfterDrawPos(t,n),0===this.step&&this.setState(e.state.AfterDraw)):this.state===e.state.AfterDraw&&(e.prototype.isSelected(t,n)?(this.setDrawPos(t,n),this.setState(e.state.Draw)):(this.oldx=t,this.oldy=n)),!0)}},{key:"acceptMouseDownMoveEvent",value:function(t,n){if(!1===this.isValidMouseXY(t,n))return!1;if(this.state===e.state.Draw)this.setDrawPos(t,n);else if(this.state===e.state.AfterDraw){var a=this.getChartObjects(),r=a.pTimeline.getItemWidth();a.pRange;if(Math.abs(t-this.oldx)<r&&0===Math.abs(n-this.oldy))return!0;var i=a.pTimeline.toIndex(this.oldx),o=a.pRange.toValue(this.oldy),s=a.pTimeline.toIndex(t),l=a.pRange.toValue(n);this.oldx=t,this.oldy=n;var c=s-i,h=l-o;for(var u in this.points)this.points[u].pos.index+=c,this.points[u].pos.value+=h}return!0}},{key:"acceptMouseUpEvent",value:function(t,n){return!1!==this.isValidMouseXY(t,n)&&(this.state===e.state.Draw&&(this.setAfterDrawPos(t,n),0===this.step&&this.setState(e.state.AfterDraw),!0))}},{key:"setBeforeDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e),this.points[n].setState(i.a.state.Show)}},{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].getState()===i.a.state.Highlight&&this.points[n].setPosXY(t,e)}},{key:"setAfterDrawPos",value:function(t,e){for(var n in 0!==this.step&&(this.step-=1),this.points)this.points[n].setState(i.a.state.Hide);0===this.step&&this.getChartObjects().pMgr.setNormalMode()}},{key:"isSelected",value:function(t,e){var n=!1;for(var a in this.points)if(this.points[a].isSelected(t,e)){this.points[a].setState(i.a.state.Highlight),n=!0;break}return!0===n&&(this.select(),!0)}},{key:"select",value:function(){for(var t in this.points)this.points[t].getState()===i.a.state.Hide&&this.points[t].setState(i.a.state.Show)}},{key:"unselect",value:function(){for(var t in this.points)this.points[t].getState()!==i.a.state.Hide&&this.points[t].setState(i.a.state.Hide)}},{key:"calcDistance",value:function(t,e,n){var a=t.getPosXY().x,r=t.getPosXY().y,i=e.getPosXY().x,o=e.getPosXY().y,s=n.getPosXY().x,l=n.getPosXY().y,c=a-s,h=r-l,u=i-s,_=o-l;return Math.abs(c*_-h*u)/Math.sqrt(Math.pow(i-a,2)+Math.pow(o-r,2))}},{key:"calcGap",value:function(t,e,n){var a=t.sx,r=t.sy,i=t.ex,o=t.ey,s=a-e,l=r-n,c=i-e,h=o-n;return Math.abs(s*h-l*c)/Math.sqrt(Math.pow(i-a,2)+Math.pow(o-r,2))}},{key:"isWithRect",value:function(t,e,n){var a=t.getPosXY().x,r=t.getPosXY().y,i=e.getPosXY().x,o=e.getPosXY().y,s=n.getPosXY().x,l=n.getPosXY().y;return a>i?(a+=4,i-=4):(a-=4,i+=4),r>o?(r+=4,o-=4):(r-=4,o+=4),a<=s&&i>=s&&r<=l&&o>=l||(a>=s&&i<=s&&r<=l&&o>=l||(a<=s&&i>=s&&r>=l&&o<=l||a>=s&&i<=s&&r>=l&&o<=l))}}]),e}(r.a);y.state={BeforeDraw:0,Draw:1,AfterDraw:2};var w=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).addPoint(new i.a(t)),n.addPoint(new i.a(t)),n}return m(e,t),d(e,[{key:"setBeforeDrawPos",value:function(t,n){this.step=1,h(p(e.prototype),"setBeforeDrawPos",this).call(this,t,n),this.getPoint(0).setState(i.a.state.Show),this.getPoint(1).setState(i.a.state.Highlight)}}]),e}(y),b=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).addPoint(new i.a(t)),n.addPoint(new i.a(t)),n.addPoint(new i.a(t)),n}return m(e,t),d(e,[{key:"setBeforeDrawPos",value:function(t,n){this.step=2,h(p(e.prototype),"setBeforeDrawPos",this).call(this,t,n),this.getPoint(0).setState(i.a.state.Show),this.getPoint(1).setState(i.a.state.Show),this.getPoint(2).setState(i.a.state.Highlight)}},{key:"setAfterDrawPos",value:function(t,e){if(0!==this.step&&(this.step-=1),0===this.step)for(var n in this.points)this.points[n].setState(i.a.state.Hide);else this.getPoint(0).setState(i.a.state.Show),this.getPoint(1).setState(i.a.state.Highlight),this.getPoint(2).setState(i.a.state.Show);0===this.step&&this.getChartObjects().pMgr.setNormalMode()}}]),e}(y),A=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.j(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.a("frame0.k0").setPosXY(t,n);this.getPoint(0).getPosXY().x;for(var a=this.getPoint(0).getPosXY().y,r=(this.getPoint(1).getPosXY().x,this.getPoint(1).getPosXY().y),o=[100,87.5,75,62.5,50,37.5,25,12.5,0],s=0;s<o.length;s++){var l=a+(100-o[s])/100*(r-a);if(l<n+4&&l>n-4)return this.select(),!0}return!1}}]),e}(w),P=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.k(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;var a=this.getPoint(0).getPosXY().x,r=this.getPoint(0).getPosXY().y,i=this.getPoint(1).getPosXY().x,o=this.getPoint(1).getPosXY().y,s=this.getPoint(2).getPosXY().x,l=this.getPoint(2).getPosXY().y,c={sx:a,sy:r,ex:s,ey:l},u={sx:i,sy:o,ex:a-(a-i+(a-s)),ey:r-(r-o+(r-l))};return!(this.calcGap(c,t,n)>4&&this.calcGap(u,t,n)>4)}}]),e}(b),C=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.l(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;var a=this.getPoint(0).getPosXY().x,r=this.getPoint(0).getPosXY().y,i=this.getPoint(1).getPosXY().x,o=this.getPoint(1).getPosXY().y,s=this.getPoint(2).getPosXY().x,l=this.getPoint(2).getPosXY().y,c={sx:a,sy:r,ex:s,ey:l},u={sx:i,sy:o,ex:a-(a-i+(a-s)),ey:r-(r-o+(r-l))};return(c.ex>c.sx&&t>c.sx-4||c.ex<c.sx&&t<c.sx+4||u.ex>u.sx&&t>u.sx-4||u.ex<u.sx&&t<u.sx+4)&&(!(this.calcGap(c,t,n)>4&&this.calcGap(u,t,n)>4)&&(this.select(),!0))}}]),e}(b),M=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.m(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;var a=new i.a("frame0.k0");a.setPosXY(t,n);for(var r=this.getPoint(0).getPosXY().x,o=this.getPoint(0).getPosXY().y,s=this.getPoint(1).getPosXY().x,l=this.getPoint(1).getPosXY().y,c=this.getChartObjects(),u={left:c.pArea.getLeft(),top:c.pArea.getTop(),right:c.pArea.getRight(),bottom:c.pArea.getBottom()},_=[0,38.2,50,61.8],d=0;d<_.length;d++){var g={x:r,y:o},f={x:s,y:o+(100-_[d])/100*(l-o)},m=this.getRectCrossPt(u,g,f),v=Math.pow(m[0].x-r,2)+Math.pow(m[0].y-o,2)>Math.pow(m[0].x-s,2)+Math.pow(m[0].y-l,2)?{x:m[0].x,y:m[0].y}:{x:m[1].x,y:m[1].y};if(!(v.x>r&&t<r)&&!(v.x<r&&t>r)){var y=new i.a("frame0.k0");y.setPosXY(r,o);var w=new i.a("frame0.k0");if(w.setPosXY(v.x,v.y),!(this.calcDistance(y,w,a)>4))return this.select(),!0}}return!1}}]),e}(w),k=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.n(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.a("frame0.k0").setPosXY(t,n);this.getPoint(0).getPosXY().x;for(var a=this.getPoint(0).getPosXY().y,r=(this.getPoint(1).getPosXY().x,this.getPoint(1).getPosXY().y),o=[100,78.6,61.8,50,38.2,23.6,0],s=0;s<o.length;s++){var l=a+(100-o[s])/100*(r-a);if(l<n+4&&l>n-4)return this.select(),!0}return!1}}]),e}(w),D=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.o(t,f(n)),n}return m(e,t),d(e,[{key:"setDrawPos",value:function(t,e){if(this.points[0].getState()===i.a.state.Highlight)return this.points[0].setPosXY(t,e),void this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x,this.points[0].getPosXY().y);this.points[1].getState()===i.a.state.Highlight&&(this.points[1].setPosXY(t,e),this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x,this.points[1].getPosXY().y))}},{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.a("frame0.k0").setPosXY(t,n);var a=this.getPoint(0).getPosXY().y,r=this.getPoint(0).getPosXY().x,o=this.getPoint(1).getPosXY().x;return!(n>a+4||n<a-4)&&(!(o>r&&t<r-4)&&(!(o<r&&t>r+4)&&(this.select(),!0)))}}]),e}(w),x=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.p(t,f(n)),n}return m(e,t),d(e,[{key:"setDrawPos",value:function(t,e){if(this.points[0].getState()===i.a.state.Highlight)return this.points[0].setPosXY(t,e),void this.points[1].setPosXYNoSnap(this.points[1].getPosXY().x,this.points[0].getPosXY().y);this.points[1].getState()===i.a.state.Highlight&&(this.points[1].setPosXY(t,e),this.points[0].setPosXYNoSnap(this.points[0].getPosXY().x,this.points[1].getPosXY().y))}},{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.a("frame0.k0").setPosXY(t,n);var a=this.getPoint(0).getPosXY().y,r=this.getPoint(0).getPosXY().x,o=this.getPoint(1).getPosXY().x;return!(n>a+4||n<a-4)&&(!(r>o&&(t>r+4||t<o-4))&&(!(r<o&&(t<r-4||t>o+4))&&(this.select(),!0)))}}]),e}(w),E=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.q(t,f(n)),n}return m(e,t),d(e,[{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e)}},{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.a("frame0.k0").setPosXY(t,n);var a=this.getPoint(0).getPosXY().y;return!(n>a+4||n<a-4)&&(this.select(),!0)}}]),e}(w),I=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.s(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;var a=new i.a("frame0.k0");a.setPosXY(t,n);var r=this.getPoint(0).getPosXY().x,o=this.getPoint(1).getPosXY().x;return!(o>r&&t<r-4)&&(!(o<r&&t>r+4)&&(this.calcDistance(this.getPoint(0),this.getPoint(1),a)<4&&(this.select(),!0)))}}]),e}(w),O=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.t(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;var a=new i.a("frame0.k0");return a.setPosXY(t,n),!1!==this.isWithRect(this.getPoint(0),this.getPoint(1),a)&&(this.calcDistance(this.getPoint(0),this.getPoint(1),a)<4&&(this.select(),!0))}}]),e}(w),R=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.u(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;var a=new i.a("frame0.k0");return a.setPosXY(t,n),this.calcDistance(this.getPoint(0),this.getPoint(1),a)<4&&(this.select(),!0)}}]),e}(w),S=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.v(t,f(n)),n}return m(e,t),d(e,[{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;this.getChartObjects();var a=this.getPoint(0).getPosXY().x,r=this.getPoint(0).getPosXY().y,i=this.getPoint(1).getPosXY().x,o=this.getPoint(1).getPosXY().y,s=this.getPoint(2).getPosXY().x,l=this.getPoint(2).getPosXY().y,c=a-(a-i+(a-s)),u=r-(r-o+(r-l)),_={sx:a,sy:r,ex:s,ey:l},d={sx:i,sy:o,ex:c,ey:u},g=i-a,f=o-r,m=c-s,v=u-l,y={sx:Math.abs(g-a),sy:Math.abs(f-r),ex:Math.abs(m-s),ey:Math.abs(v-l)};return!(this.calcGap(_,t,n)>4&&this.calcGap(d,t,n)>4&&this.calcGap(y,t,n)>4)&&(this.select(),!0)}}]),e}(b),T=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.w(t,f(n)),n}return m(e,t),d(e,[{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e)}},{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.a("frame0.k0").setPosXY(t,n);var a=this.getPoint(0).getPosXY().x;return!(t>a+4||t<a-4)&&(this.select(),!0)}}]),e}(w),L=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.r(t,f(n)),n}return m(e,t),d(e,[{key:"setDrawPos",value:function(t,e){for(var n in this.points)this.points[n].setPosXY(t,e)}},{key:"isSelected",value:function(t,n){if(!0===h(p(e.prototype),"isSelected",this).call(this,t,n))return!0;new i.a("frame0.k0").setPosXY(t,n);var a=this.getPoint(0).getPosXY().x,r=this.getPoint(0).getPosXY().y;this.getPoint(1).getPosXY().x,this.getPoint(1).getPosXY().y;return!(t<a-4)&&(!(n>=r+4||n<=r-4)&&(this.select(),!0))}}]),e}(O),N=function(t){function e(t){var n;return u(this,e),(n=g(this,p(e).call(this,t))).drawer=new l.i(t,f(n)),n}return m(e,t),e}(O)},function(t,e,n){"use strict";n.d(e,"a",(function(){return f})),n.d(e,"e",(function(){return p})),n.d(e,"c",(function(){return m})),n.d(e,"f",(function(){return v})),n.d(e,"d",(function(){return y})),n.d(e,"g",(function(){return w})),n.d(e,"b",(function(){return b}));var a=n(12),r=n(2),i=n(18);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=_(t)););return t}(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function h(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function u(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var n;return l(this,e),(n=u(this,_(e).call(this,t)))._left=0,n._top=0,n._right=0,n._bottom=0,n._changed=!1,n._highlighted=!1,n._pressed=!1,n._selected=!1,n.Measuring=new i.a,n}return d(e,t),h(e,[{key:"getDockStyle",value:function(){return this._dockStyle}},{key:"setDockStyle",value:function(t){this._dockStyle=t}},{key:"getLeft",value:function(){return this._left}},{key:"getTop",value:function(){return this._top}},{key:"setTop",value:function(t){this._top!==t&&(this._top=t,this._changed=!0)}},{key:"getRight",value:function(){return this._right}},{key:"getBottom",value:function(){return this._bottom}},{key:"setBottom",value:function(t){this._bottom!==t&&(this._bottom=t,this._changed=!0)}},{key:"getCenter",value:function(){return this._left+this._right>>1}},{key:"getMiddle",value:function(){return this._top+this._bottom>>1}},{key:"getWidth",value:function(){return this._right-this._left}},{key:"getHeight",value:function(){return this._bottom-this._top}},{key:"getRect",value:function(){return{X:this._left,Y:this._top,Width:this._right-this._left,Height:this._bottom-this._top}}},{key:"contains",value:function(t,e){return t>=this._left&&t<this._right&&e>=this._top&&e<this._bottom?[this]:null}},{key:"getMeasuredWidth",value:function(){return this._measuredWidth}},{key:"getMeasuredHeight",value:function(){return this._measuredHeight}},{key:"setMeasuredDimension",value:function(t,e){this._measuredWidth=t,this._measuredHeight=e}},{key:"measure",value:function(t,e,n){this._measuredWidth=0,this._measuredHeight=0,this.Measuring.raise(this,{Width:e,Height:n}),0===this._measuredWidth&&0===this._measuredHeight&&this.setMeasuredDimension(e,n)}},{key:"layout",value:function(t,e,n,a,r){t<<=0,this._left!==t&&(this._left=t,this._changed=!0),e<<=0,this._top!==e&&(this._top=e,this._changed=!0),n<<=0,this._right!==n&&(this._right=n,this._changed=!0),a<<=0,this._bottom!==a&&(this._bottom=a,this._changed=!0),r&&(this._changed=!0)}},{key:"isChanged",value:function(){return this._changed}},{key:"setChanged",value:function(t){this._changed=t}},{key:"isHighlighted",value:function(){return this._highlighted}},{key:"getHighlightedArea",value:function(){return this._highlighted?this:null}},{key:"highlight",value:function(t){return this._highlighted=this===t,this._highlighted?this:null}},{key:"isPressed",value:function(){return this._pressed}},{key:"setPressed",value:function(t){this._pressed=t}},{key:"isSelected",value:function(){return this._selected}},{key:"getSelectedArea",value:function(){return this._selected?this:null}},{key:"select",value:function(t){return this._selected=this===t,this._selected?this:null}},{key:"onMouseMove",value:function(t,e){return null}},{key:"onMouseLeave",value:function(t,e){}},{key:"onMouseDown",value:function(t,e){return null}},{key:"onMouseUp",value:function(t,e){return null}}]),e}(a.a);f.DockStyle={Left:0,Top:1,Right:2,Bottom:3,Fill:4};var p=function(t){function e(t){var n;return l(this,e),(n=u(this,_(e).call(this,t)))._dragStarted=!1,n._oldX=0,n._oldY=0,n._passMoveEventToToolManager=!0,n}return d(e,t),h(e,[{key:"onMouseMove",value:function(t,e){var n=r.a.instance;if(n._capturingMouseArea===this&&!1===this._dragStarted&&(Math.abs(this._oldX-t)>1||Math.abs(this._oldY-e)>1)&&(this._dragStarted=!0),this._dragStarted)return n.hideCursor(),n.onToolMouseDrag(this.getFrameName(),t,e)?this:(n.getTimeline(this.getDataSourceName()).move(t-this._oldX),this);if(this._passMoveEventToToolManager&&n.onToolMouseMove(this.getFrameName(),t,e))return n.hideCursor(),this;switch(n._drawingTool){case r.a.DrawingTool.Cursor:n.showCursor();break;case r.a.DrawingTool.CrossCursor:n.showCrossCursor(this,t,e)?n.hideCursor():n.showCursor();break;default:n.hideCursor()}return this}},{key:"onMouseLeave",value:function(t,e){this._dragStarted=!1,this._passMoveEventToToolManager=!0}},{key:"onMouseDown",value:function(t,e){var n=r.a.instance;return n.getTimeline(this.getDataSourceName()).startMove(),this._oldX=t,this._oldY=e,this._dragStarted=!1,n.onToolMouseDown(this.getFrameName(),t,e)&&(this._passMoveEventToToolManager=!1),this}},{key:"onMouseUp",value:function(t,e){var n=r.a.instance,a=null;return this._dragStarted&&(this._dragStarted=!1,a=this),n.onToolMouseUp(this.getFrameName(),t,e)&&(a=this),this._passMoveEventToToolManager=!0,a}}]),e}(f),m=function(t){function e(t){var n;return l(this,e),(n=u(this,_(e).call(this,t)))._dragStarted=!1,n._oldX=0,n._oldY=0,n}return d(e,t),h(e,[{key:"onMouseMove",value:function(t,e){var n=r.a.instance;if(n._capturingMouseArea===this&&!1===this._dragStarted&&(this._oldX===t&&this._oldY===e||(this._dragStarted=!0)),this._dragStarted)return n.hideCursor(),n.getTimeline(this.getDataSourceName()).move(t-this._oldX),this;switch(n._drawingTool){case r.a.DrawingTool.CrossCursor:n.showCrossCursor(this,t,e)?n.hideCursor():n.showCursor();break;default:n.showCursor()}return this}},{key:"onMouseLeave",value:function(t,e){this._dragStarted=!1}},{key:"onMouseDown",value:function(t,e){return r.a.instance.getTimeline(this.getDataSourceName()).startMove(),this._oldX=t,this._oldY=e,this._dragStarted=!1,this}},{key:"onMouseUp",value:function(t,e){return this._dragStarted?(this._dragStarted=!1,this):null}}]),e}(f),v=function(t){function e(t){return l(this,e),u(this,_(e).call(this,t))}return d(e,t),h(e,[{key:"onMouseMove",value:function(t,e){return r.a.instance.showCursor(),this}}]),e}(f),y=function(t){function e(t){return l(this,e),u(this,_(e).call(this,t))}return d(e,t),h(e,[{key:"onMouseMove",value:function(t,e){return r.a.instance.showCursor(),this}}]),e}(f),w=function(t){function e(t){return l(this,e),u(this,_(e).call(this,t))}return d(e,t),h(e,[{key:"onMouseMove",value:function(t,e){return r.a.instance.showCursor(),this}}]),e}(f),b=function(t){function e(t){var n;return l(this,e),(n=u(this,_(e).call(this,t)))._areas=[],n._highlightedArea=null,n._selectedArea=null,n}return d(e,t),h(e,[{key:"contains",value:function(t,n){var a,r,i=this._areas.length;for(r=0;r<i;r++)if(null!==(a=this._areas[r].contains(t,n)))return a.push(this),a;return s(_(e.prototype),"contains",this).call(this,t,n)}},{key:"getAreaCount",value:function(){return this._areas.length}},{key:"getAreaAt",value:function(t){return t<0||t>=this._areas.length?null:this._areas[t]}},{key:"addArea",value:function(t){this._areas.push(t)}},{key:"removeArea",value:function(t){var e,n=this._areas.length;for(e=0;e<n;e++)if(t===this._areas[e]){this._areas.splice(e),this.setChanged(!0);break}}},{key:"getGridColor",value:function(){return this._gridColor}},{key:"setGridColor",value:function(t){this._gridColor=t}},{key:"getHighlightedArea",value:function(){return null!==this._highlightedArea?this._highlightedArea.getHighlightedArea():null}},{key:"highlight",value:function(t){this._highlightedArea=null;var e,n,a=this._areas.length;for(n=0;n<a;n++)if(null!==(e=this._areas[n].highlight(t)))return this._highlightedArea=e,this;return null}},{key:"getSelectedArea",value:function(){return null!==this._selectedArea?this._selectedArea.getSelectedArea():null}},{key:"select",value:function(t){this._selectedArea=null;var e,n,a=this._areas.length;for(n=0;n<a;n++)if(null!==(e=this._areas[n].select(t)))return this._selectedArea=e,this;return null}},{key:"onMouseLeave",value:function(t,e){var n,a=this._areas.length;for(n=0;n<a;n++)this._areas[n].onMouseLeave(t,e)}},{key:"onMouseUp",value:function(t,e){var n,a,r=this._areas.length;for(a=0;a<r;a++)if(null!==(n=this._areas[a].onMouseUp(t,e)))return n;return null}}]),e}(f)},function(t,e,n){"use strict";n.d(e,"a",(function(){return i}));var a=n(17);function r(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}var i=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._name=e,this._nameObj=new a.a(e)}var e,n,i;return e=t,(n=[{key:"getFrameName",value:function(){return this._nameObj.getName(0)}},{key:"getDataSourceName",value:function(){return this._nameObj.getName(1)}},{key:"getAreaName",value:function(){return this._nameObj.getName(2)}},{key:"getName",value:function(){return this._nameObj.getName(-1)}},{key:"getNameObject",value:function(){return this._nameObj}},{key:"getRectCrossPt",value:function(t,e,n){var a={x:-1,y:-1},r={x:-1,y:-1},i=n.x-e.x,o=n.y-e.y;if(Math.abs(i)<2)return[a={x:e.x,y:t.top},r={x:n.x,y:t.bottom}];var s=o/i;return r.x=t.right,r.y=e.y+(t.right-e.x)*s,a.x=t.left,a.y=e.y+(t.left-e.x)*s,[a,r]}}])&&r(e.prototype,n),i&&r(e,i),t}()},function(t,e,n){"use strict";var a=n(12),r=n(7),i=n(10);function o(t){return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function l(t,e){return!e||"object"!==o(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function c(t){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function h(t,e){return(h=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var u=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=l(this,c(e).call(this,t))).selectedObject=-1,n.toolObjects=[],n}var n,a,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&h(t,e)}(e,t),n=e,(a=[{key:"getToolObjectCount",value:function(){return this.toolObjects.length}},{key:"addToolObject",value:function(t){this.toolObjects.push(t)}},{key:"getToolObject",value:function(t){return t<this.toolObjects.length&&t>=0?this.toolObjects[t]:null}},{key:"getCurrentObject",value:function(){return this.getToolObject(this.getToolObjectCount()-1)}},{key:"getSelectedObject",value:function(){return this.getToolObject(this.selectedObject)}},{key:"delCurrentObject",value:function(){this.toolObjects.splice(this.getToolObjectCount()-1,1)}},{key:"delSelectedObject",value:function(){this.toolObjects.splice(this.selectedObject,1),this.selectedObject=-1}},{key:"acceptMouseMoveEvent",value:function(t,e){if(-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];if(null!=n&&n.getState()!==i.n.state.AfterDraw)return n.acceptMouseMoveEvent(t,e)}else{var a=this.toolObjects[this.selectedObject];if(a.getState()===i.n.state.Draw)return a.acceptMouseMoveEvent(t,e);a.unselect(),this.selectedObject=-1}for(var r in this.toolObjects)if(this.toolObjects[r].isSelected(t,e))return this.selectedObject=r,!1;return!1}},{key:"acceptMouseDownEvent",value:function(t,e){if(this.mouseDownMove=!1,-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];if(null!=n&&n.getState()!==i.n.state.AfterDraw)return n.acceptMouseDownEvent(t,e)}else{var a=this.toolObjects[this.selectedObject];if(a.getState()!==i.n.state.BeforeDraw)return a.acceptMouseDownEvent(t,e)}return!1}},{key:"acceptMouseDownMoveEvent",value:function(t,e){if(this.mouseDownMove=!0,-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];return null!=n&&n.getState()===i.n.state.Draw&&n.acceptMouseDownMoveEvent(t,e)}var a=this.toolObjects[this.selectedObject];if(a.getState()!==i.n.state.BeforeDraw){if(!0===a.acceptMouseDownMoveEvent(t,e))for(var o=this.toolObjects[this.selectedObject].points,s=0;s<o.length;s++)if(o[s].state===r.a.state.Highlight||o[s].state===r.a.state.Show)return!0;return!0}}},{key:"acceptMouseUpEvent",value:function(t,e){if(!0===this.mouseDownMove){if(-1===this.selectedObject){var n=this.toolObjects[this.getToolObjectCount()-1];return null==n||n.getState()!==i.n.state.Draw||n.acceptMouseUpEvent(t,e)}var a=this.toolObjects[this.selectedObject];if(a.getState()!==i.n.state.BeforeDraw)return a.acceptMouseUpEvent(t,e)}if(-1!==this.selectedObject)return!0;var r=this.toolObjects[this.getToolObjectCount()-1];if(null!=r){if(r.getState()===i.n.state.Draw)return!0;if(!r.isValidMouseXY(t,e))return!1;if(r.isSelected(t,e))return!0}return!1}}])&&s(n.prototype,a),o&&s(n,o),e}(a.a),_=n(4);function d(t){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function g(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function f(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function p(t,e,n){return e&&f(t.prototype,e),n&&f(t,n),t}function m(t,e){return!e||"object"!==d(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function v(t){return(v=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function y(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&w(t,e)}function w(t,e){return(w=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}n.d(e,"a",(function(){return b})),n.d(e,"b",(function(){return A}));var b=function(t){function e(t){return g(this,e),m(this,v(e).call(this,t))}return y(e,t),p(e,[{key:"getUpdateMode",value:function(){return this._updateMode}},{key:"setUpdateMode",value:function(t){this._updateMode=t}},{key:"getCacheSize",value:function(){return 0}},{key:"getDataCount",value:function(){return 0}},{key:"getDataAt",value:function(t){return this._dataItems[t]}}]),e}(a.a);b.UpdateMode={DoNothing:0,Refresh:1,Update:2,Append:3};var A=function(t){function e(t){var n;return g(this,e),(n=m(this,v(e).call(this,t)))._erasedCount=0,n._dataItems=[],n._decimalDigits=0,n.toolManager=new u(t),n}return y(e,t),p(e,[{key:"getCacheSize",value:function(){return this._dataItems.length}},{key:"getDataCount",value:function(){return this._dataItems.length}},{key:"getUpdatedCount",value:function(){return this._updatedCount}},{key:"getAppendedCount",value:function(){return this._appendedCount}},{key:"getErasedCount",value:function(){return this._erasedCount}},{key:"getDecimalDigits",value:function(){return this._decimalDigits}},{key:"calcDecimalDigits",value:function(t){var e=""+t,n=e.indexOf(".");return n<0?0:e.length-1-n}},{key:"getLastDate",value:function(){var t=this.getDataCount();return t<1?-1:this.getDataAt(t-1).date}},{key:"getDataAt",value:function(t){return this._dataItems[t]}},{key:"update",value:function(t){this._updatedCount=0,this._appendedCount=0,this._erasedCount=0;var e=this._dataItems.length;if(e>0){var n,a,r=e-1,i=this._dataItems[r],o=t.length;for(a=0;a<o;a++)if((n=t[a])[0]===i.date){if(i.open===n[1]&&i.high===n[2]&&i.low===n[3]&&i.close===n[4]&&i.volume===n[5]?this.setUpdateMode(b.UpdateMode.DoNothing):(this.setUpdateMode(b.UpdateMode.Update),this._dataItems[r]={date:n[0],open:n[1],high:n[2],low:n[3],close:n[4],volume:n[5]},this._updatedCount++),++a<o)for(this.setUpdateMode(b.UpdateMode.Append);a<o;a++,this._appendedCount++)n=t[a],this._dataItems.push({date:n[0],open:n[1],high:n[2],low:n[3],close:n[4],volume:n[5]});return!0}if(o<_.a.instance.limit)return this.setUpdateMode(b.UpdateMode.DoNothing),!1}this.setUpdateMode(b.UpdateMode.Refresh),this._dataItems=[];var s,l,c,h,u=t.length;for(h=0;h<u;h++){for(c=t[h],l=1;l<=4;l++)s=this.calcDecimalDigits(c[l]),this._decimalDigits<s&&(this._decimalDigits=s);this._dataItems.push({date:c[0],open:c[1],high:c[2],low:c[3],close:c[4],volume:c[5]})}return!0}},{key:"select",value:function(t){this.toolManager.selecedObject=t}},{key:"unselect",value:function(){this.toolManager.selecedObject=-1}},{key:"addToolObject",value:function(t){this.toolManager.addToolObject(t)}},{key:"delToolObject",value:function(){this.toolManager.delCurrentObject()}},{key:"getToolObject",value:function(t){return this.toolManager.getToolObject(t)}},{key:"getToolObjectCount",value:function(){return this.toolManager.toolObjects.length}},{key:"getCurrentToolObject",value:function(){return this.toolManager.getCurrentObject()}},{key:"getSelectToolObjcet",value:function(){return this.toolManager.getSelectedObject()}},{key:"delSelectToolObject",value:function(){this.toolManager.delSelectedObject()}}]),e}(b)},function(t,e,n){"use strict";n.d(e,"d",(function(){return d})),n.d(e,"c",(function(){return g})),n.d(e,"e",(function(){return f})),n.d(e,"a",(function(){return p})),n.d(e,"f",(function(){return m})),n.d(e,"b",(function(){return v}));var a=n(12),r=n(2);function i(t){return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function l(t,e,n){return e&&s(t.prototype,e),n&&s(t,n),t}function c(t,e){return!e||"object"!==i(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function h(t){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function u(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&_(t,e)}function _(t,e){return(_=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var d=function(t){function e(t){var n;return o(this,e),(n=c(this,h(e).call(this,t)))._updated=!0,n._minValue=Number.MAX_VALUE,n._maxValue=-Number.MAX_VALUE,n._outerMinValue=Number.MAX_VALUE,n._outerMaxValue=-Number.MAX_VALUE,n._ratio=0,n._top=0,n._bottom=0,n._paddingTop=0,n._paddingBottom=0,n._minInterval=36,n._selectedPosition=-1,n._selectedValue=-Number.MAX_VALUE,n._gradations=[],n}return u(e,t),l(e,[{key:"isUpdated",value:function(){return this._updated}},{key:"setUpdated",value:function(t){this._updated=t}},{key:"getMinValue",value:function(){return this._minValue}},{key:"getMaxValue",value:function(){return this._maxValue}},{key:"getRange",value:function(){return this._maxValue-this._minValue}},{key:"getOuterMinValue",value:function(){return this._outerMinValue}},{key:"getOuterMaxValue",value:function(){return this._outerMaxValue}},{key:"getOuterRange",value:function(){return this._outerMaxValue-this._outerMinValue}},{key:"getHeight",value:function(){return Math.max(0,this._bottom-this._top)}},{key:"getGradations",value:function(){return this._gradations}},{key:"getMinInterval",value:function(){return this._minInterval}},{key:"setMinInterval",value:function(t){this._minInterval=t}},{key:"getSelectedPosition",value:function(){return this._selectedPosition>=0?this._selectedPosition:this._selectedValue>-Number.MAX_VALUE?this.toY(this._selectedValue):-1}},{key:"getSelectedValue",value:function(){if(this._selectedValue>-Number.MAX_VALUE)return this._selectedValue;var t=r.a.instance.getArea(this.getAreaName());return null===t?-Number.MAX_VALUE:this._selectedPosition<t.getTop()+12||this._selectedPosition>=t.getBottom()-4?-Number.MAX_VALUE:this.toValue(this._selectedPosition)}},{key:"setPaddingTop",value:function(t){this._paddingTop=t}},{key:"setPaddingBottom",value:function(t){this._paddingBottom=t}},{key:"toValue",value:function(t){return this._maxValue-(t-this._top)/this._ratio}},{key:"toY",value:function(t){return this._ratio>0?this._top+Math.floor((this._maxValue-t)*this._ratio+.5):this._top}},{key:"toHeight",value:function(t){return t==1/0||0==this._ratio?1.5:Math.floor(t*this._ratio+1.5)}},{key:"update",value:function(){for(var t,e=Number.MAX_VALUE,n=-Number.MAX_VALUE,a=r.a.instance,i=[".main",".secondary"],o=0;o<i.length;o++)null!=(t=a.getDataProvider(this.getName()+i[o]))&&(e=Math.min(e,t.getMinValue()),n=Math.max(n,t.getMaxValue()));var s={min:e,max:n};this.preSetRange(s),this.setRange(s.min,s.max)}},{key:"select",value:function(t){this._selectedValue=t,this._selectedPosition=-1}},{key:"selectAt",value:function(t){this._selectedPosition=t,this._selectedValue=-Number.MAX_VALUE}},{key:"unselect",value:function(){this._selectedPosition=-1,this._selectedValue=-Number.MAX_VALUE}},{key:"preSetRange",value:function(t){t.min===t.max&&(t.min=-1,t.max=1)}},{key:"setRange",value:function(t,e){var n=r.a.instance.getArea(this.getAreaName());if(this._minValue!==t||this._maxValue!==e||n.isChanged()){this._updated=!0,this._minValue=t,this._maxValue=e,this._gradations=[];var a=n.getTop()+this._paddingTop,i=n.getBottom()-(this._paddingBottom+1);a>=i?this._minValue=this._maxValue:(this._top=a,this._bottom=i,this._maxValue>this._minValue?this._ratio=(i-a)/(this._maxValue-this._minValue):this._ratio=1,this._outerMinValue=this.toValue(n.getBottom()),this._outerMaxValue=this.toValue(n.getTop()),this.updateGradations())}}},{key:"calcInterval",value:function(){var t=this.getHeight(),e=this.getMinInterval();t/e<=1&&(e=t>>1);for(var n,a,r=this.getRange(),i=0;i>-2&&Math.floor(r)<r;)r*=10,i--;for(;(n=a=Math.pow(10,i),!(this.toHeight(n)>e))&&(n=2*a,!(this.toHeight(n)>e))&&(n=5*a,!(this.toHeight(n)>e));i++);return n}},{key:"updateGradations",value:function(){this._gradations=[];var t=this.calcInterval();if(!(t<=0)){var e=Math.floor(this.getMaxValue()/t)*t;do{this._gradations.push(e),e-=t}while(e>this.getMinValue())}}}]),e}(a.a),g=function(t){function e(t){return o(this,e),c(this,h(e).call(this,t))}return u(e,t),l(e,[{key:"preSetRange",value:function(t){t.min<0&&(t.min=0),t.max<0&&(t.max=0)}}]),e}(d),f=function(t){function e(t){return o(this,e),c(this,h(e).call(this,t))}return u(e,t),l(e,[{key:"preSetRange",value:function(t){t.min=0,t.max<0&&(t.max=0)}}]),e}(d),p=function(t){function e(t){return o(this,e),c(this,h(e).call(this,t))}return u(e,t),l(e,[{key:"preSetRange",value:function(t){var e=r.a.instance,n=e.getTimeline(this.getDataSourceName()),a=n.getMaxIndex()-n.getLastIndex();if(a<25){var i=e.getDataSource(this.getDataSourceName()),o=i.getDataAt(i.getDataCount()-1),s=(t.max-t.min)/4*(1-a/25);t.min=Math.min(t.min,Math.max(o.low-s,0)),t.max=Math.max(t.max,o.high+s)}if(t.min>0){var l=t.max/t.min;if(l<1.016){var c=(t.max+t.min)/2,h=1.5*(l-1);t.max=c*(1+h),t.min=c*(1-h)}else if(l<1.048){var u=(t.max+t.min)/2;t.max=1.024*u,t.min=.976*u}}t.min<0&&(t.min=0),t.max<0&&(t.max=0)}}]),e}(d),m=function(t){function e(t){return o(this,e),c(this,h(e).call(this,t))}return u(e,t),l(e,[{key:"calcInterval",value:function(t){var e=this.getMinInterval();if(t.getHeight()/e<2)return 0;var n,a=this.getRange();for(n=3;!(this.toHeight(a/n)<=e);n+=2);return a/(n-=2)}},{key:"updateGradations",value:function(){this._gradations=[];var t=r.a.instance.getArea(this.getAreaName()),e=this.calcInterval(t);if(!(e<=0)){var n=e/2;do{this._gradations.push(n),this._gradations.push(-n),n+=e}while(n<=this.getMaxValue())}}},{key:"preSetRange",value:function(t){var e=Math.max(Math.abs(t.min),Math.abs(t.max));t.min=-e,t.max=e}}]),e}(d),v=function(t){function e(t){return o(this,e),c(this,h(e).call(this,t))}return u(e,t),l(e,[{key:"updateGradations",value:function(){this._gradations=[];var t=r.a.instance.getArea(this.getAreaName()),e=Math.floor(this.toHeight(10));if(!(e<<2>t.getHeight())){var n=10*Math.ceil(this.getMinValue()/10);if(0===n&&(n=0),e<<2<24){if(e<<1<8)return;do{20!==n&&80!==n||this._gradations.push(n),n+=10}while(n<this.getMaxValue())}else do{e<8?20!==n&&50!==n&&80!==n||this._gradations.push(n):0!==n&&20!==n&&50!==n&&80!==n&&100!==n||this._gradations.push(n),n+=10}while(n<this.getMaxValue())}}}]),e}(d)},function(t,e,n){"use strict";n.d(e,"b",(function(){return p})),n.d(e,"a",(function(){return m}));var a=n(12),r=n(2),i=n(8),o=n(13);function s(t){return(s="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function l(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function h(t,e,n){return e&&c(t.prototype,e),n&&c(t,n),t}function u(t,e){return!e||"object"!==s(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&g(t,e)}function g(t,e){return(g=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var f=function(t){function e(t){var n;return l(this,e),(n=u(this,_(e).call(this,t)))._minValue=0,n._maxValue=0,n._minValueIndex=-1,n._maxValueIndex=-1,n}return d(e,t),h(e,[{key:"getMinValue",value:function(){return this._minValue}},{key:"getMaxValue",value:function(){return this._maxValue}},{key:"getMinValueIndex",value:function(){return this._minValueIndex}},{key:"getMaxValueIndex",value:function(){return this._maxValueIndex}},{key:"getMinMaxAt",value:function(t,e){return!0}},{key:"calcRange",value:function(t,e,n,a){for(var r=Number.MAX_VALUE,i=-Number.MAX_VALUE,o=-1,s=-1,l={},c=e-1,h=t.length-1;h>=0;h--){var u=t[h];if(c<u)n[h]={min:r,max:i};else{for(;c>=u;c--)!1!==this.getMinMaxAt(c,l)&&(r>l.min&&(r=l.min,o=c),i<l.max&&(i=l.max,s=c));n[h]={min:r,max:i}}null!=a&&(a[h]={minIndex:o,maxIndex:s})}}},{key:"updateRange",value:function(){var t=r.a.instance.getTimeline(this.getDataSourceName()),e=[t.getFirstIndex()],n=[{}],a=[{}];this.calcRange(e,t.getLastIndex(),n,a),this._minValue=n[0].min,this._maxValue=n[0].max,this._minValueIndex=a[0].minIndex,this._maxValueIndex=a[0].maxIndex}}]),e}(a.a),p=function(t){function e(t){var n;return l(this,e),(n=u(this,_(e).call(this,t)))._candlestickDS=null,n}return d(e,t),h(e,[{key:"updateData",value:function(){var t=r.a.instance.getDataSource(this.getDataSourceName());i.a.isInstance(t,o.b)&&(this._candlestickDS=t)}},{key:"getMinMaxAt",value:function(t,e){var n=this._candlestickDS.getDataAt(t);return e.min=n.low,e.max=n.high,!0}}]),e}(f),m=function(t){function e(){return l(this,e),u(this,_(e).apply(this,arguments))}return d(e,t),h(e,[{key:"getIndicator",value:function(){return this._indicator}},{key:"setIndicator",value:function(t){this._indicator=t,this.refresh()}},{key:"refresh",value:function(){var t=r.a.instance.getDataSource(this.getDataSourceName());if(!(t.getDataCount()<1)){var e,n=this._indicator,a=t.getDataCount();for(n.clear(),n.reserve(a),e=0;e<a;e++)n.execute(t,e)}}},{key:"updateData",value:function(){var t=r.a.instance.getDataSource(this.getDataSourceName());if(!(t.getDataCount()<1)){var e=this._indicator;switch(t.getUpdateMode()){case o.a.UpdateMode.Refresh:this.refresh();break;case o.a.UpdateMode.Append:e.reserve(t.getAppendedCount());break;case o.a.UpdateMode.Update:var n,a=t.getDataCount();for(n=a-(t.getUpdatedCount()+t.getAppendedCount());n<a;n++)e.execute(t,n)}}}},{key:"getMinMaxAt",value:function(t,e){e.min=Number.MAX_VALUE,e.max=-Number.MAX_VALUE;var n,a,r=!1,i=this._indicator.getOutputCount();for(a=0;a<i;a++)n=this._indicator.getOutputAt(a).execute(t),!1===isNaN(n)&&(r=!0,e.min>n&&(e.min=n),e.max<n&&(e.max=n));return r}}]),e}(f)},function(t,e,n){"use strict";var a=n(2),r=n(6),i=n(13),o=n(15),s=n(11),l=n(5);function c(t){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function h(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function u(t,e){return!e||"object"!==c(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function _(t){return(_=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function d(t,e){return(d=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var g=function(t){function e(t){var n;return function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,e),(n=u(this,_(e).call(this,t)))._updated=!1,n._innerLeft=0,n._innerWidth=0,n._firstColumnLeft=0,n._scale=3,n._lastScale=-1,n._maxItemCount=0,n._maxIndex=0,n._firstIndex=-1,n._selectedIndex=-1,n._savedFirstIndex=-1,n}var n,r,o;return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&d(t,e)}(e,t),n=e,(r=[{key:"isLatestShown",value:function(){return this.getLastIndex()===this._maxIndex}},{key:"isUpdated",value:function(){return this._updated}},{key:"setUpdated",value:function(t){this._updated=t}},{key:"getItemWidth",value:function(){return e.itemWidth[this._scale]}},{key:"getSpaceWidth",value:function(){return e.spaceWidth[this._scale]}},{key:"getColumnWidth",value:function(){return this.getSpaceWidth()+this.getItemWidth()}},{key:"getInnerWidth",value:function(){return this._innerWidth}},{key:"getItemLeftOffset",value:function(){return this.getSpaceWidth()}},{key:"getItemCenterOffset",value:function(){return this.getSpaceWidth()+(this.getItemWidth()>>1)}},{key:"getFirstColumnLeft",value:function(){return this._firstColumnLeft}},{key:"getMaxItemCount",value:function(){return this._maxItemCount}},{key:"getFirstIndex",value:function(){return this._firstIndex}},{key:"getLastIndex",value:function(){return Math.min(this._firstIndex+this._maxItemCount,this._maxIndex)}},{key:"getSelectedIndex",value:function(){return this._selectedIndex}},{key:"getMaxIndex",value:function(){return this._maxIndex}},{key:"calcColumnCount",value:function(t){return Math.floor(t/this.getColumnWidth())<<0}},{key:"calcFirstColumnLeft",value:function(t){return this._innerLeft+this._innerWidth-this.getColumnWidth()*t}},{key:"calcFirstIndexAlignRight",value:function(t,e,n){return Math.max(0,t+Math.max(e,1)-Math.max(n,1))}},{key:"calcFirstIndex",value:function(t){return this.validateFirstIndex(this.calcFirstIndexAlignRight(this._firstIndex,this._maxItemCount,t),t)}},{key:"updateMaxItemCount",value:function(){var t,e=this.calcColumnCount(this._innerWidth);if(this._maxItemCount<1)t=this.calcFirstIndex(e);else if(this._lastScale===this._scale)t=this.validateFirstIndex(this._firstIndex-(e-this._maxItemCount));else{var n=this._selectedIndex>=0?this._selectedIndex:this.getLastIndex()-1;t=this.validateFirstIndex(n-Math.round((n-this._firstIndex)*e/this._maxItemCount))}this._lastScale=this._scale,this._firstIndex!==t&&(this._selectedIndex===this._firstIndex&&(this._selectedIndex=t),this._firstIndex=t,this._updated=!0),this._maxItemCount!==e&&(this._maxItemCount=e,this._updated=!0),this._firstColumnLeft=this.calcFirstColumnLeft(e)}},{key:"validateFirstIndex",value:function(t,e){if(this._maxIndex<1)return-1;if(t<0)return 0;var n=Math.max(0,this._maxIndex-1);return t>n?n:t}},{key:"validateSelectedIndex",value:function(){this._selectedIndex<this._firstIndex?this._selectedIndex=-1:this._selectedIndex>=this.getLastIndex()&&(this._selectedIndex=-1)}},{key:"onLayout",value:function(){var t=a.a.instance.getArea(this.getDataSourceName()+".main");if(null!==t){this._innerLeft=t.getLeft()+e.PADDING_LEFT;var n=Math.max(0,t.getWidth()-(e.PADDING_LEFT+e.PADDING_RIGHT));this._innerWidth!==n&&(this._innerWidth=n,this.updateMaxItemCount())}}},{key:"toIndex",value:function(t){return this._firstIndex+this.calcColumnCount(t-this._firstColumnLeft)}},{key:"toColumnLeft",value:function(t){return this._firstColumnLeft+this.getColumnWidth()*(t-this._firstIndex)}},{key:"toItemLeft",value:function(t){return this.toColumnLeft(t)+this.getItemLeftOffset()}},{key:"toItemCenter",value:function(t){return this.toColumnLeft(t)+this.getItemCenterOffset()}},{key:"selectAt",value:function(t){return this._selectedIndex=this.toIndex(t),this.validateSelectedIndex(),this._selectedIndex>=0}},{key:"unselect",value:function(){this._selectedIndex=-1}},{key:"update",value:function(){var t=a.a.instance.getDataSource(this.getDataSourceName()),e=this._maxIndex;switch(this._maxIndex=t.getDataCount(),t.getUpdateMode()){case i.a.UpdateMode.Refresh:this._maxIndex<1?this._firstIndex=-1:this._firstIndex=Math.max(this._maxIndex-this._maxItemCount,0),this._selectedIndex=-1,this._updated=!0;break;case i.a.UpdateMode.Append:var n=this.getLastIndex(),r=t.getErasedCount();n<e?r>0&&(this._firstIndex=Math.max(this._firstIndex-r,0),this._selectedIndex>=0&&(this._selectedIndex-=r,this.validateSelectedIndex()),this._updated=!0):n===e&&(this._firstIndex+=this._maxIndex-e,this._selectedIndex>=0&&(this._selectedIndex-=r,this.validateSelectedIndex()),this._updated=!0)}}},{key:"move",value:function(t){this.isLatestShown()&&a.a.instance.getArea(this.getDataSourceName()+".mainRange").setChanged(!0),this._firstIndex=this.validateFirstIndex(this._savedFirstIndex-this.calcColumnCount(t),this._maxItemCount),this._updated=!0,this._selectedIndex>=0&&this.validateSelectedIndex()}},{key:"startMove",value:function(){this._savedFirstIndex=this._firstIndex}},{key:"scale",value:function(t){this._scale+=t,this._scale<0?this._scale=0:this._scale>=e.itemWidth.length&&(this._scale=e.itemWidth.length-1),this.updateMaxItemCount(),this._selectedIndex>=0&&this.validateSelectedIndex()}}])&&h(n.prototype,r),o&&h(n,o),e}(n(12).a);g.itemWidth=[1,3,3,5,5,7,9,11,13,15,17,19,21,23,25,27,29],g.spaceWidth=[1,1,2,2,3,3,3,3,3,3,5,5,5,5,7,7,7],g.PADDING_LEFT=4,g.PADDING_RIGHT=8;var f=n(17),p=n(3),m=n(4);function v(t){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function y(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function w(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function b(t,e,n){return e&&w(t.prototype,e),n&&w(t,n),t}function A(t,e){return!e||"object"!==v(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function P(t,e,n){return(P="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(t,e,n){var a=function(t,e){for(;!Object.prototype.hasOwnProperty.call(t,e)&&null!==(t=C(t)););return t}(t,e);if(a){var r=Object.getOwnPropertyDescriptor(a,e);return r.get?r.get.call(n):r.value}})(t,e,n||t)}function C(t){return(C=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function M(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&k(t,e)}function k(t,e){return(k=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}var D=function(t){function e(t){var n;return y(this,e),(n=A(this,C(e).call(this,t)))._nextRowId=0,n._focusedRowIndex=-1,n}return M(e,t),b(e,[{key:"getNextRowId",value:function(){return this._nextRowId++}},{key:"measure",value:function(t,e,n){this.setMeasuredDimension(e,n);var i,o,s,l,c=0,h=0,u=[],_=this._areas.length;for(l=0;l<_;l+=2){if(0===(i=this._areas[l].getHeight())){if(0===l){var d=n/(2*(s=_+1>>1)+5)*2<<0;for(o=n,l=s-1;l>0;l--)u.unshift(d),o-=d;u.unshift(o);break}i=2===l?c/3:c}h+=i,c=i,u.push(i)}if(h>0){var g=n/h;for(o=n,l=(s=_+1>>1)-1;l>0;l--)u[l]*=g,o-=u[l];u[0]=o}var f="open"===r.a.get().charts.depthStatus?m.a.instance.depthWidth:50,p=Math.min(240,e>>1),v=f,y=a.a.instance,w=y.getTimeline(this.getDataSourceName());if(w.getFirstIndex()>=0){var b=[];for(v=f;v<p;v+=8)b.push(w.calcFirstIndex(w.calcColumnCount(e-v)));var A,P,C=w.getLastIndex(),M=[".main",".secondary"],k=new Array(b.length);for(A=0,P=0,v=f;A<this._areas.length&&P<b.length;A+=2){var D=this._areas[A],x=y.getPlotter(D.getName()+"Range.main");for(var E in M){var I=y.getDataProvider(D.getName()+M[E]);if(void 0!==I)for(I.calcRange(b,C,k,null);P<b.length;){var O=x.getRequiredWidth(t,k[P].min),R=x.getRequiredWidth(t,k[P].max);if(Math.max(O,R)<v)break;P++,v+=8}}}}for(l=1;l<this._areas.length;l+=2)this._areas[l].measure(t,v,u[l>>1]);var S=e-v;for(l=0;l<this._areas.length;l+=2)this._areas[l].measure(t,S,u[l>>1])}},{key:"layout",value:function(t,n,a,r,i){if(P(C(e.prototype),"layout",this).call(this,t,n,a,r,i),!(this._areas.length<1)){var o,s,l=t+this._areas[0].getMeasuredWidth(),c=n;i||(i=this.isChanged());var h,u=this._areas.length;for(h=0;h<u;h++)s=c+(o=this._areas[h]).getMeasuredHeight(),o.layout(t,c,l,s,i),h++,(o=this._areas[h]).layout(l,c,this.getRight(),s,i),c=s;this.setChanged(!1)}}},{key:"drawGrid",value:function(t){if(!(this._areas.length<1)){var e=a.a.instance,n=e.getTheme(this.getFrameName());t.fillStyle=n.getColor(p.c.Color.Grid1),t.fillRect(this._areas[0].getRight(),this.getTop(),1,this.getHeight());var r,i=this._areas.length-2;for(r=0;r<i;r+=2)t.fillRect(this.getLeft(),this._areas[r].getBottom(),this.getWidth(),1);if(!e.getCaptureMouseWheelDirectly())for(r=0,i+=2;r<i;r+=2)if(this._areas[r].isSelected()){t.strokeStyle=n.getColor(p.c.Color.Indicator1),t.strokeRect(this.getLeft()+.5,this.getTop()+.5,this.getWidth()-1,this.getHeight()-1);break}}}},{key:"highlight",value:function(t){this._highlightedArea=null;var e,n,a=this._areas.length;for(n=0;n<a;n++)(e=this._areas[n])===t?(n&=-2,(e=this._areas[n]).highlight(e),this._highlightedArea=e,n++,(e=this._areas[n]).highlight(null),e.highlight(e)):e.highlight(null);return null!==this._highlightedArea?this:null}},{key:"select",value:function(t){this._selectedArea=null;var e,n,a=this._areas.length;for(n=0;n<a;n++)(e=this._areas[n])===t?(n&=-2,(e=this._areas[n]).select(e),this._selectedArea=e,n++,(e=this._areas[n]).select(e)):e.select(null);return null!==this._selectedArea?this:null}},{key:"onMouseMove",value:function(t,e){if(this._focusedRowIndex>=0){var n=this._areas[this._focusedRowIndex],r=this._areas[this._focusedRowIndex+2],i=e-this._oldY;if(0===i)return this;var o=this._oldUpperBottom+i,s=this._oldLowerTop+i;return o-n.getTop()>=60&&r.getBottom()-s>=60&&(n.setBottom(o),r.setTop(s)),this}var l,c=this._areas.length-2;for(l=0;l<c;l+=2){var h=this._areas[l].getBottom();if(e>=h-4&&e<h+4)return a.a.instance.showCursor("n-resize"),this}return null}},{key:"onMouseLeave",value:function(t,e){this._focusedRowIndex=-1}},{key:"onMouseDown",value:function(t,e){var n,a=this._areas.length-2;for(n=0;n<a;n+=2){var r=this._areas[n].getBottom();if(e>=r-4&&e<r+4)return this._focusedRowIndex=n,this._oldY=e,this._oldUpperBottom=r,this._oldLowerTop=this._areas[n+2].getTop(),this}return null}},{key:"onMouseUp",value:function(t,e){if(this._focusedRowIndex>=0){this._focusedRowIndex=-1;var n,a=this._areas.length,i=[];for(n=0;n<a;n+=2)i.push(this._areas[n].getHeight());r.a.get().charts.areaHeight=i,r.a.save()}return this}}]),e}(s.b),x=function(t){function e(t){return y(this,e),A(this,C(e).call(this,t))}return M(e,t),b(e,[{key:"measure",value:function(t,n,a){for(var r in P(C(e.prototype),"measure",this).call(this,t,n,a),n=this.getMeasuredWidth(),a=this.getMeasuredHeight(),this._areas){var i=this._areas[r];switch(i.measure(t,n,a),i.getDockStyle()){case s.a.DockStyle.left:case s.a.DockStyle.Right:n-=i.getMeasuredWidth();break;case s.a.DockStyle.Top:case s.a.DockStyle.Bottom:a-=i.getMeasuredHeight();break;case s.a.DockStyle.Fill:n=0,a=0}}}},{key:"layout",value:function(t,n,a,r,i){var o,l;for(var c in P(C(e.prototype),"layout",this).call(this,t,n,a,r,i),t=this.getLeft(),n=this.getTop(),a=this.getRight(),r=this.getBottom(),i||(i=this.isChanged()),this._areas){var h=this._areas[c];switch(h.getDockStyle()){case s.a.DockStyle.left:o=h.getMeasuredWidth(),h.layout(t,n,t+o,r,i),t+=o;break;case s.a.DockStyle.Top:l=h.getMeasuredHeight(),h.layout(t,n,a,n+l,i),n+=l;break;case s.a.DockStyle.Right:o=h.getMeasuredWidth(),h.layout(a-o,n,a,r,i),a-=o;break;case s.a.DockStyle.Bottom:l=h.getMeasuredHeight(),h.layout(t,r-l,a,r,i),r-=l;break;case s.a.DockStyle.Fill:h.layout(t,n,a,r,i),t=a,n=r}}this.setChanged(!1)}},{key:"drawGrid",value:function(t){var e=a.a.instance.getTheme(this.getFrameName()),n=this.getLeft(),r=this.getTop(),i=this.getRight(),o=this.getBottom();for(var l in t.fillStyle=e.getColor(this._gridColor),this._areas){var c=this._areas[l];switch(c.getDockStyle()){case s.a.DockStyle.Left:t.fillRect(c.getRight(),r,1,o-r),n+=c.getWidth();break;case s.a.DockStyle.Top:t.fillRect(n,c.getBottom(),i-n,1),r+=c.getHeight();break;case s.a.DockStyle.Right:t.fillRect(c.getLeft(),r,1,o-r),i-=c.getWidth();break;case s.a.DockStyle.Bottom:t.fillRect(n,c.getTop(),i-n,1),o-=c.getHeight()}}}}]),e}(s.b),E=n(14);function I(t){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function O(t,e){return!e||"object"!==I(e)&&"function"!=typeof e?function(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}(t):e}function R(t){return(R=Object.setPrototypeOf?Object.getPrototypeOf:function(t){return t.__proto__||Object.getPrototypeOf(t)})(t)}function S(t,e){return(S=Object.setPrototypeOf||function(t,e){return t.__proto__=e,t})(t,e)}function T(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function L(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function N(t,e,n){return e&&L(t.prototype,e),n&&L(t,n),t}n.d(e,"b",(function(){return j})),n.d(e,"a",(function(){return U}));var j=function(){function t(){T(this,t)}return N(t,null,[{key:"createCandlestickDataSource",value:function(t){return new i.b(t)}},{key:"createDataSource",value:function(t,e,n){var r=a.a.instance;null===r.getCachedDataSource(e)&&r.setCachedDataSource(e,n(e)),r.setCurrentDataSource(t,e),r.updateData(t,null)}},{key:"createTableComps",value:function(t){this.createMainChartComps(t),this.createTimelineComps(t)}},{key:"createMainChartComps",value:function(t){var e=a.a.instance,n=e.getArea(t+".charts"),r=t+".main",i=r+"Range",c=new s.e(r);e.setArea(r,c),n.addArea(c);var h=new s.f(i);e.setArea(i,h),n.addArea(h);var u=new o.b(r+".main");e.setDataProvider(u.getName(),u),e.setMainIndicator(t,"MA");var _=new E.a(r);e.setRange(_.getName(),_),_.setPaddingTop(28),_.setPaddingBottom(12);var d=new l.B(r+".background");e.setPlotter(d.getName(),d),d=new l.c(r+".grid"),e.setPlotter(d.getName(),d),d=new l.h(r+".main"),e.setPlotter(d.getName(),d),d=new l.D(r+".decoration"),e.setPlotter(d.getName(),d),d=new l.C(r+".info"),e.setPlotter(d.getName(),d),d=new l.I(r+".selection"),e.setPlotter(d.getName(),d),d=new l.b(r+".tool"),e.setPlotter(d.getName(),d),d=new l.F(r+"Range.background"),e.setPlotter(d.getName(),d),d=new l.f(r+"Range.grid"),e.setPlotter(d.getName(),d),d=new l.G(r+"Range.main"),e.setPlotter(d.getName(),d),d=new l.H(r+"Range.selection"),e.setPlotter(d.getName(),d),d=new l.z(r+"Range.decoration"),e.setPlotter(d.getName(),d)}},{key:"createIndicatorChartComps",value:function(t,e){var n=a.a.instance,i=n.getArea(t+".charts"),c=t+".indic"+i.getNextRowId(),h=c+"Range",u=new s.c(c);n.setArea(c,u),i.addArea(u);var _=i.getAreaCount()>>1,d=r.a.get().charts.areaHeight;if(d.length>_){var g,f;for(f=0;f<_;f++)(g=i.getAreaAt(f<<1)).setTop(0),g.setBottom(d[f]);u.setTop(0),u.setBottom(d[_])}var p=new s.d(h);n.setArea(h,p),i.addArea(p);var m=new o.a(c+".secondary");if(n.setDataProvider(m.getName(),m),!1!==n.setIndicator(c,e)){var v=new l.B(c+".background");n.setPlotter(v.getName(),v),v=new l.c(c+".grid"),n.setPlotter(v.getName(),v),v=new l.y(c+".secondary"),n.setPlotter(v.getName(),v),v=new l.x(c+".info"),n.setPlotter(v.getName(),v),v=new l.I(c+".selection"),n.setPlotter(v.getName(),v),v=new l.F(c+"Range.background"),n.setPlotter(v.getName(),v),v=new l.G(c+"Range.main"),n.setPlotter(v.getName(),v),v=new l.H(c+"Range.selection"),n.setPlotter(v.getName(),v)}else n.removeIndicator(c)}},{key:"createTimelineComps",value:function(t){var e,n=a.a.instance,r=new g(t);n.setTimeline(r.getName(),r),e=new l.J(t+".timeline.background"),n.setPlotter(e.getName(),e),e=new l.K(t+".timeline.main"),n.setPlotter(e.getName(),e),e=new l.L(t+".timeline.selection"),n.setPlotter(e.getName(),e)}},{key:"createLiveOrderComps",value:function(t){var e,n=a.a.instance;e=new l.a(t+".main.background"),n.setPlotter(e.getName(),e),e=new l.CLiveOrderPlotter(t+".main.main"),n.setPlotter(e.getName(),e)}},{key:"createLiveTradeComps",value:function(t){var e,n=a.a.instance;e=new l.a(t+".main.background"),n.setPlotter(e.getName(),e),e=new l.CLiveTradePlotter(t+".main.main"),n.setPlotter(e.getName(),e)}}]),t}(),U=function(t){function e(){return T(this,e),O(this,R(e).apply(this,arguments))}return function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),e&&S(t,e)}(e,t),N(e,null,[{key:"loadTemplate",value:function(t,e){var n=a.a.instance,i=r.a.get(),o=new f.a(t).getCompAt(0);n.unloadTemplate(o),this.createDataSource(t,e,this.createCandlestickDataSource);var l=new x(o);n.setFrame(l.getName(),l),n.setArea(l.getName(),l),l.setGridColor(p.c.Color.Grid1);var c=new s.g(t+".timeline");n.setArea(c.getName(),c),l.addArea(c),c.setDockStyle(s.a.DockStyle.Bottom),c.Measuring.addHandler(c,B.onMeasuring);var h=new D(t+".charts");return n.setArea(h.getName(),h),h.setDockStyle(s.a.DockStyle.Fill),l.addArea(h),this.createTableComps(t),n.setThemeName(o,i.theme),n}}]),e}(j),B=function(){function t(){T(this,t)}return N(t,null,[{key:"onMeasuring",value:function(t,e){var n=e.Width;e.Height;"timeline"===t.getNameObject().getCompAt(2)&&t.setMeasuredDimension(n,22)}}]),t}()},function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.d(e,"a",(function(){return r}));var r=function(){function t(e){if(function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._names=[],this._comps=[],e instanceof t)this._names=e._names,this._comps=e._comps;else{var n=e.split("."),a=n.length-1;if(a>0){this._comps=n,this._names.push(n[0]);for(var r=1;r<=a;r++)this._names.push(this._names[r-1]+"."+n[r])}else this._comps.push(e),this._names.push(e)}}var e,n,r;return e=t,(n=[{key:"getCompAt",value:function(t){return t>=0&&t<this._comps.length?this._comps[t]:""}},{key:"getName",value:function(t){if(t<0){if(this._names.length>0)return this._names[this._names.length-1]}else if(t<this._names.length)return this._names[t];return""}}])&&a(e.prototype,n),r&&a(e,r),t}()},function(t,e,n){"use strict";function a(t,e){for(var n=0;n<e.length;n++){var a=e[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}n.d(e,"a",(function(){return r}));var r=function(){function t(){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t),this._handlers=[]}var e,n,r;return e=t,(n=[{key:"addHandler",value:function(t,e){this.indexOf(t,e)<0&&this._handlers.push({obj:t,func:e})}},{key:"removeHandler",value:function(t,e){var n=this.indexOf(t,e);n>=0&&this._handlers.splice(n,1)}},{key:"raise",value:function(t,e){var n,a=this._handlers,r=a.length;for(n=0;n<r;n++)a[n].func(t,e)}},{key:"indexOf",value:function(t,e){var n,a,r=this._handlers,i=r.length;for(a=0;a<i;a++)if(t===(n=r[a]).obj&&e===n.func)return a;return-1}}])&&a(e.prototype,n),r&&a(e,r),t}()},function(t,e){t.exports='<div class="chart_container dark">\r\n    <div id="chart_dom_elem_cache"></div>\r\n    \x3c!-- ToolBar --\x3e\r\n    <div id="chart_toolbar">\r\n        <div class="chart_toolbar_minisep"></div>\r\n        \x3c!-- Periods --\x3e\r\n        <div class="symbol-title" id="symbol_title"></div>\r\n        <div class="chart_dropdown" id="chart_toolbar_periods_vert">\r\n            <div class="chart_dropdown_t"><a class="chart_str_period">周期</a></div>\r\n            <div class="chart_dropdown_data" style="margin-left: -58px;">\r\n                <table>\r\n                    <tbody>\r\n                        <tr>\r\n                            <td>\r\n                                <ul>\r\n                                    <li id="chart_period_1w_v" style="display:none;" name="1w">\r\n                                        <a class="chart_str_period_1w">周线</a>\r\n                                    </li>\r\n                                    <li id="chart_period_3d_v" style="display:none;" name="3d">\r\n                                        <a class="chart_str_period_3d">3日</a>\r\n                                    </li>\r\n                                    <li id="chart_period_1d_v" style="display:none;" name="1d">\r\n                                        <a class="chart_str_period_1d">日线</a>\r\n                                    </li>\r\n                                    <li id="chart_period_12h_v" style="display:none;" name="12h">\r\n                                        <a class="chart_str_period_12h">12小时</a>\r\n                                    </li>\r\n                                    <li id="chart_period_6h_v" style="display:none;" name="6h">\r\n                                        <a class="chart_str_period_6h">6小时</a>\r\n                                    </li>\r\n                                    <li id="chart_period_4h_v" style="display:none;" name="4h">\r\n                                        <a class="chart_str_period_4h">4小时</a>\r\n                                    </li>\r\n                                    <li id="chart_period_2h_v" style="display:none;" name="2h">\r\n                                        <a class="chart_str_period_2h">2小时</a>\r\n                                    </li>\r\n                                    <li id="chart_period_1h_v" style="display:none;" name="1h">\r\n                                        <a class="chart_str_period_1h">1小时</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </td>\r\n\r\n                        </tr>\r\n\r\n                        <tr>\r\n                            <td>\r\n                                <ul>\r\n                                    <li id="chart_period_30m_v" style="display:none;" name="30m">\r\n                                        <a class="chart_str_period_30m">30分钟</a>\r\n                                    </li>\r\n                                    <li id="chart_period_15m_v" style="display:none;" name="15m">\r\n                                        <a class="chart_str_period_15m">15分钟</a>\r\n                                    </li>\r\n                                    <li id="chart_period_5m_v" style="display:none;" name="5m">\r\n                                        <a class="chart_str_period_5m">5分钟</a>\r\n                                    </li>\r\n                                    <li id="chart_period_3m_v" style="display:none;" name="3m">\r\n                                        <a class="chart_str_period_3m">3分钟</a>\r\n                                    </li>\r\n                                    <li id="chart_period_1m_v" style="display:none;" name="1m">\r\n                                        <a class="chart_str_period_1m selected">1分钟</a>\r\n                                    </li>\r\n                                    <li id="chart_period_line_v" style="display:none;" name="line">\r\n                                        <a class="chart_str_period_line">分时</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n        <div id="chart_toolbar_periods_horz">\r\n            <ul class="chart_toolbar_tabgroup" style="padding-left:5px; padding-right:11px;">\r\n                <li id="chart_period_1w_h" name="1w" style="display: none;">\r\n                    <a class="chart_str_period_1w">周线</a>\r\n                </li>\r\n                <li id="chart_period_3d_h" name="3d" style="display: none;">\r\n                    <a class="chart_str_period_3d">3日</a>\r\n                </li>\r\n                <li id="chart_period_1d_h" name="1d" style="display: none;">\r\n                    <a class="chart_str_period_1d">日线</a>\r\n                </li>\r\n                <li id="chart_period_12h_h" name="12h" style="display: none;">\r\n                    <a class="chart_str_period_12h">12小时</a>\r\n                </li>\r\n                <li id="chart_period_6h_h" name="6h" style="display: none;">\r\n                    <a class="chart_str_period_6h">6小时</a>\r\n                </li>\r\n                <li id="chart_period_4h_h" name="4h" style="display: none;">\r\n                    <a class="chart_str_period_4h">4小时</a>\r\n                </li>\r\n                <li id="chart_period_2h_h" name="2h" style="display: none;">\r\n                    <a class="chart_str_period_2h">2小时</a>\r\n                </li>\r\n                <li id="chart_period_1h_h" name="1h" style="display: none;">\r\n                    <a class="chart_str_period_1h">1小时</a>\r\n                </li>\r\n                <li id="chart_period_30m_h" name="30m" style="display: none;">\r\n                    <a class="chart_str_period_30m">30分钟</a>\r\n                </li>\r\n                <li id="chart_period_15m_h" name="15m" style="display: none;">\r\n                    <a class="chart_str_period_15m">15分钟</a>\r\n                </li>\r\n                <li id="chart_period_5m_h" name="5m" style="display: none;">\r\n                    <a class="chart_str_period_5m">5分钟</a>\r\n                </li>\r\n                <li id="chart_period_3m_h" name="3m" style="display: none;">\r\n                    <a class="chart_str_period_3m">3分钟</a>\r\n                </li>\r\n                <li id="chart_period_1m_h" name="1m" style="display: none;">\r\n                    <a class="chart_str_period_1m selected">1分钟</a>\r\n                </li>\r\n                <li id="chart_period_line_h" name="line" style="display: none;">\r\n                    <a class="chart_str_period_line">分时</a>\r\n                </li>\r\n            </ul>\r\n        </div>\r\n        <div id="chart_show_indicator" class="chart_toolbar_button chart_str_indicator_cap selected">技术指标</div>\r\n        <div id="chart_show_tools" class="chart_toolbar_button chart_str_tools_cap">画线工具</div>\r\n        <div id="chart_toolbar_theme">\r\n            <div class="chart_toolbar_label chart_str_theme_cap">\r\n                主题选择\r\n            </div>\r\n            <a name="dark" class="chart_icon chart_icon_theme_dark selected"></a>\r\n            <a name="light" class="chart_icon chart_icon_theme_light"></a>\r\n        </div>\r\n        <div class="chart_dropdown" id="chart_dropdown_settings">\r\n            <div class="chart_dropdown_t"><a class="chart_str_settings">更多</a></div>\r\n\r\n            <div class="chart_dropdown_data" style="margin-left: -142px;">\r\n                <table>\r\n                    <tbody>\r\n                        <tr id="chart_select_main_indicator">\r\n                            <td class="chart_str_main_indicator">主指标</td>\r\n                            <td>\r\n                                <ul>\r\n                                    <li><a name="MA" class="selected">MA</a></li>\r\n                                    <li><a name="EMA" class="">EMA</a></li>\r\n                                    <li><a name="BOLL" class="">BOLL</a></li>\r\n                                    <li><a name="SAR" class="">SAR</a></li>\r\n                                    <li><a name="NONE" class="">None</a></li>\r\n                                </ul>\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tr id="chart_select_chart_style">\r\n                            <td class="chart_str_chart_style">主图样式</td>\r\n                            <td>\r\n                                <ul>\r\n                                    <li><a class="selected">CandleStick</a></li>\r\n                                    <li><a>CandleStickHLC</a></li>\r\n                                    <li><a class="">OHLC</a></li>\r\n                                </ul>\r\n                            </td>\r\n                        </tr>\r\n\r\n                        <tr id="chart_select_theme" style="display: none;">\r\n                            <td class="chart_str_theme">主题选择</td>\r\n                            <td>\r\n                                <ul>\r\n                                    <li>\r\n                                        <a name="dark" class="chart_icon chart_icon_theme_dark selected"></a>\r\n                                    </li>\r\n\r\n                                    <li>\r\n                                        <a name="light" class="chart_icon chart_icon_theme_light"></a>\r\n                                    </li>\r\n                                </ul>\r\n                            </td>\r\n                        </tr>\r\n                        <tr id="chart_enable_tools" style="display: none;">\r\n                            <td class="chart_str_tools">画线工具</td>\r\n                            <td>\r\n                                <ul>\r\n                                    <li><a name="on" class="chart_str_on">开启</a></li>\r\n                                    <li><a name="off" class="chart_str_off selected">关闭</a></li>\r\n\r\n                                </ul>\r\n\r\n                            </td>\r\n                        </tr>\r\n                        <tr id="chart_enable_indicator" style="display: none;">\r\n                            <td class="chart_str_indicator">技术指标</td>\r\n                            <td>\r\n                                <ul>\r\n                                    <li><a name="on" class="chart_str_on selected">开启</a></li>\r\n                                    <li><a name="off" class="chart_str_off">关闭</a></li>\r\n                                </ul>\r\n                            </td>\r\n                        </tr>\r\n                        <tr>\r\n                            <td></td>\r\n                            <td>\r\n                                <ul>\r\n                                    <li>\r\n                                        <a id="chart_btn_parameter_settings"\r\n                                            class="chart_str_indicator_parameters">指标参数设置</a>\r\n                                    </li>\r\n                                </ul>\r\n                            </td>\r\n                        </tr>\r\n                    </tbody>\r\n                </table>\r\n            </div>\r\n        </div>\r\n\r\n        <div class="chart_dropdown" id="chart_language_setting_div" style="padding-left: 5px;">\r\n            <div class="chart_dropdown_t">\r\n                <a class="chart_language_setting">语言(LANG)</a>\r\n            </div>\r\n            <div class="chart_dropdown_data" style="padding-top: 15px; margin-left: -12px;">\r\n                <ul>\r\n                    <li style="height: 25px;">\r\n                        <a name="zh-cn" class="selected">简体中文(zh-CN)</a>\r\n                    </li>\r\n                    <li style="height: 25px;">\r\n                        <a name="en-us">English(en-US)</a>\r\n                    </li>\r\n                    <li style="height: 25px;">\r\n                        <a name="zh-tw">繁體中文(zh-HK)</a>\r\n                    </li>\r\n                </ul>\r\n            </div>\r\n        </div>\r\n        <div id="chart_updated_time">\r\n            <div id="sizeIcon" class="chart_BoxSize"></div>\r\n\r\n        </div>\r\n    </div>\r\n    \x3c!-- ToolPanel --\x3e\r\n    <div id="chart_toolpanel">\r\n        <div class="chart_toolpanel_separator"></div>\r\n\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_Cursor" name="Cursor"></div>\r\n            <div class="chart_toolpanel_tip chart_str_cursor">\r\n                光标\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_CrossCursor" name="CrossCursor"></div>\r\n            <div class="chart_toolpanel_tip chart_str_cross_cursor">\r\n                十字光标\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_SegLine" name="SegLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_seg_line">\r\n                线段\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_StraightLine" name="StraightLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_straight_line">\r\n                直线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_RayLine" name="RayLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_ray_line">\r\n                射线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_ArrowLine" name="ArrowLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_arrow_line">\r\n                箭头\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_HoriSegLine" name="HoriSegLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_horz_seg_line">\r\n                水平线段\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_HoriStraightLine" name="HoriStraightLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_horz_straight_line">\r\n                水平直线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_HoriRayLine" name="HoriRayLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_horz_ray_line">\r\n                水平射线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_VertiStraightLine" name="VertiStraightLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_vert_straight_line">\r\n                垂直直线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_PriceLine" name="PriceLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_price_line">\r\n                价格线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_TriParallelLine" name="TriParallelLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_tri_parallel_line">\r\n                价格通道线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_BiParallelLine" name="BiParallelLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_bi_parallel_line">\r\n                平行直线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_BiParallelRayLine" name="BiParallelRayLine"></div>\r\n            <div class="chart_toolpanel_tip chart_str_bi_parallel_ray">\r\n                平行射线\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_DrawFibRetrace" name="DrawFibRetrace"></div>\r\n            <div class="chart_toolpanel_tip chart_str_fib_retrace">\r\n                斐波纳契回调\r\n            </div>\r\n        </div>\r\n        <div class="chart_toolpanel_button">\r\n            <div class="chart_toolpanel_icon" id="chart_DrawFibFans" name="DrawFibFans"></div>\r\n            <div class="chart_toolpanel_tip chart_str_fib_fans">\r\n                斐波纳契扇形\r\n            </div>\r\n        </div>\r\n        <div style="padding-left: 3px;padding-top: 10px;">\r\n            <button style="color: red;" id="clearCanvas" title="Clear All">X</button>\r\n        </div>\r\n    </div>\r\n    <div id="chart_canvasGroup" class="temp">\r\n        <canvas class="chart_canvas" id="chart_mainCanvas" style="cursor: default;"></canvas>\r\n        <canvas class="chart_canvas" id="chart_overlayCanvas" style="cursor: default;"></canvas>\r\n    </div>\r\n    <div id="chart_tabbar">\r\n        <ul>\r\n            <li><a name="MACD" class="">MACD</a></li>\r\n\r\n            <li><a name="KDJ" class="">KDJ</a></li>\r\n\r\n            <li><a name="StochRSI" class="">StochRSI</a></li>\r\n\r\n            <li><a name="RSI" class="">RSI</a></li>\r\n\r\n            <li><a name="DMI" class="">DMI</a></li>\r\n\r\n            <li><a name="OBV" class="">OBV</a></li>\r\n\r\n            <li><a name="BOLL" class="">BOLL</a></li>\r\n\r\n            <li><a name="SAR" class="">SAR</a></li>\r\n\r\n            <li><a name="DMA" class="">DMA</a></li>\r\n\r\n            <li><a name="TRIX" class="">TRIX</a></li>\r\n\r\n            <li><a name="BRAR" class="">BRAR</a></li>\r\n\r\n            <li><a name="VR" class="">VR</a></li>\r\n\r\n            <li><a name="EMV" class="">EMV</a></li>\r\n\r\n            <li><a name="WR" class="">WR</a></li>\r\n\r\n            <li><a name="ROC" class="">ROC</a></li>\r\n\r\n            <li><a name="MTM" class="">MTM</a></li>\r\n\r\n            <li><a name="PSY">PSY</a></li>\r\n\r\n        </ul>\r\n\r\n    </div>\r\n\r\n    <div id="chart_parameter_settings">\r\n        <h2 class="chart_str_indicator_parameters">指标参数设置</h2>\r\n        <table>\r\n            <tbody>\r\n                <tr>\r\n                    <th>MA</th>\r\n                    <td><input name="MA"><input name="MA"><input name="MA"><input name="MA"><br><input name="MA"><input\r\n                            name="MA">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>DMA</th>\r\n                    <td><input name="DMA"><input name="DMA"><input name="DMA"></td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>EMA</th>\r\n                    <td>\r\n                        <input name="EMA"><input name="EMA"><input name="EMA"><input name="EMA"><br>\r\n                        <input name="EMA"><input name="EMA">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>TRIX</th>\r\n                    <td><input name="TRIX"><input name="TRIX"></td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>VOLUME</th>\r\n                    <td><input name="VOLUME"><input name="VOLUME"></td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>BRAR</th>\r\n                    <td><input name="BRAR"></td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>MACD</th>\r\n                    <td>\r\n                        <input name="MACD"><input name="MACD"><input name="MACD">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>VR</th>\r\n                    <td><input name="VR"><input name="VR"></td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>KDJ</th>\r\n                    <td>\r\n                        <input name="KDJ"><input name="KDJ"><input name="KDJ">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>EMV</th>\r\n                    <td>\r\n                        <input name="EMV"><input name="EMV">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>StochRSI</th>\r\n                    <td>\r\n                        <input name="StochRSI"><input name="StochRSI"><input name="StochRSI"><input name="StochRSI">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>WR</th>\r\n                    <td>\r\n                        <input name="WR"><input name="WR">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>RSI</th>\r\n                    <td>\r\n                        <input name="RSI"><input name="RSI"><input name="RSI">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>ROC</th>\r\n                    <td>\r\n                        <input name="ROC"><input name="ROC">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>DMI</th>\r\n                    <td>\r\n                        <input name="DMI"><input name="DMI">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>MTM</th>\r\n                    <td>\r\n                        <input name="MTM"><input name="MTM">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>OBV</th>\r\n                    <td>\r\n                        <input name="OBV">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n\r\n                    <th>PSY</th>\r\n                    <td>\r\n                        <input name="PSY"><input name="PSY">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n\r\n                <tr>\r\n                    <th>BOLL</th>\r\n                    <td>\r\n                        <input name="BOLL">\r\n                    </td>\r\n                    <td>\r\n                        <button class="chart_str_default">默认值</button>\r\n                    </td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n\r\n        <div id="close_settings"><a class="chart_str_close">关闭</a></div>\r\n\r\n    </div>\r\n\r\n    \x3c!-- Loading --\x3e\r\n    <div id="chart_loading" class="chart_str_loading">正在读取数据...</div>\r\n</div>\r\n\r\n<div style="display: none" id="chart_language_switch_tmp">\r\n    <span name="chart_str_period" zh_tw="週期" zh_cn="周期" en_us="TIME"></span>\r\n    <span name="chart_str_period_line" zh_tw="分時" zh_cn="分时" en_us="Line"></span>\r\n    <span name="chart_str_period_1m" zh_tw="1分鐘" zh_cn="1分钟" en_us="1m"></span>\r\n    <span name="chart_str_period_3m" zh_tw="3分鐘" zh_cn="3分钟" en_us="3m"></span>\r\n    <span name="chart_str_period_5m" zh_tw="5分鐘" zh_cn="5分钟" en_us="5m"></span>\r\n    <span name="chart_str_period_15m" zh_tw="15分鐘" zh_cn="15分钟" en_us="15m"></span>\r\n    <span name="chart_str_period_30m" zh_tw="30分鐘" zh_cn="30分钟" en_us="30m"></span>\r\n    <span name="chart_str_period_1h" zh_tw="1小時" zh_cn="1小时" en_us="1h"></span>\r\n    <span name="chart_str_period_2h" zh_tw="2小時" zh_cn="2小时" en_us="2h"></span>\r\n    <span name="chart_str_period_4h" zh_tw="4小時" zh_cn="4小时" en_us="4h"></span>\r\n    <span name="chart_str_period_6h" zh_tw="6小時" zh_cn="6小时" en_us="6h"></span>\r\n    <span name="chart_str_period_12h" zh_tw="12小時" zh_cn="12小时" en_us="12h"></span>\r\n    <span name="chart_str_period_1d" zh_tw="日線" zh_cn="日线" en_us="1d"></span>\r\n    <span name="chart_str_period_3d" zh_tw="3日" zh_cn="3日" en_us="3d"></span>\r\n    <span name="chart_str_period_1w" zh_tw="周線" zh_cn="周线" en_us="1w"></span>\r\n    <span name="chart_str_settings" zh_tw="更多" zh_cn="更多" en_us="MORE"></span>\r\n    <span name="chart_setting_main_indicator" zh_tw="均線設置" zh_cn="均线设置" en_us="Main Indicator"></span>\r\n    <span name="chart_setting_main_indicator_none" zh_tw="關閉均線" zh_cn="关闭均线" en_us="None"></span>\r\n    <span name="chart_setting_indicator_parameters" zh_tw="指標參數設置" zh_cn="指标参数设置" en_us="Indicator Parameters"></span>\r\n    <span name="chart_str_chart_style" zh_tw="主圖樣式" zh_cn="主图样式" en_us="Chart Style"></span>\r\n    <span name="chart_str_main_indicator" zh_tw="主指標" zh_cn="主指标" en_us="Main Indicator"></span>\r\n    <span name="chart_str_indicator" zh_tw="技術指標" zh_cn="技术指标" en_us="Indicator"></span>\r\n    <span name="chart_str_indicator_cap" zh_tw="技術指標" zh_cn="技术指标" en_us="INDICATOR"></span>\r\n    <span name="chart_str_tools" zh_tw="畫線工具" zh_cn="画线工具" en_us="Tools"></span>\r\n    <span name="chart_str_tools_cap" zh_tw="畫線工具" zh_cn="画线工具" en_us="TOOLS"></span>\r\n    <span name="chart_str_theme" zh_tw="主題選擇" zh_cn="主题选择" en_us="Theme"></span>\r\n    <span name="chart_str_theme_cap" zh_tw="主題選擇" zh_cn="主题选择" en_us="THEME"></span>\r\n    <span name="chart_language_setting" zh_tw="語言(LANG)" zh_cn="语言(LANG)" en_us="LANGUAGE"></span>\r\n    <span name="chart_exchanges_setting" zh_tw="更多市場" zh_cn="更多市场" en_us="MORE MARKETS"></span>\r\n    <span name="chart_othercoin_setting" zh_tw="其它市場" zh_cn="其它市场" en_us="OTHER MARKETS"></span>\r\n\r\n    <span name="chart_str_none" zh_tw="關閉" zh_cn="关闭" en_us="None"></span>\r\n    <span name="chart_str_theme_dark" zh_tw="深色主題" zh_cn="深色主题" en_us="Dark"></span>\r\n    <span name="chart_str_theme_light" zh_tw="淺色主題" zh_cn="浅色主题" en_us="Light"></span>\r\n    <span name="chart_str_on" zh_tw="開啟" zh_cn="开启" en_us="On"></span>\r\n    <span name="chart_str_off" zh_tw="關閉" zh_cn="关闭" en_us="Off"></span>\r\n    <span name="chart_str_close" zh_tw="關閉" zh_cn="关闭" en_us="CLOSE"></span>\r\n    <span name="chart_str_default" zh_tw="默認值" zh_cn="默认值" en_us="default"></span>\r\n    <span name="chart_str_loading" zh_tw="正在讀取數據..." zh_cn="正在读取数据..." en_us="Loading..."></span>\r\n    <span name="chart_str_indicator_parameters" zh_tw="指標參數設置" zh_cn="指标参数设置" en_us="Indicator Parameters"></span>\r\n    <span name="chart_str_cursor" zh_tw="光標" zh_cn="光标" en_us="Cursor"></span>\r\n    <span name="chart_str_cross_cursor" zh_tw="十字光標" zh_cn="十字光标" en_us="Cross Cursor"></span>\r\n    <span name="chart_str_seg_line" zh_tw="線段" zh_cn="线段" en_us="Trend Line"></span>\r\n    <span name="chart_str_straight_line" zh_tw="直線" zh_cn="直线" en_us="Extended"></span>\r\n    <span name="chart_str_ray_line" zh_tw="射線" zh_cn="射线" en_us="Ray"></span>\r\n    <span name="chart_str_arrow_line" zh_tw="箭頭" zh_cn="箭头" en_us="Arrow"></span>\r\n    <span name="chart_str_horz_seg_line" zh_tw="水平線段" zh_cn="水平线段" en_us="Horizontal Line"></span>\r\n    <span name="chart_str_horz_straight_line" zh_tw="水平直線" zh_cn="水平直线" en_us="Horizontal Extended"></span>\r\n    <span name="chart_str_horz_ray_line" zh_tw="水平射線" zh_cn="水平射线" en_us="Horizontal Ray"></span>\r\n    <span name="chart_str_vert_straight_line" zh_tw="垂直直線" zh_cn="垂直直线" en_us="Vertical Extended"></span>\r\n    <span name="chart_str_price_line" zh_tw="價格線" zh_cn="价格线" en_us="Price Line"></span>\r\n    <span name="chart_str_tri_parallel_line" zh_tw="價格通道線" zh_cn="价格通道线" en_us="Parallel Channel"></span>\r\n    <span name="chart_str_bi_parallel_line" zh_tw="平行直線" zh_cn="平行直线" en_us="Parallel Lines"></span>\r\n    <span name="chart_str_bi_parallel_ray" zh_tw="平行射線" zh_cn="平行射线" en_us="Parallel Rays"></span>\r\n    <span name="chart_str_fib_retrace" zh_tw="斐波納契回調" zh_cn="斐波纳契回调" en_us="Fibonacci Retracements"></span>\r\n    <span name="chart_str_fib_fans" zh_tw="斐波納契扇形" zh_cn="斐波纳契扇形" en_us="Fibonacci Fans"></span>\r\n    <span name="chart_str_updated" zh_tw="更新於" zh_cn="更新于" en_us="Updated"></span>\r\n    <span name="chart_str_ago" zh_tw="前" zh_cn="前" en_us="ago"></span>\r\n</div>\r\n'},function(t,e,n){"use strict";n.r(e);var a=n(4);window.Kline=a.a,e.default=a.a},function(t,e,n){var a=n(22);"string"==typeof a&&(a=[[t.i,a,""]]);var r={insert:"head",singleton:!1};n(37)(a,r);a.locals&&(t.exports=a.locals)},function(t,e,n){e=t.exports=n(23)(!1);var a=n(24),r=a(n(25)),i=a(n(26)),o=a(n(27)),s=a(n(28)),l=a(n(29)),c=a(n(30)),h=a(n(31)),u=a(n(32)),_=a(n(33)),d=a(n(34)),g=a(n(35)),f=a(n(36));e.push([t.i,"html,\nbody {\n    min-height: 100%;\n    margin: 0;\n    min-width: 100%;\n}\n\n.chart_container {\n    cursor: default;\n    font-size: 12px;\n    height: 100%;\n    position: relative;\n    width: 100%;\n    overflow: hidden;\n    border:1px solid #0a0a0a;\n}\n\n.chart_container *{\n    font-size:12px;\n}\n\n.chart_container div,\n.chart_container ul,\n.chart_container form {\n    margin: 0;\n    padding: 0\n}\n\n.chart_container a:hover {\n    text-decoration: none\n}\n\n.chart_container ul {\n    list-style: none;\n    border: 0;\n    margin: 0;\n    padding: 0\n}\n\n.chart_container button {\n    cursor: pointer\n}\n\n#chart_dom_elem_cache {\n    *font-weight: bold;\n    position: absolute;\n    visibility: hidden;\n    z-index: -1\n}\n\n#chart_toolbar {\n    border-bottom: 1px solid;\n    *font-weight: bold;\n    height: 29px;\n    position: absolute;\n    z-index: 3\n}\n\n.chart_container.dark #chart_toolbar {\n    background-color: #161616;\n    border-bottom-color: #404040\n}\n\n.chart_container.light #chart_toolbar {\n    background-color: #f6f6f6;\n    border-bottom-color: #afb1b3\n}\n\n.chart_container .chart_toolbar_sep {\n    float: left;\n    height: 100%;\n    width: 16px\n}\n\n.chart_container .chart_dropdown {\n    display: inline-block;\n    float: left;\n    position: relative;\n    z-index: 100;\n    cursor:pointer;\n}\n\n.chart_container .chart_dropdown_t {\n    background-origin: content-box;\n    background-repeat: no-repeat;\n    border: 1px solid;\n    border-bottom-width: 0;\n    margin-top: 3px;\n    padding-right: 10px;\n    z-index: 101;\n    position: relative\n}\n\n.chart_container .chart_dropdown_t a {\n    display: inline-block;\n    padding: 3px 12px 5px 10px\n}\n\n.chart_container .chart_dropdown_data {\n    border: 1px solid;\n    display: none;\n    position: absolute;\n    padding: 6px 8px 6px 8px;\n    margin-top: -1px;\n    z-index: 100\n}\n\n.chart_container .chart_dropdown_data table {\n    border-collapse: collapse;\n    font-weight: normal;\n    white-space: nowrap\n}\n\n.chart_container .chart_dropdown_data td {\n    border-bottom: 1px solid;\n    padding: 8px 6px;\n    vertical-align: top\n}\n\n.market_chooser .chart_dropdown_data {\n    width: 370px\n}\n\n.market_chooser .chart_dropdown_data td {\n    border-bottom: 1px solid;\n    padding: 1px 6px !important;\n    vertical-align: top;\n    line-height: 24px\n}\n\n.market_chooser li {\n    float: left;\n    width: 80px;\n    height: 24px;\n    line-height: 24px\n}\n\n.chart_container .chart_dropdown_data td.marketName_ a.dark {\n    color: #fff\n}\n\n.chart_container .chart_dropdown_data td.marketName_ a.light {\n    color: #000\n}\n\n.chart_container .chart_dropdown_data table tr:last-child td {\n    border-bottom: 0\n}\n\n.chart_container .chart_dropdown_data li {\n    white-space: nowrap;\n    display: inline-block\n}\n\n.chart_container .chart_dropdown_data a {\n    text-decoration: none;\n    cursor: pointer;\n    padding: 5px 6px 5px 6px\n}\n\n.chart_container .chart_dropdown-hover.chart_dropdown_data {\n    display: block\n}\n\n#chart_dropdown_symbols .chart_dropdown_data td {\n    padding: 8px 6px 0 6px\n}\n\n#chart_dropdown_symbols .chart_dropdown_data li {\n    display: block;\n    height: 26px\n}\n\n#chart_dropdown_symbols .chart_dropdown_data a {\n    cursor: pointer\n}\n\n#chart_dropdown_themes .chart_dropdown_data td:first-child {\n    padding: 6px 1px 7px 6px\n}\n\n.chart_container.dark .chart_dropdown_t {\n    background-image: url("+r+");\n    background-position: right 9px;\n    border-color: #161616;\n    color: #e5e5e5\n}\n\n.chart_container.dark .chart_dropdown-hover.chart_dropdown_t {\n    background-color: #161616;\n    background-image: url("+i+");\n    background-position: right 8px;\n    border-color: #606060;\n    color: #fff\n}\n\n.chart_container.dark .chart_dropdown_data {\n    background-color: rgba(22, 22, 22, 0.8);\n    border-color: #606060\n}\n\n.chart_container.dark .chart_dropdown_data td {\n    border-bottom-color: #404040;\n    color: #e5e5e5\n}\n\n.chart_container.dark .chart_dropdown_data li a {\n    color: #1987da\n}\n\n.chart_container.dark .chart_dropdown_data li a:hover {\n    background-color: #383838\n}\n\n.chart_container.dark .chart_dropdown_data li a.selected {\n    color: #ffac00\n}\n\n.chart_container.light .chart_dropdown_t {\n    background-image: url("+o+");\n    background-position: right 10px;\n    border-color: #f6f6f6;\n    color: #393c40\n}\n\n.chart_container.light .chart_dropdown-hover.chart_dropdown_t {\n    background-color: #f6f6f6;\n    background-image: url("+s+");\n    background-position: right 9px;\n    border-color: #4c4f53;\n    color: #393c40\n}\n\n.chart_container.light .chart_dropdown_data {\n    background-color: rgba(246,246,246,0.8);\n    border-color: #4c4f53\n}\n\n.chart_container.light .chart_dropdown_data td {\n    border-bottom-color: #e4e5e6;\n    color: #393c40\n}\n\n.chart_container.light .chart_dropdown_data li a {\n    color: #1478c8\n}\n\n.chart_container.light .chart_dropdown_data a:hover {\n    background-color: #f4f4f4\n}\n\n.chart_container.light .chart_dropdown_data a.selected {\n    color: #f27935\n}\n\n.chart_container .chart_toolbar_label {\n    cursor: default;\n    display: inline-block;\n    float: left;\n    padding: 7px 4px\n}\n\n.chart_container.dark .chart_toolbar_label {\n    border-color: #232323;\n    color: #e5e5e5\n}\n\n.chart_container.light .chart_toolbar_label {\n    border-color: #fff;\n    color: #393c40\n}\n\n.chart_container .chart_toolbar_button {\n    border: 1px solid;\n    cursor: pointer;\n    float: left;\n    margin: 3px 2px;\n    padding: 3px 10px;\n    position: relative;\n    z-index: 100\n}\n\n.chart_container.dark .chart_toolbar_button {\n    border-color: #404040;\n    color: #e5e5e5\n}\n\n.chart_container.dark .chart_toolbar_button:hover {\n    background-color: #383838;\n    border-color: #606060;\n    color: #fff\n}\n\n.chart_container.dark .chart_toolbar_button.selected {\n    background-color: #383838;\n    border-color: #606060;\n    color: #ffac00\n}\n\n.chart_container.dark .chart_toolbar_button.selected:hover {\n    background-color: #474747;\n    border-color: #808080;\n    color: #ffac00\n}\n\n.chart_container.light .chart_toolbar_button {\n    border-color: #ccc;\n    color: #393c40\n}\n\n.chart_container.light .chart_toolbar_button:hover {\n    background-color: #f4f4f4;\n    color: #393c40\n}\n\n.chart_container.light .chart_toolbar_button.selected {\n    background-color: #f4f4f4;\n    border-color: #f27935;\n    color: #f27935\n}\n\n.chart_container .chart_toolbar_tabgroup {\n    float: left\n}\n\n.chart_container .chart_toolbar_tabgroup li {\n    display: inline-block;\n    padding: 4px 0;\n    margin: 3px 0\n}\n\n.chart_container .chart_toolbar_tabgroup li a {\n    cursor: pointer;\n    padding: 4px 4px\n}\n\n.chart_container .chart_toolbar_tabgroup li a:hover {\n    text-decoration: none\n}\n\n.chart_container.dark .chart_toolbar_tabgroup li a {\n    color: #1987da\n}\n\n.chart_container.dark .chart_toolbar_tabgroup li a:hover {\n    background-color: #383838\n}\n\n.chart_container.dark .chart_toolbar_tabgroup li a.selected {\n    color: #ffac00\n}\n\n.chart_container.light .chart_toolbar_tabgroup li a {\n    color: #1478c8\n}\n\n.chart_container.light .chart_toolbar_tabgroup li a:hover {\n    background-color: #f4f4f4\n}\n\n.chart_container.light .chart_toolbar_tabgroup li a.selected {\n    color: #f27935\n}\n\n#chart_toolbar_periods_horz {\n    display: inline-block;\n    float: left;\n    position: relative;\n    z-index: 100\n}\n\n#chart_toolbar_periods_vert {\n    float: left\n}\n\n.chart_container a.chart_icon {\n    border: 1px solid;\n    height: 16px;\n    padding: 0;\n    width: 16px;\n    box-sizing:border-box;\n}\n\n.chart_container a.chart_icon:hover {\n    border-width: 2px;\n}\n\n.chart_container .chart_dropdown_data a.chart_icon {\n    display: inline-block;\n    margin: 0 6px 0 6px\n}\n\n.chart_container a.chart_icon_theme_dark,\n.chart_container .chart_dropdown_data li a.chart_icon_theme_dark:hover {\n    background-color: #000\n}\n\n.chart_container a.chart_icon_theme_light,\n.chart_container .chart_dropdown_data li a.chart_icon_theme_light:hover {\n    background-color: #fff\n}\n\n.chart_container #chart_toolbar_theme {\n    float: left;\n    padding: 0 8px\n}\n\n.chart_container #chart_toolbar_theme a.chart_icon {\n    cursor: pointer;\n    float: left;\n    margin: 6px 4px\n}\n\n.chart_container #chart_select_theme td:last-child {\n    padding: 6px 6px 0 8px\n}\n\n.chart_container #chart_select_theme li {\n    padding: 0 4px 0 4px\n}\n\n.chart_container.dark a.chart_icon {\n    border-color: #aaa\n}\n\n.chart_container.dark a.chart_icon:hover {\n    border-color: #1987da\n}\n\n.chart_container.dark a.chart_icon.selected {\n    border-color: #ffac00\n}\n\n.chart_container.light a.chart_icon {\n    border-color: #aaa\n}\n\n.chart_container.light a.chart_icon.selected {\n    border-color: #f27935\n}\n\n.chart_container #chart_updated_time {\n    float: right;\n    padding-top: 6px;\n    margin-right:10px;\n}\n\n.chart_container.dark #chart_updated_time {\n    color: #e5e5e5\n}\n\n.chart_container.light #chart_updated_time {\n    color: #393c40\n}\n\n.chart_container #chart_show_depth{\n    float:right;\n    margin-right:30px;\n}\n\n#chart_toolpanel {\n    border-right: 1px solid;\n    display: none;\n    position: absolute;\n    width: 32px;\n    z-index: 2;\n}\n\n#chart_toolpanel .chart_toolpanel_separator {\n    position: relative;\n    height: 4px\n}\n\n#chart_toolpanel .chart_toolpanel_button {\n    position: relative;\n    z-index: 100\n}\n\n#chart_toolpanel .chart_toolpanel_icon {\n    background-origin: content-box;\n    background-repeat: no-repeat;\n    cursor: pointer;\n    height: 16px;\n    margin: 1px 4px 1px 4px;\n    padding: 4px;\n    position: relative;\n    width: 16px;\n    z-index: 101\n}\n\n#chart_toolpanel .chart_toolpanel_tip {\n    border-radius: 4px;\n    border: 1px solid;\n    display: none;\n    *font-weight: bold;\n    position: absolute;\n    padding: 3px 6px 4px 6px;\n    margin-left: 36px;\n    margin-top: -25px;\n    white-space: nowrap;\n    z-index: 100\n}\n\n#chart_toolpanel .chart_toolpanel_button:hover .chart_toolpanel_tip {\n    display: block\n}\n\n.chart_container.dark #chart_toolpanel {\n    background-color: #161616;\n    border-right-color: #404040\n}\n\n.chart_container.dark .chart_toolpanel_icon {\n    background-color: #161616;\n}\n\n.chart_container.dark .chart_toolpanel_button:hover .chart_toolpanel_icon {\n    background-color: #404040;\n}\n\n.chart_container.dark .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-color: #161616;\n}\n\n.chart_container.dark .chart_toolpanel_tip {\n    background-color: #ffac00;\n    border-color: #ffac00;\n    color: #161616\n}\n\n.chart_container.light #chart_toolpanel {\n    background-color: #f6f6f6;\n    border-right-color: #afb1b3\n}\n\n.chart_container.light .chart_toolpanel_icon {\n    background-color: #f6f6f6;\n}\n\n.chart_container.light .chart_toolpanel_button:hover .chart_toolpanel_icon {\n    background-color: #ccc;\n}\n\n.chart_container.light .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-color: #f4f4f4;\n}\n\n.chart_container.light .chart_toolpanel_tip {\n    background-color: #f27938;\n    border-color: #f27938;\n    color: #eee\n}\n\n.chart_container.dark #chart_toolpanel .chart_toolpanel_button .chart_toolpanel_icon {\n    background-image: url("+l+")\n}\n\n.chart_container.dark #chart_toolpanel .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-image: url("+c+")\n}\n\n.chart_container.dark #chart_toolbar .chart_BoxSize {\n    background: url("+h+") no-repeat;\n}\n\n.chart_container.light #chart_toolpanel .chart_toolpanel_button .chart_toolpanel_icon {\n    background-image: url("+u+")\n}\n\n.chart_container.light #chart_toolpanel .chart_toolpanel_button.selected .chart_toolpanel_icon {\n    background-image: url("+_+")\n}\n\n.chart_container.light #chart_toolbar .chart_BoxSize {\n    background: url("+d+") no-repeat;\n}\n\n.chart_container #chart_toolpanel #chart_Cursor {\n    background-position: 0 0\n}\n\n.chart_container #chart_toolpanel #chart_CrossCursor {\n    background-position: 0 -20px\n}\n\n.chart_container #chart_toolpanel #chart_SegLine {\n    background-position: 0 -40px\n}\n\n.chart_container #chart_toolpanel #chart_StraightLine {\n    background-position: 0 -60px\n}\n\n.chart_container #chart_toolpanel #chart_RayLine {\n    background-position: 0 -100px\n}\n\n.chart_container #chart_toolpanel #chart_ArrowLine {\n    background-position: 0 -80px\n}\n\n.chart_container #chart_toolpanel #chart_HoriSegLine {\n    background-position: 0 -160px\n}\n\n.chart_container #chart_toolpanel #chart_HoriStraightLine {\n    background-position: 0 -120px\n}\n\n.chart_container #chart_toolpanel #chart_HoriRayLine {\n    background-position: 0 -140px\n}\n\n.chart_container #chart_toolpanel #chart_VertiStraightLine {\n    background-position: 0 -180px\n}\n\n.chart_container #chart_toolpanel #chart_PriceLine {\n    background-position: 0 -200px\n}\n\n.chart_container #chart_toolpanel #chart_TriParallelLine {\n    background-position: 0 -220px\n}\n\n.chart_container #chart_toolpanel #chart_BiParallelLine {\n    background-position: 0 -240px\n}\n\n.chart_container #chart_toolpanel #chart_BiParallelRayLine {\n    background-position: 0 -260px\n}\n\n.chart_container .chart_toolpanel_button #chart_DrawFibRetrace {\n    background-position: 0 -280px\n}\n\n.chart_container #chart_toolpanel #chart_DrawFibFans {\n    background-position: 0 -300px\n}\n\n#chart_tabbar {\n    border-top: 1px solid;\n    cursor: default;\n    display: none;\n    *font-weight: bold;\n    overflow: hidden;\n    position: absolute;\n    z-index: 1;\n    height: 24px;\n}\n\n#chart_tabbar ul {\n    height: 100%;\n    list-style: none;\n    padding: 0 0 0 4px\n}\n\n#chart_tabbar li {\n    display: inline-block;\n    height: 100%;\n    margin: 0\n}\n\n#chart_tabbar a {\n    cursor: pointer;\n    display: inline-block;\n    height: 100%;\n    margin: 0;\n    padding: 0 4px 0 4px;\n    line-height: 24px;\n    overflow: hidden\n}\n\n#chart_tabbar a:hover {\n    text-decoration: none\n}\n\n.chart_container.dark #chart_tabbar {\n    background-color: #161616;\n    border-top-color: #404040\n}\n\n.chart_container.dark #chart_tabbar a {\n    color: #e5e5e5\n}\n\n.chart_container.dark #chart_tabbar a:hover {\n    background-color: #383838;\n    color: #fff\n}\n\n.chart_container.dark #chart_tabbar a.selected {\n    color: #ffac00\n}\n\n.chart_container.light #chart_tabbar {\n    background-color: #f6f6f6;\n    border-top-color: #afb1b3\n}\n\n.chart_container.light #chart_tabbar a {\n    color: #393c40\n}\n\n.chart_container.light #chart_tabbar a:hover {\n    background-color: #f4f4f4;\n    color: #393c40\n}\n\n.chart_container.light #chart_tabbar a.selected {\n    color: #f27935\n}\n\n#chart_canvasGroup {\n    position: absolute;\n    z-index: 0\n}\n\n#chart_mainCanvas {\n    overflow: hidden;\n    position: absolute;\n    z-index: 0\n}\n\n#chart_overlayCanvas {\n    overflow: hidden;\n    position: absolute;\n    z-index: 2\n}\n\n#chart_loading {\n    border: 1px solid;\n    border-radius: 4px;\n    font-size: 18px;\n    font-weight: bold;\n    line-height: 48px;\n    overflow: hidden;\n    position: absolute;\n    text-align: center;\n    visibility: hidden;\n    width: 200px;\n    z-index: 200\n}\n\n#chart_loading.activated {\n    visibility: visible\n}\n\n.chart_container.dark #chart_loading {\n    border-color: #aaa;\n    background-color: rgba(0, 0, 0, 0.6);\n    color: #ccc\n}\n\n.chart_container.light #chart_loading {\n    border-color: #afb1b3;\n    background-color: rgba(244, 244, 244, 0.8);\n    color: #393c40\n}\n\n#chart_parameter_settings {\n    border-radius: 4px;\n    border: 1px solid;\n    width: 640px;\n    position: absolute;\n    overflow: hidden;\n    visibility: hidden;\n    z-index: 500\n}\n\n#chart_parameter_settings.clicked {\n    visibility: visible\n}\n\n#chart_parameter_settings h2 {\n    padding: 8px 12px;\n    margin: 0\n}\n\n#chart_parameter_settings table {\n    border-collapse: collapse;\n    width: 100%\n}\n\n#chart_parameter_settings tr {\n    line-height: 32px\n}\n\n#chart_parameter_settings th {\n    text-align: right;\n    padding: 0 4px 0 16px\n}\n\n#chart_parameter_settings input {\n    width: 2em;\n    margin: 0 2px 0 2px\n}\n\n#chart_parameter_settings #close_settings {\n    border-radius: 4px;\n    cursor: pointer;\n    font-weight: bold;\n    text-align: center;\n    margin: 8px auto;\n    padding: 5px 24px 5px 24px;\n    width: 84px\n}\n\n#chart_parameter_settings .chart_str_default {\n    margin-right: 24px\n}\n\n.chart_container.dark #chart_parameter_settings {\n    background-color: rgba(22, 22, 22, 0.8);\n    border-color: #666;\n    color: #ccc;\n}\n\n.chart_container.dark #chart_parameter_settings #close_settings {\n    background: #1887da;\n    color: #eee\n}\n\n.chart_container.dark #chart_parameter_settings th,\n.chart_container.dark #chart_parameter_settings td{\n    color:#ccc;\n}\n\n.chart_container.light #chart_parameter_settings {\n    background-color: rgba(246, 246, 246, 0.8);\n    border-color: #afb1b3;\n    color: #393c40\n}\n\n.chart_container.light #chart_parameter_settings #close_settings {\n    background: #1478c8;\n    color: #eee\n}\n\n.chart_container.light #chart_parameter_settings th,\n.chart_container.light #chart_parameter_settings td{\n    color:#393c40;\n}\n\n.chart_container input,\n.chart_container button {\n    border-radius: 4px;\n    border: 1px solid;\n    padding: 4px;\n}\n\n.chart_container input[type=text] {\n    width: 12em\n}\n\n.chart_container input[type=button],\n.chart_container input[type=submit],\n.chart_container button {\n    padding: 4px 8px;\n    cursor: pointer\n}\n\n.chart_container.dark input,\n.chart_container.dark button {\n    background-color: #151515;\n    border-color: #333;\n    color: #ccc\n}\n\n.chart_container.light input,\n.chart_container.light button {\n    background-color: #ddd;\n    border-color: #ddd;\n    color: #222\n}\n\n.chart_BoxSize {\n    width: 20px;\n    height: 20px;\n    cursor: pointer;\n}\n\n.clear_all{\n    position: relative;\n    z-index: 100\n}\n.clear_all .clear_all_icon{\n    cursor: pointer;\n    height: 16px;\n    margin: 1px 4px 1px 4px;\n    padding: 4px;\n    position: relative;\n    width: 16px;\n    z-index: 101;\n    background-repeat: no-repeat;\n    background-position: center center;\n}\n.clear_all:hover .chart_toolpanel_tip{\n    display: block !important;\n}\n.chart_container.dark .clear_all_icon{\n    background-image: url("+g+");\n}\n.chart_container.dark .clear_all_icon:hover{\n    background-color: #404040;\n}\n.chart_container.light .clear_all_icon{\n    background-image: url("+f+");\n}\n.chart_container.light .clear_all_icon:hover{\n    background-color: #eee;\n}\n\n.chart_container .symbol-title{\n    display: inline-block;\n    float: left;\n    line-height: 29px;\n    padding:0 10px;\n    font-weight: bold;\n}\n.chart_container.dark .symbol-title{\n    color:#e5e5e5;\n}\n.chart_container.light .symbol-title{\n    color:#393c40;\n}",""])},function(t,e,n){"use strict";t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=function(t,e){var n=t[1]||"",a=t[3];if(!a)return n;if(e&&"function"==typeof btoa){var r=(o=a,s=btoa(unescape(encodeURIComponent(JSON.stringify(o)))),l="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(s),"/*# ".concat(l," */")),i=a.sources.map((function(t){return"/*# sourceURL=".concat(a.sourceRoot).concat(t," */")}));return[n].concat(i).concat([r]).join("\n")}var o,s,l;return[n].join("\n")}(e,t);return e[2]?"@media ".concat(e[2],"{").concat(n,"}"):n})).join("")},e.i=function(t,n){"string"==typeof t&&(t=[[null,t,""]]);for(var a={},r=0;r<this.length;r++){var i=this[r][0];null!=i&&(a[i]=!0)}for(var o=0;o<t.length;o++){var s=t[o];null!=s[0]&&a[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="(".concat(s[2],") and (").concat(n,")")),e.push(s))}},e}},function(t,e,n){"use strict";t.exports=function(t,e){return"string"!=typeof(t=t.__esModule?t.default:t)?t:(/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),/["'() \t\n]/.test(t)||e?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t)}},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAABGdBTUEAALGPC/xhBQAAACBjSFJNAAB6JgAAgIQAAPoAAACA6AAAdTAAAOpgAAA6mAAAF3CculE8AAAACXBIWXMAAAsTAAALEwEAmpwYAAAJn2lUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS40LjAiPgogICA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPgogICAgICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgICAgICAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgICAgICAgICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOmRjPSJodHRwOi8vcHVybC5vcmcvZGMvZWxlbWVudHMvMS4xLyIKICAgICAgICAgICAgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iCiAgICAgICAgICAgIHhtbG5zOnN0RXZ0PSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VFdmVudCMiCiAgICAgICAgICAgIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIgogICAgICAgICAgICB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iCiAgICAgICAgICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyI+CiAgICAgICAgIDx0aWZmOlJlc29sdXRpb25Vbml0PjI8L3RpZmY6UmVzb2x1dGlvblVuaXQ+CiAgICAgICAgIDx0aWZmOk9yaWVudGF0aW9uPjE8L3RpZmY6T3JpZW50YXRpb24+CiAgICAgICAgIDxleGlmOlBpeGVsWERpbWVuc2lvbj42PC9leGlmOlBpeGVsWERpbWVuc2lvbj4KICAgICAgICAgPGV4aWY6Q29sb3JTcGFjZT42NTUzNTwvZXhpZjpDb2xvclNwYWNlPgogICAgICAgICA8ZXhpZjpQaXhlbFlEaW1lbnNpb24+NTwvZXhpZjpQaXhlbFlEaW1lbnNpb24+CiAgICAgICAgIDxkYzpmb3JtYXQ+aW1hZ2UvcG5nPC9kYzpmb3JtYXQ+CiAgICAgICAgIDx4bXBNTTpPcmlnaW5hbERvY3VtZW50SUQ+eG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDY8L3htcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkhpc3Rvcnk+CiAgICAgICAgICAgIDxyZGY6U2VxPgogICAgICAgICAgICAgICA8cmRmOmxpIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OnNvZnR3YXJlQWdlbnQ+QWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKTwvc3RFdnQ6c29mdHdhcmVBZ2VudD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OmNoYW5nZWQ+Lzwvc3RFdnQ6Y2hhbmdlZD4KICAgICAgICAgICAgICAgICAgPHN0RXZ0OndoZW4+MjAxNC0xMi0wM1QxNzo1Njo1MiswODowMDwvc3RFdnQ6d2hlbj4KICAgICAgICAgICAgICAgICAgPHN0RXZ0Omluc3RhbmNlSUQ+eG1wLmlpZDozNjIzYmJlYi1iNGU2LWNhNDktOTRjZi05MTIyY2Q1Y2NiZTk8L3N0RXZ0Omluc3RhbmNlSUQ+CiAgICAgICAgICAgICAgICAgIDxzdEV2dDphY3Rpb24+c2F2ZWQ8L3N0RXZ0OmFjdGlvbj4KICAgICAgICAgICAgICAgPC9yZGY6bGk+CiAgICAgICAgICAgIDwvcmRmOlNlcT4KICAgICAgICAgPC94bXBNTTpIaXN0b3J5PgogICAgICAgICA8eG1wTU06SW5zdGFuY2VJRD54bXAuaWlkOjM2MjNiYmViLWI0ZTYtY2E0OS05NGNmLTkxMjJjZDVjY2JlOTwveG1wTU06SW5zdGFuY2VJRD4KICAgICAgICAgPHhtcE1NOkRvY3VtZW50SUQ+eG1wLmRpZDo2QzE5MkVEOTY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBODwveG1wTU06RG9jdW1lbnRJRD4KICAgICAgICAgPHhtcE1NOkRlcml2ZWRGcm9tIHJkZjpwYXJzZVR5cGU9IlJlc291cmNlIj4KICAgICAgICAgICAgPHN0UmVmOmluc3RhbmNlSUQ+eG1wLmlpZDo4MzE3OTEwZi1kOTE5LTY4NDAtYWVhOS0zNzI5NWE2NGI1NmU8L3N0UmVmOmluc3RhbmNlSUQ+CiAgICAgICAgICAgIDxzdFJlZjpkb2N1bWVudElEPnhtcC5kaWQ6MWYwY2U2ZjQtZTRlNS1jODQ3LWIyOTgtNGNkNjRiYzBkYzA2PC9zdFJlZjpkb2N1bWVudElEPgogICAgICAgICA8L3htcE1NOkRlcml2ZWRGcm9tPgogICAgICAgICA8eG1wOk1ldGFkYXRhRGF0ZT4yMDE0LTEyLTAzVDE3OjU2OjUyKzA4OjAwPC94bXA6TWV0YWRhdGFEYXRlPgogICAgICAgICA8eG1wOkNyZWF0ZURhdGU+MjAxNC0xMi0wM1QxNzo1NjoyOCswODowMDwveG1wOkNyZWF0ZURhdGU+CiAgICAgICAgIDx4bXA6TW9kaWZ5RGF0ZT4yMDE0LTEyLTAzVDE3OjU2OjUyKzA4OjAwPC94bXA6TW9kaWZ5RGF0ZT4KICAgICAgICAgPHhtcDpDcmVhdG9yVG9vbD5BZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpPC94bXA6Q3JlYXRvclRvb2w+CiAgICAgICAgIDxwaG90b3Nob3A6Q29sb3JNb2RlPjM8L3Bob3Rvc2hvcDpDb2xvck1vZGU+CiAgICAgIDwvcmRmOkRlc2NyaXB0aW9uPgogICA8L3JkZjpSREY+CjwveDp4bXBtZXRhPgqC9xe+AAAAWUlEQVQIHWO8cOHCFgYGBm8gRgZbmRgZGXOBIj+QRH8wMTHlMenr69////9/J0wCxNbT07vHCBK4f/8+x8ePH6+B2Pz8/FqKioo/mEAcEAOoEmRkHogNEgMA0qYfb8X3frQAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA21pVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6M0E5Qjc0ODc3QUQ0MTFFNDhCN0ZBNEVBQTM1QTBFNjgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6M0E5Qjc0ODY3QUQ0MTFFNDhCN0ZBNEVBQTM1QTBFNjgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjM2MjNiYmViLWI0ZTYtY2E0OS05NGNmLTkxMjJjZDVjY2JlOSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDo2QzE5MkVEOTY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBOCIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PvrZrC8AAABOSURBVHjaYvz//z8DCFy8eNEbSDHq6+tvAfEZQRJAQQ4g+xoDBGgBJX8wQTkVQKwIxRVgHRcuXFCEquaAKvoBxNogHZORBBmg7EkAAQYAImEV+46peUgAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA3FpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NkMxOTJFRDk2NTdFMTFFNEFFMDJBOUZGMjQ2MkEwQTgiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NkMxOTJFRDg2NTdFMTFFNEFFMDJBOUZGMjQ2MkEwQTgiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjgzMTc5MTBmLWQ5MTktNjg0MC1hZWE5LTM3Mjk1YTY0YjU2ZSIgc3RSZWY6ZG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiLz4gPC9yZGY6RGVzY3JpcHRpb24+IDwvcmRmOlJERj4gPC94OnhtcG1ldGE+IDw/eHBhY2tldCBlbmQ9InIiPz5MkIK1AAAAPklEQVR42mJ0CUvewsDA4M2ACrYyAYlcIP6BJAhi54Ek7gNxJ5IEiH2PCcrpgCq4D2UzsCBpBxnJCDMWIMAAVuANgw9cJ2UAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAYAAAAFCAYAAABmWJ3mAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAADsMAAA7DAcdvqGQAAAAZdEVYdFNvZnR3YXJlAEFkb2JlIEltYWdlUmVhZHlxyWU8AAADcWlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4gPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iQWRvYmUgWE1QIENvcmUgNS41LWMwMTQgNzkuMTUxNDgxLCAyMDEzLzAzLzEzLTEyOjA5OjE1ICAgICAgICAiPiA8cmRmOlJERiB4bWxuczpyZGY9Imh0dHA6Ly93d3cudzMub3JnLzE5OTkvMDIvMjItcmRmLXN5bnRheC1ucyMiPiA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIgeG1wTU06T3JpZ2luYWxEb2N1bWVudElEPSJ4bXAuZGlkOjFmMGNlNmY0LWU0ZTUtYzg0Ny1iMjk4LTRjZDY0YmMwZGMwNiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo2QzE5MkVEOTY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBOCIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo2QzE5MkVEODY1N0UxMUU0QUUwMkE5RkYyNDYyQTBBOCIgeG1wOkNyZWF0b3JUb29sPSJBZG9iZSBQaG90b3Nob3AgQ0MgKFdpbmRvd3MpIj4gPHhtcE1NOkRlcml2ZWRGcm9tIHN0UmVmOmluc3RhbmNlSUQ9InhtcC5paWQ6ODMxNzkxMGYtZDkxOS02ODQwLWFlYTktMzcyOTVhNjRiNTZlIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjFmMGNlNmY0LWU0ZTUtYzg0Ny1iMjk4LTRjZDY0YmMwZGMwNiIvPiA8L3JkZjpEZXNjcmlwdGlvbj4gPC9yZGY6UkRGPiA8L3g6eG1wbWV0YT4gPD94cGFja2V0IGVuZD0iciI/PkyQgrUAAABCSURBVBhXY3QJS2aAAh8g/g/EW0EcJhABBBxAPAmIJ0PZcIkKIFaEYhAbLKEExOUgDhSA2IogCZARYO1QAGQzTAYAPbkH1E4jJr8AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6N0EwQTE5MkI4MTFEMTFFNEI4Njg4OEVFQzVGMTEyOTIiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6N0EwQTE5MkE4MTFEMTFFNEI4Njg4OEVFQzVGMTEyOTIiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjYzNEUzRUIyODExOTExRTRBNkJDQzhDODM5MEQxQTkwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjYzNEUzRUIzODExOTExRTRBNkJDQzhDODM5MEQxQTkwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+VsD84AAABMxJREFUeNrsXEloFEEU7QztBgoKkmgueogajSQRBEEQJ3jITVDUgxL1YoggHlSU6MHlKkEQ3FFREEEviogexJlTDqIxcQl60Is4oujFDVFhfN+p1kqlu7ZZMhN+w6My1f1fVXf9ev2r+6eDfD4fRMhkMpeBaXKdCalg5NYFPMpms0sDy62OWKINhtGPn8ABoC+dTud1BKmE+onAUeAOSBt8CKKtExgESafrKagb1fcB+3FKv1x68K8hYA/Qj0aafAiijUZnACRdUUVoYfQbuA8MAy+BF8BzG4LPwARgCtCLcx9wGYVXwHLgqvjd6zKMGWAZWqRunhF1a3HeC2wITtHYw/gT/UD5AMWQOG6v0Q/iNrTcI4jJvZtA+sZ1GK8AX4V773J1ZTqNLyjOi16ccD4Fp+lcmwRavYM+Zlw10XljghIQ1NFQafa3k6xr5kkH+8H48AOWtDEgGBUGuQSVYoLl5b8r6wfofqu43QcuMZJsfARYAiEZdOqBZHxINrYNMBKNjQQmYy2BjXEiga1xLIGLcVy0HhkfhPGQ7Y1FPYd2W+NCWKr4tuvcKHouhIaVCktaOQlw4etRvE95GpPHngUafVR5xFyxVST1oP+y5iPlJXVlW00cUsK7uirVRO3Vtlmx+IhL6UbBdLW1BD5qLKvyLJSnfYwjTXwHNMD4A0taBQkw7ItQbAXmWhMIo/UCLaK6L3RoeAP5ilJ30TVOpOcoPeLnMHynJeWoxrOlh1PXrZc8irhQDw4D1zhO5DiR48SaeZ5oiJvqqfQV1chjt1cmTtRNNBdZj52lJkUyx0y+EWr5I1XbmIk1kTWRCZig/ASqeyet4HTvWNKRkSDLOt0bbad56Pjkgv2ACZiACewjFJunV6MIrLRPF2AoPejgCIUJmIAJakMTVfEJZSPaCWRMrcrHO2tibA9cNVE+nv2ACaqDgPPSqjqtzHbtXPTStzRPsopZO7MncoIjE5SDALMvJ8SjMfpbEpTYurgZmHOpCzVakLOpS+xBXKtOPVBbjLsGVTSMscPjShAZCbL+omQdZOucCWLHmKdzrROY3vpp8xMtjEfnJ9omtankYdJ6UDbWkVvfXIk8akAmD6VueT1TC5OywZVzTiQPA807VhP53w3q2paguq3ADaBdt98rP1EeSufwVu2ZU4ykzT8wvWvX5h+Y3nhrc/dN+YmmiWWTn6h9F8+ayJrImlikJkbgnG3O2WZNLLUmOhrH5ycmGetmaWg7hZMEN6UTzKIfxtlqYuLOymui7VBqPZHzEz2f6vLb/zHOjCs+sc3mFanoUaYspzBOXlxn2JXZlVnSKkSAEZmB4gKwG6PxWt5ne2vbCdxWjbUxUsztblJ5XNn34qGHZDvZ650r6ueh2AfcSgqyiPgccAkXLqvUbwZWAcew72HSKGwEcorx/KDwr4nTgW1kHDsKOHAOijVAt/hNn/vaAqwUrQ7oojSasseBezjwJn43B4UPbD2h9QHqvpv8YHVQ+DbaXRhTD1YEhe/Gxa0b6LtZzfLSd6a4cPQtrE3AY9HqD7F/KorFAMWS9F+mRDAcLX1HxYrAW6BNGC0EiOgZ8JRKEH8bcQpKpugO4KMwoI+tnVS/FSc/Q4nz8W7T9/LU1bt3sitrYhD8EWAAdoU1AmCjen8AAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6NjI0MkEyMUI4MTIwMTFFNDgxNjhGRjc0RjJGMjMwQkQiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6NjI0MkEyMUE4MTIwMTFFNDgxNjhGRjc0RjJGMjMwQkQiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjZDNzdDQUY4NjU3RTExRTRBRTAyQTlGRjI0NjJBMEE4IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjZDNzdDQUY5NjU3RTExRTRBRTAyQTlGRjI0NjJBMEE4Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+s3AxtQAABPZJREFUeNrsXE1oHkUYnvkYq0IFC5ImubRI1WolSUEoFIqWHnIr6KqHStWLtaceJFhyUryG4ElKf8RaKELNYkFETyYXPYhNW3+CHtqL+NX+XdoKxQrTZ3bny7ffdv43+Wziu/BssrP7Pjs7M++z7+683zIpJVvEDDsBPNJT5kGL9S57gTMs58+xwKVlKHsC+A4kEwBPIVDLGmAK+Bok61MIOss4cA4k46kEahnUNZkCHkghUItqiwnge5BsSiHoLKp35kGyt1MgAoz+Bb4FFoDfgd+AX0MIbgDqmh8GJlkm52Ma8QKwHfhMb0/G9MIssA1nVNU8rMtewnU/FUJwqOj7TF4vtjL5A9bn9XHvGrtHOYRzyfl+TfwPsAmkf8R240nglh7e79R3+rsxkzdRi481wUfxl5DojauGIOez//s2WBEEHLcyV1eNFbJu95Od7nsfyGPvjdSN/804IElrTCCiLXIum9cgk7xA/8dBzkf07T6hDUrjD4CtqH5XZIKC6hk2ApwGxur7Ghn7CTzGboIAYztBoLGZIML4XoKu8WjoI4+oj+3iZpLJ88HjA2eTlRrImAeuJbmxCJOLkqgutyZ29WEA68utRGMlLkeAYRY7cOq+IlKkvEfWAs9qHe596IWywazDXSRJeY87N9REEdzaVkEJbO1lFpSA1vYpUqe14wRVi+pgrJTXe+ESsB5nvkKa2E9NzPkzWL8JbBSRRq9obNGl0zE1eBV4r1b2SWycqN7m7NdbCxg7W1qRUj5UeTn1eXgjdn3l/UIfcv4X/j8VpsoUJ1KcSHHi/U5QxomsWZyY86HGcWIj4zgCi5f6ojR/zJQaofYhUg2MmURyhGptA9JE0kQioGjdJ6j6Jey9Q9k+x/LColFJNhf77Bzk5rH3BfJGIiACInBoYqD2uUW1qn0BKQNuVVaT0RShEAEREMHK0MTa8WmaWDk+XhONNYjVxMrxpIlEsBIIKD+xPwR2PQjUypZX+zwiu8yTdSFaSRmSlOBIBMvhjTlvax0YXvy/qw3mMoMHtmPKXK8D2yFlwiNpw9ZtTeZTpLazDe4LXxDGxqlfe9A46BgpspzPNJP1TL4cT2Dqd1KkFU+gpgxzfhoYs+wfULf/ltW4mndi3l/kJwpHMLHVYdwhvyRsz4M9xg7y8EasBlwV8mpeWtI7NeGdoPWRO+dYg3JxUo31/l53TunK6JmdWs3ifMEwQsPzE23DO2jG25m778tP9OZkqcaaYQOOgNs5F0+qTJpImthUE43ORDnblLNNmpisicmRifl3LLYzO7xUBLuwRXBbLsFs/jIuwEtFYFjj+B1LQ02knG1G+YmMMuOW5O2+CE4bsRzXeIJiFYwDEZt7syrbgIYySVrfCHK+DvgCeDy1BgeAr9CVF9OHMmMP+h+6ljzd2N0uyvahtDnXnKtPoh0EvhQO9uPAp2i4uVr568Au4EPs+9HWC3uAds34SVb+NPFR4C1lbO6FnG/A+kVgn95Wn/t6A3hen3XePg7KT7xNFNXP5FVsb9ZnXQu8bfpeWL0Gu1n5bbRvYKxqsAOYtjx0qM9ebe7qQc4fw/ooK7+F9RpwtngqyeRtvV/V4llAxc/qV6aKYKEkMMWKjP0JjGqjpwFF9Avwc/E3k393Fal8iKhmyR8DrmmDn5j6yFom79hE1TTG98EgSOvMlxCR7EqiythdAQYAbEvqZUahHBUAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABC0lEQVQ4T7WTYVEDMRSEv1VAJYCDOmgdgAPAASigKGhx0CoACcUBEsDBVcFj9ibpvF6TDn/IzM0kL9l9t5usImIFvHA6niVtcikinoB1qg3AmyIiSnEslPle0n5CsAT8eZjsChgqwaEUtpIeJ39zsoyILXAPjJhK8Apcl40uSQLvgG9LPxJIWqUDZyQZLOmhemcC6/mqmlskU7A1RYT9mKultwDuLEvSEBE2+MOdp+ebBKXDzOBLhnrvfwiKhFvgJkl4b13xJRN3VXPH2Dmw6F3jEVw9mJLka/RTzg/pDNwiAX7yQ7LbM6ALbpCMGEvwZAwGUBP42QnTIoXJDQ8mcJxrumqjv8TZYdr8Ai/uwaXkPGIcAAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEI1Q0Q4QzI4MTIxMTFFNEFGNzk4NUQxNjVEMjU2RTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEI1Q0Q4QzE4MTIxMTFFNEFGNzk4NUQxNjVEMjU2RTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwNTdERDc2N0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwNTdERDc3N0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+R+XfywAABNVJREFUeNrsXEloFEEU7QztBgoKkmgueogajSQRBFEMJnjITVDUgxL1YogXDypK9OBylSAI4r6CCOpBEdGDOAEhB9GYuIR40Is4QdGLG6LC+H6mWsua7lq6Z8aZ8Bsela7u/7q669ebX10/7WWzWS/A0uWtl4Apcp0JKe/frQN4vKylbbFnuVURS7DBMNj5AewDevoepLM6glRE/XjgMHAHpDVxCIKtHRgASbvrLagb1fcAe3FLP11a8OdCwC6gDxepi0MQbNQ7/SDpCCp8C6NfwH1gCHgJDAMvbAg+AeOASUA37r3fpRde0TMFroj9bpduTANLcEVq5klRtwb3Pc+G4Dj1PYw/0g7KhygGxXm7jX4QtuHKXYKY3LsOpG9cu/Ey8EW49w5XV6bb+IzirGjFMedbcBrOlUmg1TvoY9pVE503JigAQRV1leZ4M8m6Zpy0sR+MDT9gSUtO4Lsa5IVBLkGlGGBZ+e/S+gGa3yh+7t2fgTA+BCyCkAw4tUAyPiAb2wYYkcZGApOxlsDGOJLA1jiUwMU4LFoPjPfDeND2h0W9h2Zb49FN9W3XsZF4LPiGmQprYjE0UXK6ahTvUjGNyWNPAbV+TONgrIzYKpJ60l9ZiyPlBXVlW00cVMK7qjLVRO3TtpmxxBGXwvWC6WlrCeKosazKM1CeiGMcDOcRoAbG71kTS6iJ6PYFKLYAs61bIIzWCTSI6h6XFqwnX1HqzrvGifQepUvsDsF3GlKOajxTejl1zXrKo4gLteAgcJXjRI4TOU6smPeJhripmspYLZA8dltp4kTdQHOR9dBRalIkc8wUN0ItfqRqGzOxJrImMgETFJ9Ade+oGZxujaU1MBJkvU6/jbbD3Hd8c8F+wARMwAT2EYrN26s8Aivts32HMroYzREKEzABE1SEJqri48tGdBBIm64qn++siaEtcNVE+Xz2AyYoDwLOSyvrtDLbuXPiqW9h3mQlmTuzJ3KCIxMUgwCjLyPEozb4WxKU0LqwEZhxqfM1WpCxqYtsQdhVnVqgXjHsGZRRN4Z2j6sqB0ZEBlxPJOsgW+tMENrHPJwrhEA3nLWrftr8RAvj/PxE26Q2dd3Zj5oPysY6cusfVyIPLiCT+1KzYr1T86OywZV7jiT3Pc0aq4l8dIO6NkWobiNwA2jWHY+Vnyh3pXN4q7bMKUbS5h+Y1tq1+QemFW9t7r4pP9E0sGzyE7Vr8ayJrImsiQk1MQDnbHPONmtioTXR0Tg8PzHKWDdKfdshHCW4KZ1gJn4ZZ6uJkQdLr4m2Xal1Zc5PjDmcefX/P2fGJU9ss1kiFS1KF+UWxsjCdZpdmV2ZJa1EBOiRaSjOATvRG6/lY7Y/bduB26qxKVJVmzahOK4c9+GhhWQ7MdaaK+rnoNgD3PI17BeAi3hwvUr9JmAlcATHHkX1wgYgoxjP9XL/mjgV2ErGob2AE2ehWA10in363NdmYIW4ar8uSqMhexS4hxNvYr/ey31g6ynND1D3zeQHq7zct9Huwpha0OLlvhsXNm+g72bVy1Pf6ShOe7lvYW0EnoirfhfHJ6NYCFAsSf9lSgRDwdQ3L1YE3gJNwmg+QETPgWdUgvirPHdWM0XPAB+EAd3/sPqtOPkdSpiPd5q+l6fO3mMnu7Imet5vAQYAtaODAARZxFkAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAFACAYAAAC1CvwiAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAA2lpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOk9yaWdpbmFsRG9jdW1lbnRJRD0ieG1wLmRpZDoxZjBjZTZmNC1lNGU1LWM4NDctYjI5OC00Y2Q2NGJjMGRjMDYiIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6OEY5QjlCQTA4MTIyMTFFNEIwQUVBMkM3NjgwODE3OTYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6OEY5QjlCOUY4MTIyMTFFNEIwQUVBMkM3NjgwODE3OTYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkMwNTdERDdBN0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkMwNTdERDdCN0U4RDExRTRCOUQ1Q0FDNDRFM0JBN0QwIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+2tcnMAAABOxJREFUeNrsXDtoFUEU3SzjDwwoiNE0WsS/aAQ/IIiKRTpBUQvBT+MPxEKDEhs1hU0IVvEHahREUAtBRCu10UI0RtSghTbiE39NoiAqPM9NZnWzmZm9My/vaeIdOGx2svfs7Myds3d37tuoWCxGCbqbFl0AqtN1eYij/mUT8Kjn4OKFEbPEhrppwD2QNAJVIQRURgItwE2Q1IQQJKUB6ARJQygBlUm6JS3AiBACKtQXjcB9kNSFECSFRqcDJJuSCsUw+gncBrqAl8AL4DmHoBugax4DNFUffdDh04mvgKXAJb3f5DMKd4AlOCM185SuW4vrnsEhOEFjD+PPtIPtA2ye6OP2G4eHJoSr4Mw7NfF3oA6kb3yH8SLwRbv3Xm9Hwhl7sDmjW9HmfQmhs3G4EGAI7/zvfTA0CKpwK3MNVT3JumOerHTe94jc994ow/hX/EAkrXQC5WsAnSyW3ALMwipC5f0AzZ+nb/f+faCNm4EFaH6nVx+kjA+njVkELmPOrc1p7CTgGFsJuMZGAh/jAcOYMj4E4yfcG0vWk+q5xn0BMQhSN5KizwPXoNxYlGmKiqiWWRNTTjcRm/dxoDF57GmgNg40TubKO8U0yo71H1njuKvL3cs/Cvqare6uQqR8UDVRsXvbVri9XV5B4fR2niIlHeYnqFqV6SXLSR8pz7bgHVAD4w+iiRXURAz7bGy2AlOVp9F6jTm6utWnBRvIVzJ153zjRHqPslPvdsF35sQexuTuk1Mvp66ExonUgiPAZe6LKIkTJU6UOPGfJtBxYlgnpjx2V8lxYlyCcadXH9hmaV6Ulh8zhUao5Y9UuTGTCo1QRRNFE4VACHwUqZ+LJi9hTdPZtsayIjHSZHdzn1xDnmJ97wsyG4VACISAH6HYtM8pqmnt46QMOFW5dzFaIhQhEAIh+CtxIjcetAVeQZqYPt5bE40t8NXE9PGiiUIwBAgkP7FScaJND7haGedpX57IlnexjqWVkiEpCY5CUIbZiNlX0DpQm/yd0gZjnWkGFnzqXK8DC5w6lSNptbb9hCxPkQquPvg35oIydU722ll+kBgRGXC1JFkH2TpvAlMPiyINSUHJTCTnqp8zP5Fh/Ds/UTmCiQUOY3N+Yvp5MG3sImd3YjrgGrDuHJrUljw7OxdoOfmJ1jVWzuqvYhi7hrK533QOGUrvlR3UzwOuAfXecaLpstj5ic78g7z8RFeH5uYn5o0GJz/RuRYvqiyaKJqoC2bjfI7y2BCkidZnZ8nZlpzt/1gT40BjsybajF2zVHGnsE1wY5dglvwyjquJnLCmQprIHUqnK0t+YvgLCFn9L5MmVubtvuKmjdiOK3mBYhj4gfLNvRmOfSCuLJIWVeq3fRiR8dicBfZhNF6HtGAPcCNr7OXKKKNyH7oGPd04p1/IdnTQmivq6ZNoB4DrysHeDpxHx93N1G8GVgHH8L+HtlHYCBQyxtOjvp8mjgO2kbFxFHDgFGzWANv1Pn3uawuwXJ+1w+oH+hNv9Fmzdhz4Efsz9VnHAjtM3wvLtmB11PdttFswphYsA1otzw303ayZ6UffCVHfT0/b9IPoY32t3/T/qRVzAYol6VemRNDVKyiG4aKPCr0F5mujWQARPQOe0hbEX/tdQiZLfjfwSRvQx9aO4/8/bKJq8vHtMGBpnfESfJJdRVSj6JcAAwDMequ4kXXO2QAAAABJRU5ErkJggg=="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAABKElEQVQ4T7VTwU0DMRCcrYArwby9j3QQOoAOgA5CBYQKCB0kFUAJoQMe9v/o4JD8X7SWfVo5vhMfLJ1krT3jm9kdYuY9gGeYJSJPMcaDrXnvd0T0amoTgDdiZinFXCj7cwjhbAmY+QaAfrp2AK4ATJXgRwsicowxPlpgu/feH4noHkDGVIIXEXF6sEZSwSJyIqJRpc8EIYS9uXDxJxYcY3yo3lEx56tq7pG0YJWlnojIhnp6C+AupeTGcZyYeRKRD325vd8l0EvOuUHBa4bq2f8QFAm3KaVrI+G91+I1E09V84KxGyLaLrVxBlcPWpK5jWWU7SBdgHskRPRtB0ndHnTCeq1qQlVHOWNUgm5yMADUBH4uhGlrwjRoHpRA41zTlc//GGcN0+EXyGXo9iBlz1cAAAAASUVORK5CYII="},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3klEQVQ4T62TPQrCQBCF3waCpZVeI5DMHMXCFFrrCZJOKwWx1Ubs1MabZAjkGnqFkJUVIysmJBK3nJ9vZt7sKHR8qmM+/gtI03RQFMWEiLZVnYlI5Lru0fO8W+n/6EBEQgAnAGsiim2IiKwARFrrkJkvlQBjFJEZgJ3WesnMi5ftmQxgTkR7G1ypQQkBYLro1yUbUK2IFsTEfVWuHaF0dALYOiilej+NYFV+b6LcQKOISZKMlVLnhjWOmPlaqUGWZcM8z6dBEGxqPlLsOM7B9/17o4htb+S/t9C2qh33AOKBYhHSYIk9AAAAAElFTkSuQmCC"},function(t,e){t.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAA3ElEQVQ4T62TPQrCQBCF3y4BSys9RmCZs1iYQms9QdJppSC22oid2niV2YEcQ48Q2EjEyIoJicQt5+ebmTc7Ch2f6piP/wKMMQOt9YSZt1WdEVGcZdkxTdNb6f/ogIgiACcAa2ZOfAgRrQDEzrlIRC6VgMJIRDMAuzzPl9baxcv2TAYwZ+a9D67UoIQAKLro1yUXoFoRPUgR91W5doTS0Qng66CU6v00glf5vYlyA40iGmPGWutzwxpHInKt1CAMw2EQBFNr7abmIyXOuYOI3BtFbHsj/72FtlX9uAer52IR8HRvCwAAAABJRU5ErkJggg=="},function(t,e,n){"use strict";var a,r={},i=function(){return void 0===a&&(a=Boolean(window&&document&&document.all&&!window.atob)),a},o=function(){var t={};return function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}t[e]=n}return t[e]}}();function s(t,e){for(var n=[],a={},r=0;r<t.length;r++){var i=t[r],o=e.base?i[0]+e.base:i[0],s={css:i[1],media:i[2],sourceMap:i[3]};a[o]?a[o].parts.push(s):n.push(a[o]={id:o,parts:[s]})}return n}function l(t,e){for(var n=0;n<t.length;n++){var a=t[n],i=r[a.id],o=0;if(i){for(i.refs++;o<i.parts.length;o++)i.parts[o](a.parts[o]);for(;o<a.parts.length;o++)i.parts.push(p(a.parts[o],e))}else{for(var s=[];o<a.parts.length;o++)s.push(p(a.parts[o],e));r[a.id]={id:a.id,refs:1,parts:s}}}}function c(t){var e=document.createElement("style");if(void 0===t.attributes.nonce){var a=n.nc;a&&(t.attributes.nonce=a)}if(Object.keys(t.attributes).forEach((function(n){e.setAttribute(n,t.attributes[n])})),"function"==typeof t.insert)t.insert(e);else{var r=o(t.insert||"head");if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");r.appendChild(e)}return e}var h,u=(h=[],function(t,e){return h[t]=e,h.filter(Boolean).join("\n")});function _(t,e,n,a){var r=n?"":a.css;if(t.styleSheet)t.styleSheet.cssText=u(e,r);else{var i=document.createTextNode(r),o=t.childNodes;o[e]&&t.removeChild(o[e]),o.length?t.insertBefore(i,o[e]):t.appendChild(i)}}function d(t,e,n){var a=n.css,r=n.media,i=n.sourceMap;if(r&&t.setAttribute("media",r),i&&btoa&&(a+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),t.styleSheet)t.styleSheet.cssText=a;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(a))}}var g=null,f=0;function p(t,e){var n,a,r;if(e.singleton){var i=f++;n=g||(g=c(e)),a=_.bind(null,n,i,!1),r=_.bind(null,n,i,!0)}else n=c(e),a=d.bind(null,n,e),r=function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(n)};return a(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;a(t=e)}else r()}}t.exports=function(t,e){(e=e||{}).attributes="object"==typeof e.attributes?e.attributes:{},e.singleton||"boolean"==typeof e.singleton||(e.singleton=i());var n=s(t,e);return l(n,e),function(t){for(var a=[],i=0;i<n.length;i++){var o=n[i],c=r[o.id];c&&(c.refs--,a.push(c))}t&&l(s(t,e),e);for(var h=0;h<a.length;h++){var u=a[h];if(0===u.refs){for(var _=0;_<u.parts.length;_++)u.parts[_]();delete r[u.id]}}}}}])}));
//# sourceMappingURL=kline.js.map